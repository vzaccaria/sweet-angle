/* gss-engine - version 1.0.0beta (2014-03-21) - http://gridstylesheets.org */
!function(){function require(a,b,c){var d=require.resolve(a);if(null==d){c=c||a,b=b||"root";var e=new Error('Failed to require "'+c+'" from "'+b+'"');throw e.path=c,e.parent=b,e.require=!0,e}var f=require.modules[d];if(!f._resolving&&!f.exports){var g={};g.exports={},g.client=g.component=!0,f._resolving=!0,f.call(this,g.exports,require.relative(d),g),delete f._resolving,f.exports=g.exports}return f.exports}require.modules={},require.aliases={},require.resolve=function(a){"/"===a.charAt(0)&&(a=a.slice(1));for(var b=[a,a+".js",a+".json",a+"/index.js",a+"/index.json"],c=0;c<b.length;c++){var a=b[c];if(require.modules.hasOwnProperty(a))return a;if(require.aliases.hasOwnProperty(a))return require.aliases[a]}},require.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},require.register=function(a,b){require.modules[a]=b},require.alias=function(a,b){if(!require.modules.hasOwnProperty(a))throw new Error('Failed to alias "'+a+'", it does not exist');require.aliases[b]=a},require.relative=function(a){function b(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function c(b){var d=c.resolve(b);return require(d,a,b)}var d=require.normalize(a,"..");return c.resolve=function(c){var e=c.charAt(0);if("/"==e)return c.slice(1);if("."==e)return require.normalize(d,c);var f=a.split("/"),g=b(f,"deps")+1;return g||(g=0),c=f.slice(0,g+1).join("/")+"/deps/"+c},c.exists=function(a){return require.modules.hasOwnProperty(c.resolve(a))},c},require.register("the-gss-preparser/lib/gss-preparser.js",function(a,b,c){c.exports=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){Q>O||(O>Q&&(Q=O,R=[]),R.push(a))}function e(){var a,b,c,d,e,g;for(e=O,g=O,a=[],b=H();null!==b;)a.push(b),b=H();if(null!==a){if(c=f(),null!==c)for(b=[];null!==c;)b.push(c),c=f();else b=null;if(null!==b){for(c=[],d=H();null!==d;)c.push(d),d=H();null!==c?a=[a,b,c]:(a=null,O=g)}else a=null,O=g}else a=null,O=g;return null!==a&&(a=function(a,b){return b}(e,a[1])),null===a&&(O=e),null===a&&(a=x()),a}function f(){var a;return P++,a=p(),null===a&&(a=i(),null===a&&(a=q(),null===a&&(a=l()))),P--,0===P&&null===a&&d("Statement"),a}function g(){var a;return P++,a=p(),null===a&&(a=i(),null===a&&(a=q(),null===a&&(a=k(),null===a&&(a=l())))),P--,0===P&&null===a&&d("Nested Statement"),a}function h(){var a,b,c,d,e,f;for(e=O,f=O,a=[],b=H();null!==b;)a.push(b),b=H();if(null!==a){for(b=[],c=g();null!==c;)b.push(c),c=g();if(null!==b){for(c=[],d=H();null!==d;)c.push(d),d=H();null!==c?a=[a,b,c]:(a=null,O=f)}else a=null,O=f}else a=null,O=f;return null!==a&&(a=function(a,b){return b}(e,a[1])),null===a&&(O=e),null===a&&(a=x()),a}function i(){var a,c,e,f,g,h,i,k,l,m,n;if(P++,m=O,n=O,a=x(),null!==a){if(e=A(),null!==e)for(c=[];null!==e;)c.push(e),e=A();else c=null;null!==c?(e=x(),null!==e?(f=j(),null!==f?(g=D(),null!==g?a=[a,c,e,f,g]:(a=null,O=n)):(a=null,O=n)):(a=null,O=n)):(a=null,O=n)}else a=null,O=n;if(null!==a&&(a=function(a,b){return{type:"constraint",cssText:L.stringify(b)}}(m,a)),null===a&&(O=m),null===a&&(m=O,n=O,a=x(),null!==a?(64===b.charCodeAt(O)?(c="@",O++):(c=null,0===P&&d('"@"')),null!==c?("-gss-"===b.substr(O,5)?(e="-gss-",O+=5):(e=null,0===P&&d('"-gss-"')),e=null!==e?e:"",null!==e?("stay"===b.substr(O,4)?(f="stay",O+=4):(f=null,0===P&&d('"stay"')),null!==f?(g=D(),null!==g?a=[a,c,e,f,g]:(a=null,O=n)):(a=null,O=n)):(a=null,O=n)):(a=null,O=n)):(a=null,O=n),null!==a&&(a=function(a,b){return{type:"constraint",cssText:L.stringify(b)}}(m,a)),null===a&&(O=m),null===a&&(m=O,n=O,a=x(),null!==a?(64===b.charCodeAt(O)?(c="@",O++):(c=null,0===P&&d('"@"')),null!==c?("-gss-"===b.substr(O,5)?(e="-gss-",O+=5):(e=null,0===P&&d('"-gss-"')),e=null!==e?e:"",null!==e?("chain"===b.substr(O,5)?(f="chain",O+=5):(f=null,0===P&&d('"chain"')),null!==f?(g=D(),null!==g?a=[a,c,e,f,g]:(a=null,O=n)):(a=null,O=n)):(a=null,O=n)):(a=null,O=n)):(a=null,O=n),null!==a&&(a=function(a,b){return{type:"constraint",cssText:L.stringify(b)}}(m,a)),null===a&&(O=m),null===a))){if(m=O,n=O,a=x(),null!==a)if(64===b.charCodeAt(O)?(c="@",O++):(c=null,0===P&&d('"@"')),null!==c)if("-gss-"===b.substr(O,5)?(e="-gss-",O+=5):(e=null,0===P&&d('"-gss-"')),e=null!==e?e:"",null!==e)if("for-each"===b.substr(O,8)?(f="for-each",O+=8):(f=null,0===P&&d('"for-each"')),null===f&&("for-all"===b.substr(O,7)?(f="for-all",O+=7):(f=null,0===P&&d('"for-all"'))),null!==f){if(/^[^`]/.test(b.charAt(O))?(h=b.charAt(O),O++):(h=null,0===P&&d("[^`]")),null!==h)for(g=[];null!==h;)g.push(h),/^[^`]/.test(b.charAt(O))?(h=b.charAt(O),O++):(h=null,0===P&&d("[^`]"));else g=null;if(null!==g)if("```"===b.substr(O,3)?(h="```",O+=3):(h=null,0===P&&d('"```"')),null!==h){if(/^[^`]/.test(b.charAt(O))?(k=b.charAt(O),O++):(k=null,0===P&&d("[^`]")),null!==k)for(i=[];null!==k;)i.push(k),/^[^`]/.test(b.charAt(O))?(k=b.charAt(O),O++):(k=null,0===P&&d("[^`]"));else i=null;null!==i?("```"===b.substr(O,3)?(k="```",O+=3):(k=null,0===P&&d('"```"')),null!==k?(l=D(),null!==l?a=[a,c,e,f,g,h,i,k,l]:(a=null,O=n)):(a=null,O=n)):(a=null,O=n)}else a=null,O=n;else a=null,O=n}else a=null,O=n;else a=null,O=n;else a=null,O=n;else a=null,O=n;null!==a&&(a=function(a,b){return{type:"constraint",cssText:L.stringify(b)}}(m,a)),null===a&&(O=m)}return P--,0===P&&null===a&&d("CCSS"),a}function j(){var a;return">="===b.substr(O,2)?(a=">=",O+=2):(a=null,0===P&&d('">="')),null===a&&("=="===b.substr(O,2)?(a="==",O+=2):(a=null,0===P&&d('"=="')),null===a&&("<="===b.substr(O,2)?(a="<=",O+=2):(a=null,0===P&&d('"<="')),null===a&&("=>"===b.substr(O,2)?(a="=>",O+=2):(a=null,0===P&&d('"=>"')),null===a&&("=<"===b.substr(O,2)?(a="=<",O+=2):(a=null,0===P&&d('"=<"')))))),a}function k(){var a,c,e,f,g,h,i,k;if(P++,i=O,k=O,a=x(),null!==a){if(/^[a-zA-Z0-9\-_$]/.test(b.charAt(O))?(e=b.charAt(O),O++):(e=null,0===P&&d("[a-zA-Z0-9\\-_$]")),null!==e)for(c=[];null!==e;)c.push(e),/^[a-zA-Z0-9\-_$]/.test(b.charAt(O))?(e=b.charAt(O),O++):(e=null,0===P&&d("[a-zA-Z0-9\\-_$]"));else c=null;null!==c?(58===b.charCodeAt(O)?(e=":",O++):(e=null,0===P&&d('":"')),null!==e?(f=x(),null!==f?(g=j(),null!==g?(h=D(),null!==h?a=[a,c,e,f,g,h]:(a=null,O=k)):(a=null,O=k)):(a=null,O=k)):(a=null,O=k)):(a=null,O=k)}else a=null,O=k;return null!==a&&(a=function(a,b,c,d){return{type:"constraint",cssText:"::["+L.trim(b)+"]"+" "+c+" "+L.stringify(d)}}(i,a[1],a[4],a[5])),null===a&&(O=i),P--,0===P&&null===a&&d("Contextual CCSS Statement"),a}function l(){var a,b,c,e,f;return P++,e=O,f=O,a=x(),null!==a?(b=E(),null!==b?(c=F(),null!==c?a=[a,b,c]:(a=null,O=f)):(a=null,O=f)):(a=null,O=f),null!==a&&(a=function(a,b,c){return{type:"style",key:b,val:c}}(e,a[1],a[2])),null===a&&(O=e),P--,0===P&&null===a&&d("CSS Line"),a}function m(){var a,c,e,f,g,h;return g=O,h=O,a=x(),null!==a?("@-gss-"===b.substr(O,6)?(c="@-gss-",O+=6):(c=null,0===P&&d('"@-gss-"')),null===c&&(64===b.charCodeAt(O)?(c="@",O++):(c=null,0===P&&d('"@"'))),null!==c?("horizontal"===b.substr(O,10)?(e="horizontal",O+=10):(e=null,0===P&&d('"horizontal"')),null===e&&("vertical"===b.substr(O,8)?(e="vertical",O+=8):(e=null,0===P&&d('"vertical"')),null===e&&(104===b.charCodeAt(O)?(e="h",O++):(e=null,0===P&&d('"h"')),null===e&&(118===b.charCodeAt(O)?(e="v",O++):(e=null,0===P&&d('"v"'))))),null!==e?(f=D(),null!==f?a=[a,c,e,f]:(a=null,O=h)):(a=null,O=h)):(a=null,O=h)):(a=null,O=h),null!==a&&(a=function(a,b){return["vfl",M.stringify(b)]}(g,a)),null===a&&(O=g),a}function n(){var a,c,e,f,g,h;return g=O,h=O,a=x(),null!==a?("@-gss-"===b.substr(O,6)?(c="@-gss-",O+=6):(c=null,0===P&&d('"@-gss-"')),null!==c?("layout"===b.substr(O,6)?(e="layout",O+=6):(e=null,0===P&&d('"layout"')),null===e&&("template"===b.substr(O,8)?(e="template",O+=8):(e=null,0===P&&d('"template"'))),null!==e?(f=C(),null!==f?a=[a,c,e,f]:(a=null,O=h)):(a=null,O=h)):(a=null,O=h)):(a=null,O=h),null!==a&&(a=function(a,b){return["gtl",M.stringify(b)]}(g,a)),null===a&&(O=g),a}function o(){var a,b,c,d;if(c=O,d=O,b=B(),null!==b)for(a=[];null!==b;)a.push(b),b=B();else a=null;return null!==a?(b=C(),null!==b?a=[a,b]:(a=null,O=d)):(a=null,O=d),null!==a&&(a=function(a,b){return["css",M.stringify(b)]}(c,a)),null===a&&(O=c),a}function p(){var a,b,c,e,f;return P++,e=O,f=O,a=x(),null!==a?(b=t(),null!==b?(c=s(),null!==c?a=[a,b,c]:(a=null,O=f)):(a=null,O=f)):(a=null,O=f),null!==a&&(a=function(a,b,c){return{type:"ruleset",selectors:b,rules:c}}(e,a[1],a[2])),null===a&&(O=e),P--,0===P&&null===a&&d("Ruleset"),a}function q(){var a,c,e,f,g;if(P++,f=O,g=O,a=r(),null!==a){for(c=[],/^[^@{};]/.test(b.charAt(O))?(e=b.charAt(O),O++):(e=null,0===P&&d("[^@{};]"));null!==e;)c.push(e),/^[^@{};]/.test(b.charAt(O))?(e=b.charAt(O),O++):(e=null,0===P&&d("[^@{};]"));null!==c?(e=s(),null!==e?a=[a,c,e]:(a=null,O=g)):(a=null,O=g)}else a=null,O=g;return null!==a&&(a=function(a,b,c,d){var e;return e={type:"directive",name:L.trim(b),terms:L.trim(c)},d&&(e.rules=d),e}(f,a[0],a[1],a[2])),null===a&&(O=f),null===a&&(f=O,g=O,a=r(),null!==a?(c=F(),null!==c?a=[a,c]:(a=null,O=g)):(a=null,O=g),null!==a&&(a=function(a,b,c){var d;return d={type:"directive",name:L.trim(b),terms:L.trim(c)}}(f,a[0],a[1])),null===a&&(O=f)),P--,0===P&&null===a&&d("Directive"),a}function r(){var a,c,e,f,g,h;if(P++,g=O,h=O,a=x(),null!==a)if(64===b.charCodeAt(O)?(c="@",O++):(c=null,0===P&&d('"@"')),null!==c){if(/^[a-zA-Z0-9\-_$]/.test(b.charAt(O))?(f=b.charAt(O),O++):(f=null,0===P&&d("[a-zA-Z0-9\\-_$]")),null!==f)for(e=[];null!==f;)e.push(f),/^[a-zA-Z0-9\-_$]/.test(b.charAt(O))?(f=b.charAt(O),O++):(f=null,0===P&&d("[a-zA-Z0-9\\-_$]"));else e=null;null!==e?a=[a,c,e]:(a=null,O=h)}else a=null,O=h;else a=null,O=h;return null!==a&&(a=function(a,b){return L.trim(b)}(g,a[2])),null===a&&(O=g),P--,0===P&&null===a&&d("Directive Name"),a}function s(){var a,c,e,f,g,i,j,k,l,m,n;if(P++,m=O,n=O,a=x(),null!==a)if(123===b.charCodeAt(O)?(c="{",O++):(c=null,0===P&&d('"{"')),null!==c)if(e=x(),null!==e)if(f=h(),null!==f)if(g=x(),null!==g)if(125===b.charCodeAt(O)?(i="}",O++):(i=null,0===P&&d('"}"')),null!==i)if(j=x(),null!==j){for(k=[],l=H();null!==l;)k.push(l),l=H();null!==k?a=[a,c,e,f,g,i,j,k]:(a=null,O=n)}else a=null,O=n;else a=null,O=n;else a=null,O=n;else a=null,O=n;else a=null,O=n;else a=null,O=n;else a=null,O=n;return null!==a&&(a=function(a,b){return b}(m,a[3])),null===a&&(O=m),P--,0===P&&null===a&&d("Statement Blocks"),a}function t(){var a,b,c,e,f;if(P++,e=O,f=O,a=v(),null!==a){for(b=[],c=u();null!==c;)b.push(c),c=u();null!==b?a=[a,b]:(a=null,O=f)}else a=null,O=f;return null!==a&&(a=function(a,b,c){return[b].concat(c)}(e,a[0],a[1])),null===a&&(O=e),P--,0===P&&null===a&&d("SelectorList"),a}function u(){var a,c,e,f,g;return f=O,g=O,a=x(),null!==a?(44===b.charCodeAt(O)?(c=",",O++):(c=null,0===P&&d('","')),null!==c?(e=v(),null!==e?a=[a,c,e]:(a=null,O=g)):(a=null,O=g)):(a=null,O=g),null!==a&&(a=function(a,b){return b}(f,a[2])),null===a&&(O=f),a}function v(){var a,c,e,f,g;if(P++,f=O,g=O,a=x(),null!==a){if(/^[^@{},;]/.test(b.charAt(O))?(e=b.charAt(O),O++):(e=null,0===P&&d("[^@{},;]")),null!==e)for(c=[];null!==e;)c.push(e),/^[^@{},;]/.test(b.charAt(O))?(e=b.charAt(O),O++):(e=null,0===P&&d("[^@{},;]"));else c=null;null!==c?(e=x(),null!==e?a=[a,c,e]:(a=null,O=g)):(a=null,O=g)}else a=null,O=g;return null!==a&&(a=function(a,b){return b.join("").trim()}(f,a[1])),null===a&&(O=f),P--,0===P&&null===a&&d("Selector"),a}function w(){var a,c,e,f,g,h,i,j,k,l,m,n;if(P++,l=O,m=O,a=x(),null!==a)if("/*"===b.substr(O,2)?(c="/*",O+=2):(c=null,0===P&&d('"/*"')),null!==c){for(e=[],/^[^*]/.test(b.charAt(O))?(f=b.charAt(O),O++):(f=null,0===P&&d("[^*]"));null!==f;)e.push(f),/^[^*]/.test(b.charAt(O))?(f=b.charAt(O),O++):(f=null,0===P&&d("[^*]"));if(null!==e){if(42===b.charCodeAt(O)?(g="*",O++):(g=null,0===P&&d('"*"')),null!==g)for(f=[];null!==g;)f.push(g),42===b.charCodeAt(O)?(g="*",O++):(g=null,0===P&&d('"*"'));else f=null;if(null!==f){if(g=[],n=O,/^[^\/*]/.test(b.charAt(O))?(h=b.charAt(O),O++):(h=null,0===P&&d("[^\\/*]")),null!==h){for(i=[],/^[^*]/.test(b.charAt(O))?(j=b.charAt(O),O++):(j=null,0===P&&d("[^*]"));null!==j;)i.push(j),/^[^*]/.test(b.charAt(O))?(j=b.charAt(O),O++):(j=null,0===P&&d("[^*]"));if(null!==i){if(42===b.charCodeAt(O)?(k="*",O++):(k=null,0===P&&d('"*"')),null!==k)for(j=[];null!==k;)j.push(k),42===b.charCodeAt(O)?(k="*",O++):(k=null,0===P&&d('"*"'));else j=null;null!==j?h=[h,i,j]:(h=null,O=n)}else h=null,O=n}else h=null,O=n;for(;null!==h;)if(g.push(h),n=O,/^[^\/*]/.test(b.charAt(O))?(h=b.charAt(O),O++):(h=null,0===P&&d("[^\\/*]")),null!==h){for(i=[],/^[^*]/.test(b.charAt(O))?(j=b.charAt(O),O++):(j=null,0===P&&d("[^*]"));null!==j;)i.push(j),/^[^*]/.test(b.charAt(O))?(j=b.charAt(O),O++):(j=null,0===P&&d("[^*]"));if(null!==i){if(42===b.charCodeAt(O)?(k="*",O++):(k=null,0===P&&d('"*"')),null!==k)for(j=[];null!==k;)j.push(k),42===b.charCodeAt(O)?(k="*",O++):(k=null,0===P&&d('"*"'));else j=null;null!==j?h=[h,i,j]:(h=null,O=n)}else h=null,O=n}else h=null,O=n;if(null!==g)if(47===b.charCodeAt(O)?(h="/",O++):(h=null,0===P&&d('"/"')),null!==h)if(i=x(),null!==i){for(j=[],k=H();null!==k;)j.push(k),k=H();null!==j?a=[a,c,e,f,g,h,i,j]:(a=null,O=m)}else a=null,O=m;else a=null,O=m;else a=null,O=m}else a=null,O=m}else a=null,O=m}else a=null,O=m;else a=null,O=m;return null!==a&&(a=function(){return""}(l)),null===a&&(O=l),P--,0===P&&null===a&&d("Comment"),a}function x(){var a,b;for(a=[],b=z();null!==b;)a.push(b),b=z();return a}function y(){var a,b;if(b=z(),null!==b)for(a=[];null!==b;)a.push(b),b=z();else a=null;return a}function z(){var a;return P++,32===b.charCodeAt(O)?(a=" ",O++):(a=null,0===P&&d('" "')),null===a&&(/^[\t]/.test(b.charAt(O))?(a=b.charAt(O),O++):(a=null,0===P&&d("[\\t]")),null===a&&(/^[\xA0]/.test(b.charAt(O))?(a=b.charAt(O),O++):(a=null,0===P&&d("[\\xA0]")))),P--,0===P&&null===a&&d("Space"),a}function A(){var a;return P++,/^[a-zA-Z0-9_#.[\]\-""']/.test(b.charAt(O))?(a=b.charAt(O),O++):(a=null,0===P&&d('[a-zA-Z0-9_#.[\\]\\-""\']')),P--,0===P&&null===a&&d("char"),a}function B(){var a;return/^[a-zA-Z0-9 .,#:+?!^=()_\-$*\/\\""']/.test(b.charAt(O))?(a=b.charAt(O),O++):(a=null,0===P&&d('[a-zA-Z0-9 .,#:+?!^=()_\\-$*\\/\\\\""\']')),a}function C(){var a,c,e,f,g,h;for(P++,h=O,a=[],/^[^}]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^}]"));null!==c;)a.push(c),/^[^}]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^}]"));if(null!==a)if(125===b.charCodeAt(O)?(c="}",O++):(c=null,0===P&&d('"}"')),null!==c)if(e=x(),null!==e){for(f=[],g=H();null!==g;)f.push(g),g=H();null!==f?a=[a,c,e,f]:(a=null,O=h)}else a=null,O=h;else a=null,O=h;else a=null,O=h;return P--,0===P&&null===a&&d("multitoend"),a}function D(){var a,c,e,f,g,h;for(P++,h=O,a=[],/^[^;]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^;]"));null!==c;)a.push(c),/^[^;]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^;]"));if(null!==a)if(59===b.charCodeAt(O)?(c=";",O++):(c=null,0===P&&d('";"')),null!==c)if(e=x(),null!==e){for(f=[],g=H();null!==g;)f.push(g),g=H();null!==f?a=[a,c,e,f]:(a=null,O=h)}else a=null,O=h;else a=null,O=h;else a=null,O=h;return P--,0===P&&null===a&&d("anytoend"),a}function E(){var a,c,e,f,g,h,i;if(P++,h=O,i=O,/^[^:{}]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^:{}]")),null!==c)for(a=[];null!==c;)a.push(c),/^[^:{}]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^:{}]"));else a=null;if(null!==a)if(58===b.charCodeAt(O)?(c=":",O++):(c=null,0===P&&d('":"')),null!==c)if(e=x(),null!==e){for(f=[],g=H();null!==g;)f.push(g),g=H();null!==f?a=[a,c,e,f]:(a=null,O=i)}else a=null,O=i;else a=null,O=i;else a=null,O=i;return null!==a&&(a=function(a,b){return L.stringify(b)}(h,a[0])),null===a&&(O=h),P--,0===P&&null===a&&d("TextToColon"),a}function F(){var a,c,e,f,g,h,i;if(P++,h=O,i=O,/^[^;{}]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^;{}]")),null!==c)for(a=[];null!==c;)a.push(c),/^[^;{}]/.test(b.charAt(O))?(c=b.charAt(O),O++):(c=null,0===P&&d("[^;{}]"));else a=null;if(null!==a)if(59===b.charCodeAt(O)?(c=";",O++):(c=null,0===P&&d('";"')),null!==c)if(e=x(),null!==e){for(f=[],g=H();null!==g;)f.push(g),g=H();null!==f?a=[a,c,e,f]:(a=null,O=i)}else a=null,O=i;else a=null,O=i;else a=null,O=i;return null!==a&&(a=function(a,b){return L.stringify(b)}(h,a[0])),null===a&&(O=h),P--,0===P&&null===a&&d("TextToSemicolon"),a}function G(){var a,b,c,d;if(d=O,a=x(),null!==a){for(b=[],c=H();null!==c;)b.push(c),c=H();null!==b?a=[a,b]:(a=null,O=d)}else a=null,O=d;return a}function H(){var a,c,e;return P++,e=O,/^[\n\r\u2028\u2029]/.test(b.charAt(O))?(a=b.charAt(O),O++):(a=null,0===P&&d("[\\n\\r\\u2028\\u2029]")),null===a&&("\r\n"===b.substr(O,2)?(a="\r\n",O+=2):(a=null,0===P&&d('"\\r\\n"'))),null!==a?(c=x(),null!==c?a=[a,c]:(a=null,O=e)):(a=null,O=e),null===a&&(a=w()),P--,0===P&&null===a&&d("LineTerminator"),a}function I(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function J(){for(var a=1,c=1,d=!1,e=0;e<Math.max(O,Q);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var K={statements:e,statement:f,nestedStatement:g,nestedStatements:h,ccss:i,ccssOp:j,ContextualCCSSLine:k,cssLine:l,vfl:m,gtl:n,cssBlock:o,Ruleset:p,Directive:q,DirectiveName:r,BlockedStatements:s,SelectorList:t,SelectorListEnd:u,Selector:v,comment:w,_:x,__:y,space:z,"char":A,anychar:B,multitoend:C,anytoend:D,TextToColon:E,TextToSemicolon:F,_terminators:G,LineTerminator:H};if(void 0!==c){if(void 0===K[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="statements";var L,M,N,O=0,P=0,Q=0,R=[];L=M=this,String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},N=M.flatten=function(a,b){for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:N(f)):e.push(f)}return e},L.results=[],L.stringify=function(a){return N(a).join("").trim()},L.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},M.error=function(a,b,c){return b&&c&&(a=a+" {line:"+b+", col:"+c+"}"),console.error(a),a};var S=K[c]();if(null===S||O!==b.length){var T=Math.max(O,Q),U=T<b.length?b.charAt(T):null,V=J();throw new this.SyntaxError(I(R),U,T,V.line,V.column)}return S},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),require.register("the-gss-ccss-compiler/lib/ccss-compiler.js",function(a,b,c){c.exports=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){pb>nb||(nb>pb&&(pb=nb,qb=[]),qb.push(a))}function e(){var a,b,c,d,e;if(d=nb,e=nb,a=J(),null!==a){for(b=[],c=f();null!==c;)b.push(c),c=f();null!==b?(c=J(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)}else a=null,nb=e;return null!==a&&(a=function(){return lb.getResults()}(d,a[1])),null===a&&(nb=d),a}function f(){var a,b,c,d,e;return d=nb,e=nb,a=g(),null!==a?(b=C(),null!==b?(c=J(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)):(a=null,nb=e),null!==a&&(a=function(a,b){return b}(d,a[0])),null===a&&(nb=d),null===a&&(d=nb,e=nb,a=Q(),null!==a?(b=C(),null!==b?(c=J(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)):(a=null,nb=e),null!==a&&(a=function(a,b){return b}(d,a[0])),null===a&&(nb=d),null===a&&(d=nb,e=nb,a=V(),null!==a?(b=C(),null!==b?(c=J(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)):(a=null,nb=e),null!==a&&(a=function(a,b){return b}(d,a[0])),null===a&&(nb=d),null===a&&(d=nb,e=nb,a=S(),null!==a?(b=C(),null!==b?(c=J(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)):(a=null,nb=e),null!==a&&(a=function(a,b){return b}(d,a[0])),null===a&&(nb=d),null===a&&(d=nb,e=nb,a=bb(),null!==a?(b=C(),null!==b?(c=J(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)):(a=null,nb=e),null!==a&&(a=function(a,b){return b}(d,a[0])),null===a&&(nb=d),null===a&&(d=nb,e=nb,a=$(),null!==a?(b=C(),null!==b?(c=J(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)):(a=null,nb=e),null!==a&&(a=function(a,b){return b}(d,a[0])),null===a&&(nb=d)))))),a}function g(){var a,b,c,d,e,f,g,j,k;if(g=nb,j=nb,a=i(),null!==a){for(b=[],k=nb,c=J(),null!==c?(d=h(),null!==d?(e=J(),null!==e?(f=i(),null!==f?c=[c,d,e,f]:(c=null,nb=k)):(c=null,nb=k)):(c=null,nb=k)):(c=null,nb=k);null!==c;)b.push(c),k=nb,c=J(),null!==c?(d=h(),null!==d?(e=J(),null!==e?(f=i(),null!==f?c=[c,d,e,f]:(c=null,nb=k)):(c=null,nb=k)):(c=null,nb=k)):(c=null,nb=k);null!==b?(c=J(),null!==c?(d=N(),d=null!==d?d:"",null!==d?a=[a,b,c,d]:(a=null,nb=j)):(a=null,nb=j)):(a=null,nb=j)}else a=null,nb=j;return null!==a&&(a=function(a,b,c,d){var e,f;0===d.length&&(d=[]);for(var g=0;g<c.length;g++)e=c[g][1],f=c[g][3],lb.addC([e,b,f].concat(d)),b=f;return"LineaerExpression"}(g,a[0],a[1],a[3])),null===a&&(nb=g),a}function h(){var a,c;return c=nb,"=="===b.substr(nb,2)?(a="==",nb+=2):(a=null,0===ob&&d('"=="')),null!==a&&(a=function(){return"eq"}(c)),null===a&&(nb=c),null===a&&(c=nb,"<="===b.substr(nb,2)?(a="<=",nb+=2):(a=null,0===ob&&d('"<="')),null===a&&("=<"===b.substr(nb,2)?(a="=<",nb+=2):(a=null,0===ob&&d('"=<"'))),null!==a&&(a=function(){return"lte"}(c)),null===a&&(nb=c),null===a&&(c=nb,">="===b.substr(nb,2)?(a=">=",nb+=2):(a=null,0===ob&&d('">="')),null===a&&("=>"===b.substr(nb,2)?(a="=>",nb+=2):(a=null,0===ob&&d('"=>"'))),null!==a&&(a=function(){return"gte"}(c)),null===a&&(nb=c),null===a&&(c=nb,60===b.charCodeAt(nb)?(a="<",nb++):(a=null,0===ob&&d('"<"')),null!==a&&(a=function(){return"lt"}(c)),null===a&&(nb=c),null===a&&(c=nb,62===b.charCodeAt(nb)?(a=">",nb++):(a=null,0===ob&&d('">"')),null!==a&&(a=function(){return"gt"}(c)),null===a&&(nb=c))))),a}function i(){var a,b,c,d,e,f,g,h,i;if(g=nb,h=nb,a=k(),null!==a){for(b=[],i=nb,c=J(),null!==c?(d=j(),null!==d?(e=J(),null!==e?(f=k(),null!==f?c=[c,d,e,f]:(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i);null!==c;)b.push(c),i=nb,c=J(),null!==c?(d=j(),null!==d?(e=J(),null!==e?(f=k(),null!==f?c=[c,d,e,f]:(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i);null!==b?a=[a,b]:(a=null,nb=h)}else a=null,nb=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d=[c[e][1],d,c[e][3]];return d}(g,a[0],a[1])),null===a&&(nb=g),a}function j(){var a,c;return c=nb,43===b.charCodeAt(nb)?(a="+",nb++):(a=null,0===ob&&d('"+"')),null!==a&&(a=function(){return"plus"}(c)),null===a&&(nb=c),null===a&&(c=nb,45===b.charCodeAt(nb)?(a="-",nb++):(a=null,0===ob&&d('"-"')),null!==a&&(a=function(){return"minus"}(c)),null===a&&(nb=c)),a}function k(){var a,b,c,d,e,f,g,h,i;if(g=nb,h=nb,a=m(),null!==a){for(b=[],i=nb,c=J(),null!==c?(d=l(),null!==d?(e=J(),null!==e?(f=m(),null!==f?c=[c,d,e,f]:(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i);null!==c;)b.push(c),i=nb,c=J(),null!==c?(d=l(),null!==d?(e=J(),null!==e?(f=m(),null!==f?c=[c,d,e,f]:(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i);null!==b?a=[a,b]:(a=null,nb=h)}else a=null,nb=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d=[c[e][1],d,c[e][3]];return d}(g,a[0],a[1])),null===a&&(nb=g),a}function l(){var a,c;return c=nb,42===b.charCodeAt(nb)?(a="*",nb++):(a=null,0===ob&&d('"*"')),null!==a&&(a=function(){return"multiply"}(c)),null===a&&(nb=c),null===a&&(c=nb,47===b.charCodeAt(nb)?(a="/",nb++):(a=null,0===ob&&d('"/"')),null!==a&&(a=function(){return"divide"}(c)),null===a&&(nb=c)),a}function m(){var a,b,c,d,e;return a=o(),null===a&&(d=nb,e=nb,a=n(),null!==a?(b=J(),null!==b?(c=m(),null!==c?a=[a,b,c]:(a=null,nb=e)):(a=null,nb=e)):(a=null,nb=e),null!==a&&(a=function(a,b,c){return{type:"UnaryExpression",operator:b,expression:c}}(d,a[0],a[2])),null===a&&(nb=d)),a}function n(){var a;return 43===b.charCodeAt(nb)?(a="+",nb++):(a=null,0===ob&&d('"+"')),null===a&&(45===b.charCodeAt(nb)?(a="-",nb++):(a=null,0===ob&&d('"-"')),null===a&&(33===b.charCodeAt(nb)?(a="!",nb++):(a=null,0===ob&&d('"!"')))),a}function o(){var a,c,e,f,h,i,j;return a=p(),null===a&&(a=q(),null===a&&(a=u(),null===a&&(i=nb,j=nb,40===b.charCodeAt(nb)?(a="(",nb++):(a=null,0===ob&&d('"("')),null!==a?(c=J(),null!==c?(e=g(),null!==e?(f=J(),null!==f?(41===b.charCodeAt(nb)?(h=")",nb++):(h=null,0===ob&&d('")"')),null!==h?a=[a,c,e,f,h]:(a=null,nb=j)):(a=null,nb=j)):(a=null,nb=j)):(a=null,nb=j)):(a=null,nb=j),null!==a&&(a=function(a,b){return b}(i,a[2])),null===a&&(nb=i)))),a}function p(){var a,c,e,f,g,h,i;return ob++,h=nb,i=nb,"measure("===b.substr(nb,8)?(a="measure(",nb+=8):(a=null,0===ob&&d('"measure("')),null!==a?(c=J(),null!==c?(e=q(),null!==e?(f=J(),null!==f?(41===b.charCodeAt(nb)?(g=")",nb++):(g=null,0===ob&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,nb=i)):(a=null,nb=i)):(a=null,nb=i)):(a=null,nb=i)):(a=null,nb=i),null!==a&&(a=function(a,b){return kb.processMeasure(["measure",b])}(h,a[2])),null===a&&(nb=h),ob--,0===ob&&null===a&&d("measure"),a}function q(){var a,c,e,f,g,h;if(ob++,g=nb,h=nb,a=K(),a=null!==a?a:"",null!==a)if(91===b.charCodeAt(nb)?(c="[",nb++):(c=null,0===ob&&d('"["')),null!==c){if(f=s(),null!==f)for(e=[];null!==f;)e.push(f),f=s();else e=null;null!==e?(93===b.charCodeAt(nb)?(f="]",nb++):(f=null,0===ob&&d('"]"')),null!==f?a=[a,c,e,f]:(a=null,nb=h)):(a=null,nb=h)}else a=null,nb=h;else a=null,nb=h;return null!==a&&(a=function(a,b,c){return c=c.join(""),0!==b.length&&(lb.add$(b.selector),"left"===c?c="x":"top"===c?c="y":"cx"===c?c="center-x":"cy"===c&&(c="center-y"),"::window"===b.selector&&("right"===c?c="width":"bottom"===c&&(c="height"))),b.selector||b.isVirtual?["get$",c,b.ast]:["get","["+c+"]"]}(g,a[0],a[2])),null===a&&(nb=g),ob--,0===ob&&null===a&&d("variable"),a}function r(){var a;return a=""}function s(){var a;return/^[a-zA-Z0-9#.\-_$]/.test(b.charAt(nb))?(a=b.charAt(nb),nb++):(a=null,0===ob&&d("[a-zA-Z0-9#.\\-_$]")),a}function t(){var a;return a=s(),null===a&&(32===b.charCodeAt(nb)?(a=" ",nb++):(a=null,0===ob&&d('" "'))),a}function u(){var a,b;return b=nb,a=w(),null===a&&(a=v()),null!==a&&(a=function(a,b){return["number",b]}(b,a)),null===a&&(nb=b),a}function v(){var a,c,e;if(e=nb,/^[0-9]/.test(b.charAt(nb))?(c=b.charAt(nb),nb++):(c=null,0===ob&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(nb))?(c=b.charAt(nb),nb++):(c=null,0===ob&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""))}(e,a)),null===a&&(nb=e),a}function w(){var a,c,e,f,g;return f=nb,g=nb,a=v(),null!==a?(46===b.charCodeAt(nb)?(c=".",nb++):(c=null,0===ob&&d('"."')),null!==c?(e=v(),null!==e?a=[a,c,e]:(a=null,nb=g)):(a=null,nb=g)):(a=null,nb=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(nb=f),a}function x(){var a,c,e,f;if(f=nb,/^[\-+]/.test(b.charAt(nb))?(a=b.charAt(nb),nb++):(a=null,0===ob&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,nb=f)}else a=null,nb=f;return a}function y(){var a;return b.length>nb?(a=b.charAt(nb),nb++):(a=null,0===ob&&d("any character")),a}function z(){var a;return ob++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(nb))?(a=b.charAt(nb),nb++):(a=null,0===ob&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),ob--,0===ob&&null===a&&d("whitespace"),a}function A(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(nb))?(a=b.charAt(nb),nb++):(a=null,0===ob&&d("[\\n\\r\\u2028\\u2029]")),a}function B(){var a;return ob++,10===b.charCodeAt(nb)?(a="\n",nb++):(a=null,0===ob&&d('"\\n"')),null===a&&("\r\n"===b.substr(nb,2)?(a="\r\n",nb+=2):(a=null,0===ob&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(nb)?(a="\r",nb++):(a=null,0===ob&&d('"\\r"')),null===a&&(8232===b.charCodeAt(nb)?(a="\u2028",nb++):(a=null,0===ob&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(nb)?(a="\u2029",nb++):(a=null,0===ob&&d('"\\u2029"')))))),ob--,0===ob&&null===a&&d("end of line"),a}function C(){var a,c,e;return e=nb,a=J(),null!==a?(59===b.charCodeAt(nb)?(c=";",nb++):(c=null,0===ob&&d('";"')),null!==c?a=[a,c]:(a=null,nb=e)):(a=null,nb=e),null===a&&(e=nb,a=I(),null!==a?(c=B(),null!==c?a=[a,c]:(a=null,nb=e)):(a=null,nb=e),null===a&&(e=nb,a=J(),null!==a?(c=D(),null!==c?a=[a,c]:(a=null,nb=e)):(a=null,nb=e))),a}function D(){var a,c;return c=nb,ob++,b.length>nb?(a=b.charAt(nb),nb++):(a=null,0===ob&&d("any character")),ob--,null===a?a="":(a=null,nb=c),a}function E(){var a;return ob++,a=F(),null===a&&(a=H()),ob--,0===ob&&null===a&&d("comment"),a}function F(){var a,c,e,f,g,h,i;if(g=nb,"/*"===b.substr(nb,2)?(a="/*",nb+=2):(a=null,0===ob&&d('"/*"')),null!==a){for(c=[],h=nb,i=nb,ob++,"*/"===b.substr(nb,2)?(e="*/",nb+=2):(e=null,0===ob&&d('"*/"')),ob--,null===e?e="":(e=null,nb=i),null!==e?(f=y(),null!==f?e=[e,f]:(e=null,nb=h)):(e=null,nb=h);null!==e;)c.push(e),h=nb,i=nb,ob++,"*/"===b.substr(nb,2)?(e="*/",nb+=2):(e=null,0===ob&&d('"*/"')),ob--,null===e?e="":(e=null,nb=i),null!==e?(f=y(),null!==f?e=[e,f]:(e=null,nb=h)):(e=null,nb=h);null!==c?("*/"===b.substr(nb,2)?(e="*/",nb+=2):(e=null,0===ob&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,nb=g)):(a=null,nb=g)}else a=null,nb=g;return a}function G(){var a,c,e,f,g,h,i;if(g=nb,"/*"===b.substr(nb,2)?(a="/*",nb+=2):(a=null,0===ob&&d('"/*"')),null!==a){for(c=[],h=nb,i=nb,ob++,"*/"===b.substr(nb,2)?(e="*/",nb+=2):(e=null,0===ob&&d('"*/"')),null===e&&(e=A()),ob--,null===e?e="":(e=null,nb=i),null!==e?(f=y(),null!==f?e=[e,f]:(e=null,nb=h)):(e=null,nb=h);null!==e;)c.push(e),h=nb,i=nb,ob++,"*/"===b.substr(nb,2)?(e="*/",nb+=2):(e=null,0===ob&&d('"*/"')),null===e&&(e=A()),ob--,null===e?e="":(e=null,nb=i),null!==e?(f=y(),null!==f?e=[e,f]:(e=null,nb=h)):(e=null,nb=h);null!==c?("*/"===b.substr(nb,2)?(e="*/",nb+=2):(e=null,0===ob&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,nb=g)):(a=null,nb=g)}else a=null,nb=g;return a}function H(){var a,c,e,f,g,h,i;if(g=nb,"//"===b.substr(nb,2)?(a="//",nb+=2):(a=null,0===ob&&d('"//"')),null!==a){for(c=[],h=nb,i=nb,ob++,e=A(),ob--,null===e?e="":(e=null,nb=i),null!==e?(f=y(),null!==f?e=[e,f]:(e=null,nb=h)):(e=null,nb=h);null!==e;)c.push(e),h=nb,i=nb,ob++,e=A(),ob--,null===e?e="":(e=null,nb=i),null!==e?(f=y(),null!==f?e=[e,f]:(e=null,nb=h)):(e=null,nb=h);null!==c?(e=A(),null===e&&(e=D()),null!==e?a=[a,c,e]:(a=null,nb=g)):(a=null,nb=g)}else a=null,nb=g;return a}function I(){var a,b;for(a=[],b=z(),null===b&&(b=G(),null===b&&(b=H()));null!==b;)a.push(b),b=z(),null===b&&(b=G(),null===b&&(b=H()));return a}function J(){var a,b;for(a=[],b=z(),null===b&&(b=B(),null===b&&(b=E()));null!==b;)a.push(b),b=z(),null===b&&(b=B(),null===b&&(b=E()));return a}function K(){var a,c,e,f,g,h;if(ob++,g=nb,h=nb,35===b.charCodeAt(nb)?(a="#",nb++):(a=null,0===ob&&d('"#"')),null!==a){if(e=s(),null!==e)for(c=[];null!==e;)c.push(e),e=s();else c=null;null!==c?a=[a,c]:(a=null,nb=h)}else a=null,nb=h;if(null!==a&&(a=function(a,b){return b=kb.toString(b),{selector:"#"+b,ast:["$id",b]}}(g,a[1])),null===a&&(nb=g),null===a&&(g=nb,h=nb,"::"===b.substr(nb,2)?(a="::",nb+=2):(a=null,0===ob&&d('"::"')),null!==a?(c=M(),null!==c?a=[a,c]:(a=null,nb=h)):(a=null,nb=h),null!==a&&(a=function(a,b){return{selector:"::"+b,ast:["$reserved",b]}}(g,a[1])),null===a&&(nb=g),null===a)){if(g=nb,h=nb,34===b.charCodeAt(nb)?(a='"',nb++):(a=null,0===ob&&d('"\\""')),null!==a){if(/^[a-zA-Z0-9.\-_$=:+><~ ]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d("[a-zA-Z0-9.\\-_$=:+><~ ]")),null!==e)for(c=[];null!==e;)c.push(e),/^[a-zA-Z0-9.\-_$=:+><~ ]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d("[a-zA-Z0-9.\\-_$=:+><~ ]"));
else c=null;null!==c?(34===b.charCodeAt(nb)?(e='"',nb++):(e=null,0===ob&&d('"\\""')),null!==e?a=[a,c,e]:(a=null,nb=h)):(a=null,nb=h)}else a=null,nb=h;if(null!==a&&(a=function(a,b){return b=kb.toString(b),{isVirtual:!0,ast:["$virtual",b]}}(g,a[1])),null===a&&(nb=g),null===a){if(g=nb,h=nb,46===b.charCodeAt(nb)?(a=".",nb++):(a=null,0===ob&&d('"."')),null!==a){if(e=s(),null!==e)for(c=[];null!==e;)c.push(e),e=s();else c=null;null!==c?a=[a,c]:(a=null,nb=h)}else a=null,nb=h;if(null!==a&&(a=function(a,b){return b=kb.toString(b),{selector:"."+b,ast:["$class",b]}}(g,a[1])),null===a&&(nb=g),null===a){if(g=nb,c=s(),null!==c)for(a=[];null!==c;)a.push(c),c=s();else a=null;if(null!==a&&(a=function(a,b){return b=kb.toString(b),{selector:b,ast:["$tag",b]}}(g,a)),null===a&&(nb=g),null===a){if(g=nb,h=nb,36===b.charCodeAt(nb)?(a="$",nb++):(a=null,0===ob&&d('"$"')),a=null!==a?a:"",null!==a)if(40===b.charCodeAt(nb)?(c="(",nb++):(c=null,0===ob&&d('"("')),null!==c){if(f=L(),null!==f)for(e=[];null!==f;)e.push(f),f=L();else e=null;null!==e?(41===b.charCodeAt(nb)?(f=")",nb++):(f=null,0===ob&&d('")"')),null!==f?a=[a,c,e,f]:(a=null,nb=h)):(a=null,nb=h)}else a=null,nb=h;else a=null,nb=h;null!==a&&(a=function(a,b){return b=kb.toString(b),{selector:b,ast:["$all",b]}}(g,a[2])),null===a&&(nb=g)}}}}return ob--,0===ob&&null===a&&d("selector"),a}function L(){var a;return/^[a-zA-Z0-9#.\-_$=:+>'" \][]/.test(b.charAt(nb))?(a=b.charAt(nb),nb++):(a=null,0===ob&&d("[a-zA-Z0-9#.\\-_$=:+>'\" \\][]")),a}function M(){var a,c;return"document"===b.substr(nb,8)?(a="document",nb+=8):(a=null,0===ob&&d('"document"')),null===a&&("host"===b.substr(nb,4)?(a="host",nb+=4):(a=null,0===ob&&d('"host"')),null===a&&("scope"===b.substr(nb,5)?(a="scope",nb+=5):(a=null,0===ob&&d('"scope"')),null===a&&("parent"===b.substr(nb,6)?(a="parent",nb+=6):(a=null,0===ob&&d('"parent"'))))),null===a&&(c=nb,"window"===b.substr(nb,6)?(a="window",nb+=6):(a=null,0===ob&&d('"window"')),null===a&&("viewport"===b.substr(nb,8)?(a="viewport",nb+=8):(a=null,0===ob&&d('"viewport"'))),null!==a&&(a=function(){return"window"}(c)),null===a&&(nb=c),null===a&&(c=nb,"this"===b.substr(nb,4)?(a="this",nb+=4):(a=null,0===ob&&d('"this"')),null===a&&(a=""),null!==a&&(a=function(){return"this"}(c)),null===a&&(nb=c))),a}function N(){var a,c,e,f,g;return f=nb,g=nb,33===b.charCodeAt(nb)?(a="!",nb++):(a=null,0===ob&&d('"!"')),null!==a?(c=P(),null!==c?(e=O(),e=null!==e?e:"",null!==e?a=[a,c,e]:(a=null,nb=g)):(a=null,nb=g)):(a=null,nb=g),null!==a&&(a=function(a,b,c){return 0===c.length?[b]:[b,c]}(f,a[1],a[2])),null===a&&(nb=f),null===a&&(f=nb,g=nb,33===b.charCodeAt(nb)?(a="!",nb++):(a=null,0===ob&&d('"!"')),null!==a?(b.length>nb?(c=b.charAt(nb),nb++):(c=null,0===ob&&d("any character")),c=null!==c?c:"",null!==c?a=[a,c]:(a=null,nb=g)):(a=null,nb=g),null!==a&&(a=function(){return lb.error("Invalid Strength or Weight",line,column)}(f)),null===a&&(nb=f)),a}function O(){var a,c,e;if(e=nb,/^[0-9]/.test(b.charAt(nb))?(c=b.charAt(nb),nb++):(c=null,0===ob&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(nb))?(c=b.charAt(nb),nb++):(c=null,0===ob&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return Number(b.join(""))}(e,a)),null===a&&(nb=e),a}function P(){var a,c;return c=nb,"require"===b.substr(nb,7)?(a="require",nb+=7):(a=null,0===ob&&d('"require"')),null===a&&("REQUIRE"===b.substr(nb,7)?(a="REQUIRE",nb+=7):(a=null,0===ob&&d('"REQUIRE"')),null===a&&("Require"===b.substr(nb,7)?(a="Require",nb+=7):(a=null,0===ob&&d('"Require"')))),null!==a&&(a=function(){return"require"}(c)),null===a&&(nb=c),null===a&&(c=nb,"strong"===b.substr(nb,6)?(a="strong",nb+=6):(a=null,0===ob&&d('"strong"')),null===a&&("STRONG"===b.substr(nb,6)?(a="STRONG",nb+=6):(a=null,0===ob&&d('"STRONG"')),null===a&&("Strong"===b.substr(nb,6)?(a="Strong",nb+=6):(a=null,0===ob&&d('"Strong"')))),null!==a&&(a=function(){return"strong"}(c)),null===a&&(nb=c),null===a&&(c=nb,"medium"===b.substr(nb,6)?(a="medium",nb+=6):(a=null,0===ob&&d('"medium"')),null===a&&("MEDIUM"===b.substr(nb,6)?(a="MEDIUM",nb+=6):(a=null,0===ob&&d('"MEDIUM"')),null===a&&("Medium"===b.substr(nb,6)?(a="Medium",nb+=6):(a=null,0===ob&&d('"Medium"')))),null!==a&&(a=function(){return"medium"}(c)),null===a&&(nb=c),null===a&&(c=nb,"weak"===b.substr(nb,4)?(a="weak",nb+=4):(a=null,0===ob&&d('"weak"')),null===a&&("WEAK"===b.substr(nb,4)?(a="WEAK",nb+=4):(a=null,0===ob&&d('"WEAK"')),null===a&&("Weak"===b.substr(nb,4)?(a="Weak",nb+=4):(a=null,0===ob&&d('"Weak"')))),null!==a&&(a=function(){return"weak"}(c)),null===a&&(nb=c),null===a&&(c=nb,"required"===b.substr(nb,8)?(a="required",nb+=8):(a=null,0===ob&&d('"required"')),null===a&&("REQUIRED"===b.substr(nb,8)?(a="REQUIRED",nb+=8):(a=null,0===ob&&d('"REQUIRED"')),null===a&&("Required"===b.substr(nb,8)?(a="Required",nb+=8):(a=null,0===ob&&d('"Required"')))),null!==a&&(a=function(){return"require"}(c)),null===a&&(nb=c))))),a}function Q(){var a,c,e,f,g,h,i;if(h=nb,i=nb,64===b.charCodeAt(nb)?(a="@",nb++):(a=null,0===ob&&d('"@"')),null!==a)if("-gss-virtual"===b.substr(nb,12)?(c="-gss-virtual",nb+=12):(c=null,0===ob&&d('"-gss-virtual"')),null===c&&("virtual"===b.substr(nb,7)?(c="virtual",nb+=7):(c=null,0===ob&&d('"virtual"'))),null!==c)if(e=J(),null!==e){if(g=R(),null!==g)for(f=[];null!==g;)f.push(g),g=R();else f=null;null!==f?a=[a,c,e,f]:(a=null,nb=i)}else a=null,nb=i;else a=null,nb=i;else a=null,nb=i;return null!==a&&(a=function(a,b){var c=["virtual"].concat(b);return lb.addC(c),c}(h,a[3])),null===a&&(nb=h),a}function R(){var a,c,e,f,g,h;if(g=nb,h=nb,34===b.charCodeAt(nb)?(a='"',nb++):(a=null,0===ob&&d('"\\""')),null!==a){if(/^[^"]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d('[^"]')),null!==e)for(c=[];null!==e;)c.push(e),/^[^"]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d('[^"]'));else c=null;null!==c?(34===b.charCodeAt(nb)?(e='"',nb++):(e=null,0===ob&&d('"\\""')),null!==e?(f=J(),null!==f?a=[a,c,e,f]:(a=null,nb=h)):(a=null,nb=h)):(a=null,nb=h)}else a=null,nb=h;return null!==a&&(a=function(a,b){return b.join("")}(g,a[1])),null===a&&(nb=g),a}function S(){var a,b,c,d,e;if(d=nb,e=nb,a=U(),null!==a){if(c=T(),null!==c)for(b=[];null!==c;)b.push(c),c=T();else b=null;null!==b?a=[a,b]:(a=null,nb=e)}else a=null,nb=e;return null!==a&&(a=function(a,b){var c=["stay"].concat(b);return lb.addC(c),c}(d,a[1])),null===a&&(nb=d),a}function T(){var a,c,e,f,g,h;return g=nb,h=nb,a=J(),null!==a?(c=q(),null!==c?(e=J(),null!==e?(44===b.charCodeAt(nb)?(f=",",nb++):(f=null,0===ob&&d('","')),f=null!==f?f:"",null!==f?a=[a,c,e,f]:(a=null,nb=h)):(a=null,nb=h)):(a=null,nb=h)):(a=null,nb=h),null!==a&&(a=function(a,b){return b}(g,a[1])),null===a&&(nb=g),a}function U(){var a;return"@-gss-stay"===b.substr(nb,10)?(a="@-gss-stay",nb+=10):(a=null,0===ob&&d('"@-gss-stay"')),null===a&&("@stay"===b.substr(nb,5)?(a="@stay",nb+=5):(a=null,0===ob&&d('"@stay"'))),a}function V(){var a,c,e,f,g,h,i;return h=nb,i=nb,"?("===b.substr(nb,2)?(a="?(",nb+=2):(a=null,0===ob&&d('"?("')),null!==a?(c=J(),null!==c?(e=W(),null!==e?(f=J(),null!==f?(41===b.charCodeAt(nb)?(g=")",nb++):(g=null,0===ob&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,nb=i)):(a=null,nb=i)):(a=null,nb=i)):(a=null,nb=i)):(a=null,nb=i),null!==a&&(a=function(a,b){return lb.addC(b),b}(h,a[2])),null===a&&(nb=h),a}function W(){var a,b,c,d,e,f,g,h,i;if(g=nb,h=nb,a=Y(),null!==a){for(b=[],i=nb,c=J(),null!==c?(d=X(),null!==d?(e=J(),null!==e?(f=Y(),null!==f?c=[c,d,e,f]:(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i);null!==c;)b.push(c),i=nb,c=J(),null!==c?(d=X(),null!==d?(e=J(),null!==e?(f=Y(),null!==f?c=[c,d,e,f]:(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i)):(c=null,nb=i);null!==b?a=[a,b]:(a=null,nb=h)}else a=null,nb=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d=[c[e][1],d,c[e][3]];return d}(g,a[0],a[1])),null===a&&(nb=g),a}function X(){var a,c;return c=nb,"AND"===b.substr(nb,3)?(a="AND",nb+=3):(a=null,0===ob&&d('"AND"')),null===a&&("and"===b.substr(nb,3)?(a="and",nb+=3):(a=null,0===ob&&d('"and"')),null===a&&("And"===b.substr(nb,3)?(a="And",nb+=3):(a=null,0===ob&&d('"And"')),null===a&&("&&"===b.substr(nb,2)?(a="&&",nb+=2):(a=null,0===ob&&d('"&&"'))))),null!==a&&(a=function(){return"&&"}(c)),null===a&&(nb=c),null===a&&(c=nb,"OR"===b.substr(nb,2)?(a="OR",nb+=2):(a=null,0===ob&&d('"OR"')),null===a&&("or"===b.substr(nb,2)?(a="or",nb+=2):(a=null,0===ob&&d('"or"')),null===a&&("Or"===b.substr(nb,2)?(a="Or",nb+=2):(a=null,0===ob&&d('"Or"')),null===a&&("||"===b.substr(nb,2)?(a="||",nb+=2):(a=null,0===ob&&d('"||"'))))),null!==a&&(a=function(){return"||"}(c)),null===a&&(nb=c)),a}function Y(){var a,b,c,d,e,f,g,h,j;if(g=nb,h=nb,a=i(),null!==a){for(b=[],j=nb,c=J(),null!==c?(d=Z(),null!==d?(e=J(),null!==e?(f=i(),null!==f?c=[c,d,e,f]:(c=null,nb=j)):(c=null,nb=j)):(c=null,nb=j)):(c=null,nb=j);null!==c;)b.push(c),j=nb,c=J(),null!==c?(d=Z(),null!==d?(e=J(),null!==e?(f=i(),null!==f?c=[c,d,e,f]:(c=null,nb=j)):(c=null,nb=j)):(c=null,nb=j)):(c=null,nb=j);null!==b?a=[a,b]:(a=null,nb=h)}else a=null,nb=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d=[c[e][1],d,c[e][3]];return d}(g,a[0],a[1])),null===a&&(nb=g),a}function Z(){var a,c;return c=nb,"=="===b.substr(nb,2)?(a="==",nb+=2):(a=null,0===ob&&d('"=="')),null!==a&&(a=function(){return"?=="}(c)),null===a&&(nb=c),null===a&&(c=nb,"<="===b.substr(nb,2)?(a="<=",nb+=2):(a=null,0===ob&&d('"<="')),null===a&&("=<"===b.substr(nb,2)?(a="=<",nb+=2):(a=null,0===ob&&d('"=<"'))),null!==a&&(a=function(){return"?<="}(c)),null===a&&(nb=c),null===a&&(c=nb,">="===b.substr(nb,2)?(a=">=",nb+=2):(a=null,0===ob&&d('">="')),null===a&&("=>"===b.substr(nb,2)?(a="=>",nb+=2):(a=null,0===ob&&d('"=>"'))),null!==a&&(a=function(){return"?>="}(c)),null===a&&(nb=c),null===a&&(c=nb,60===b.charCodeAt(nb)?(a="<",nb++):(a=null,0===ob&&d('"<"')),null!==a&&(a=function(){return"?<"}(c)),null===a&&(nb=c),null===a&&(c=nb,62===b.charCodeAt(nb)?(a=">",nb++):(a=null,0===ob&&d('">"')),null!==a&&(a=function(){return"?>"}(c)),null===a&&(nb=c),null===a&&(c=nb,"!="===b.substr(nb,2)?(a="!=",nb+=2):(a=null,0===ob&&d('"!="')),null!==a&&(a=function(){return"?!="}(c)),null===a&&(nb=c)))))),a}function $(){var a,b,c,d,e,f,g;return f=nb,g=nb,a=ab(),null!==a?(b=J(),null!==b?(c=K(),null!==c?(d=J(),null!==d?(e=_(),null!==e?a=[a,b,c,d,e]:(a=null,nb=g)):(a=null,nb=g)):(a=null,nb=g)):(a=null,nb=g)):(a=null,nb=g),null!==a&&(a=function(a,b,c,d){lb.add$(c.selector),lb.addC([b,c.ast,d])}(f,a[0],a[2],a[4])),null===a&&(nb=f),a}function _(){var a,c,e,f,g;if(f=nb,g=nb,"```"===b.substr(nb,3)?(a="```",nb+=3):(a=null,0===ob&&d('"```"')),null!==a){for(c=[],/^[^`]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d("[^`]"));null!==e;)c.push(e),/^[^`]/.test(b.charAt(nb))?(e=b.charAt(nb),nb++):(e=null,0===ob&&d("[^`]"));null!==c?("```"===b.substr(nb,3)?(e="```",nb+=3):(e=null,0===ob&&d('"```"')),null!==e?a=[a,c,e]:(a=null,nb=g)):(a=null,nb=g)}else a=null,nb=g;return null!==a&&(a=function(a,b){return["js",b.join("").trim()]}(f,a[1])),null===a&&(nb=f),a}function ab(){var a,c;return c=nb,"@-gss-for-each"===b.substr(nb,14)?(a="@-gss-for-each",nb+=14):(a=null,0===ob&&d('"@-gss-for-each"')),null===a&&("@for-each"===b.substr(nb,9)?(a="@for-each",nb+=9):(a=null,0===ob&&d('"@for-each"'))),null!==a&&(a=function(){return"for-each"}(c)),null===a&&(nb=c),null===a&&(c=nb,"@-gss-for-all"===b.substr(nb,13)?(a="@-gss-for-all",nb+=13):(a=null,0===ob&&d('"@-gss-for-all"')),null===a&&("@for-all"===b.substr(nb,8)?(a="@for-all",nb+=8):(a=null,0===ob&&d('"@for-all"'))),null!==a&&(a=function(){return"for-all"}(c)),null===a&&(nb=c)),a}function bb(){var a,c,e,f,g,h,i,j,k,l;if(k=nb,l=nb,64===b.charCodeAt(nb)?(a="@",nb++):(a=null,0===ob&&d('"@"')),null!==a)if("-gss-"===b.substr(nb,5)?(c="-gss-",nb+=5):(c=null,0===ob&&d('"-gss-"')),c=null!==c?c:"",null!==c)if("chain"===b.substr(nb,5)?(e="chain",nb+=5):(e=null,0===ob&&d('"chain"')),null!==e)if(f=J(),null!==f)if(g=K(),null!==g)if(h=J(),null!==h){if(j=cb(),null!==j)for(i=[];null!==j;)i.push(j),j=cb();else i=null;null!==i?(j=J(),null!==j?a=[a,c,e,f,g,h,i,j]:(a=null,nb=l)):(a=null,nb=l)}else a=null,nb=l;else a=null,nb=l;else a=null,nb=l;else a=null,nb=l;else a=null,nb=l;else a=null,nb=l;return null!==a&&(a=function(a,b,c){lb.add$(b.selector);var d=["chain",b.ast];c.forEach(function(a){d=d.concat(a)}),kb.addC(d)}(k,a[4],a[6])),null===a&&(nb=k),a}function cb(){var a,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u;if(t=nb,u=nb,/^[a-zA-Z\-_0-9]/.test(b.charAt(nb))?(c=b.charAt(nb),nb++):(c=null,0===ob&&d("[a-zA-Z\\-_0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[a-zA-Z\-_0-9]/.test(b.charAt(nb))?(c=b.charAt(nb),nb++):(c=null,0===ob&&d("[a-zA-Z\\-_0-9]"));else a=null;if(null!==a)if(40===b.charCodeAt(nb)?(c="(",nb++):(c=null,0===ob&&d('"("')),null!==c)if(e=I(),null!==e)if(f=db(),f=null!==f?f:"",null!==f)if(g=I(),null!==g)if(h=gb(),null!==h)if(j=I(),null!==j)if(k=i(),k=null!==k?k:"",null!==k)if(l=I(),null!==l)if(m=gb(),m=null!==m?m:"",null!==m)if(n=I(),null!==n)if(o=N(),o=null!==o?o:"",null!==o)if(p=I(),null!==p)if(41===b.charCodeAt(nb)?(q=")",nb++):(q=null,0===ob&&d('")"')),null!==q){for(r=[],/^[a-zA-Z\-_0-9]/.test(b.charAt(nb))?(s=b.charAt(nb),nb++):(s=null,0===ob&&d("[a-zA-Z\\-_0-9]"));null!==s;)r.push(s),/^[a-zA-Z\-_0-9]/.test(b.charAt(nb))?(s=b.charAt(nb),nb++):(s=null,0===ob&&d("[a-zA-Z\\-_0-9]"));null!==r?(s=J(),null!==s?a=[a,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s]:(a=null,nb=u)):(a=null,nb=u)}else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;else a=null,nb=u;return null!==a&&(a=function(a,b,c,d,e,f,g,h){var i=[];b=kb.toString(b),h=kb.toString(h);var j=function(a,b,c){var d=[a,b,c];return g&&(d=d.concat(g)),d};return 0===h.length&&(h=b),c&&(c.splice(1,1,b),b=c),e?(i.push(j(d,b,e)),f?i.push(j(f,e,h)):kb.error("Invalid Chain Statement",line,column)):i.push(j(d,b,h)),i}(t,a[0],a[3],a[5],a[7],a[9],a[11],a[14])),null===a&&(nb=t),a}function db(){var a,b,c,d;return c=nb,d=nb,a=fb(),null!==a?(b=i(),null!==b?a=[a,b]:(a=null,nb=d)):(a=null,nb=d),null!==a&&(a=function(a,b,c){return[b,"_REPLACE_ME_",c]}(c,a[0],a[1])),null===a&&(nb=c),a}function eb(){var a,b,c,d;return c=nb,d=nb,a=i(),null!==a?(b=fb(),null!==b?a=[a,b]:(a=null,nb=d)):(a=null,nb=d),null!==a&&(a=function(a,b,c){return[c,b,"_REPLACE_ME_"]}(c,a[0],a[1])),null===a&&(nb=c),a}function fb(){var a,c;return c=nb,43===b.charCodeAt(nb)?(a="+",nb++):(a=null,0===ob&&d('"+"')),null!==a&&(a=function(){return"plus-chain"}(c)),null===a&&(nb=c),null===a&&(c=nb,45===b.charCodeAt(nb)?(a="-",nb++):(a=null,0===ob&&d('"-"')),null!==a&&(a=function(){return"minus-chain"}(c)),null===a&&(nb=c),null===a&&(c=nb,42===b.charCodeAt(nb)?(a="*",nb++):(a=null,0===ob&&d('"*"')),null!==a&&(a=function(){return"multiply-chain"}(c)),null===a&&(nb=c),null===a&&(c=nb,47===b.charCodeAt(nb)?(a="/",nb++):(a=null,0===ob&&d('"/"')),null!==a&&(a=function(){return"divide-chain"}(c)),null===a&&(nb=c)))),a}function gb(){var a,b;return b=nb,a=h(),a=null!==a?a:"",null!==a&&(a=function(a,b){return b||(b="eq"),b+="-chain"}(b,a)),null===a&&(nb=b),a}function hb(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function ib(){for(var a=1,c=1,d=!1,e=0;e<Math.max(nb,pb);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var jb={start:e,Statement:f,LinearExpression:g,EqOperator:h,AdditiveExpression:i,AdditiveOperator:j,MultiplicativeExpression:k,MultiplicativeOperator:l,UnaryExpression:m,UnaryOperator:n,PrimaryExpression:o,Measure:p,Var:q,VarNames:r,NameChars:s,NameCharsWithSpace:t,Literal:u,Integer:v,Real:w,SignedInteger:x,SourceCharacter:y,WhiteSpace:z,LineTerminator:A,LineTerminatorSequence:B,EOS:C,EOF:D,Comment:E,MultiLineComment:F,MultiLineCommentNoLineTerminator:G,SingleLineComment:H,_:I,__:J,Selector:K,QuerySelectorChars:L,ReservedPseudos:M,StrengthAndWeight:N,Weight:O,Strength:P,Virtual:Q,VirtualName:R,Stay:S,StayVars:T,StayStart:U,Conditional:V,AndOrExpression:W,AndOrOp:X,ConditionalExpression:Y,CondOperator:Z,ForEach:$,JavaScript:_,ForLooperType:ab,Chain:bb,Chainer:cb,HeadExp:db,TailExp:eb,ChainMath:fb,ChainEq:gb};if(void 0!==c){if(void 0===jb[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var kb,lb,mb,nb=0,ob=0,pb=0,qb=[];kb=lb=this,kb.commands=[],kb.cs=[],kb.addC=function(a){kb.commands.push(a)},kb.$s=[],kb.add$=function(a){return a?(-1===kb.$s.indexOf(a)&&kb.$s.push(a),a):void 0},mb=[],kb.measures=[],kb.processMeasure=function(a){var b;return b=a.toString(),-1===mb.indexOf(b)&&(mb.push(b),kb.measures.push(a)),a},kb.getResults=function(){return{selectors:kb.$s,commands:JSON.parse(JSON.stringify(kb.commands))}},kb.toString=function(a){return"string"==typeof a?a:a instanceof Array?a.join(""):""},kb.error=function(a,b,c){return b&&c&&(a=a+" {line:"+b+", col:"+c+"}"),console.error(a),a};var rb=jb[c]();if(null===rb||nb!==b.length){var sb=Math.max(nb,pb),tb=sb<b.length?b.charAt(sb):null,ub=ib();throw new this.SyntaxError(hb(qb),tb,sb,ub.line,ub.column)}return rb},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),require.register("the-gss-vfl-compiler/lib/vfl-compiler.js",function(a,b,c){c.exports=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){nb>lb||(lb>nb&&(nb=lb,ob=[]),ob.push(a))}function e(){var a,b,c,d,e;if(d=lb,e=lb,a=Y(),null!==a){for(b=[],c=g();null!==c;)b.push(c),c=g();null!==b?(c=Y(),null!==c?a=[a,b,c]:(a=null,lb=e)):(a=null,lb=e)}else a=null,lb=e;return null!==a&&(a=function(){return bb.getResults()}(d)),null===a&&(lb=d),a}function f(){var a,b,c,d,e;if(d=lb,e=lb,a=Y(),null!==a){for(b=[],c=g();null!==c;)b.push(c),c=g();null!==b?(c=Y(),null!==c?a=[a,b,c]:(a=null,lb=e)):(a=null,lb=e)}else a=null,lb=e;return null!==a&&(a=function(a,b){return bb.getResults().concat(b)}(d,a[1])),null===a&&(lb=d),a}function g(){var a,b,c,d,e;return d=lb,e=lb,a=h(),null!==a?(b=R(),null!==b?(c=Y(),null!==c?a=[a,b,c]:(a=null,lb=e)):(a=null,lb=e)):(a=null,lb=e),null!==a&&(a=function(a,b){return b}(d,a[0])),null===a&&(lb=d),a}function h(){var a,b,c,d,e,f,g,h,l,m,n;if(l=lb,m=lb,a=j(),null!==a)if(b=Y(),null!==b)if(c=s(),null!==c){for(d=[],n=lb,e=Y(),null!==e?(f=C(),f=null!==f?f:"",null!==f?(g=Y(),null!==g?(h=s(),null!==h?e=[e,f,g,h]:(e=null,lb=n)):(e=null,lb=n)):(e=null,lb=n)):(e=null,lb=n);null!==e;)d.push(e),n=lb,e=Y(),null!==e?(f=C(),f=null!==f?f:"",null!==f?(g=Y(),null!==g?(h=s(),null!==h?e=[e,f,g,h]:(e=null,lb=n)):(e=null,lb=n)):(e=null,lb=n)):(e=null,lb=n);null!==d?(e=Y(),null!==e?(f=k(),f=null!==f?f:"",null!==f?a=[a,b,c,d,e,f]:(a=null,lb=m)):(a=null,lb=m)):(a=null,lb=m)}else a=null,lb=m;else a=null,lb=m;else a=null,lb=m;return null!==a&&(a=function(a,b,c,d,e){var f,g,h,i,j,k,l;h=c,j=c.view,k=[],"|"!==j&&k.push(j),bb.addPreds(j,c.preds,b);for(var m=0;m<d.length;m++)f=d[m][1],g=d[m][3].view,"|"!==g&&k.push(g),bb.addPreds(g,d[m][3].preds,b),h=[f,h,g],l="|"==j||"|"===g,i=ab.getLeftVar(j,b,e)+" "+ab.getConnectionString(f,b,e,l)+" "+ab.getRightVar(g,b,e)+ab.getTrailingOptions(e)+ab.getSW(e),bb.addC(i.trim()),j=g;return bb.addChains(k,e),{vfl:b,o:e}}(l,a[0],a[2],a[3],a[5])),null===a&&(lb=l),null===a&&(a=i()),a}function i(){var a,b,c,d,e,f,g,h,i;if(h=lb,i=lb,a=j(),null!==a)if(b=Y(),null!==b){if(d=G(),null!==d)for(c=[];null!==d;)c.push(d),d=G();else c=null;null!==c?(d=Y(),null!==d?(e=k(),e=null!==e?e:"",null!==e?(f=Y(),null!==f?(g=E(),g=null!==g?g:"",null!==g?a=[a,b,c,d,e,f,g]:(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)}else a=null,lb=i;else a=null,lb=i;return null!==a&&(a=function(a,b,c,d){var e="@chain ";return c=c.join("").trim(),e+=c+" ",e+=ab.leftVarNames[b]+"(",d||(d={}),d.gap&&(e+="+"+d.gap),e+=")"+ab.rightVarNames[b],d.chains&&d.chains.forEach(function(a){e+=" "+a[0]+"(",a[1].raw&&(e+=a[1].raw),e+=")"}),e+=ab.getTrailingOptions(d),e+=ab.getSW(d),bb.addC(e.trim()),{vfl:b,o:d}}(h,a[0],a[2],a[4],a[6])),null===a&&(lb=h),a}function j(){var a,c;return c=lb,"@horizontal"===b.substr(lb,11)?(a="@horizontal",lb+=11):(a=null,0===mb&&d('"@horizontal"')),null===a&&("@-gss-horizontal"===b.substr(lb,16)?(a="@-gss-horizontal",lb+=16):(a=null,0===mb&&d('"@-gss-horizontal"')),null===a&&("@-gss-h"===b.substr(lb,7)?(a="@-gss-h",lb+=7):(a=null,0===mb&&d('"@-gss-h"')),null===a&&("@h"===b.substr(lb,2)?(a="@h",lb+=2):(a=null,0===mb&&d('"@h"'))))),null!==a&&(a=function(){return 0}(c)),null===a&&(lb=c),null===a&&(c=lb,"@vertical"===b.substr(lb,9)?(a="@vertical",lb+=9):(a=null,0===mb&&d('"@vertical"')),null===a&&("@-gss-vertical"===b.substr(lb,14)?(a="@-gss-vertical",lb+=14):(a=null,0===mb&&d('"@-gss-vertical"')),null===a&&("@-gss-v"===b.substr(lb,7)?(a="@-gss-v",lb+=7):(a=null,0===mb&&d('"@-gss-v"')),null===a&&("@v"===b.substr(lb,2)?(a="@v",lb+=2):(a=null,0===mb&&d('"@v"'))))),null!==a&&(a=function(){return 1}(c)),null===a&&(lb=c)),a}function k(){var a,b,c;if(c=lb,b=l(),null!==b)for(a=[];null!==b;)a.push(b),b=l();else a=null;return null!==a&&(a=function(a,b){var c={};c.chains=[];for(var d=0;d<b.length;d++)b[d].chain?c.chains.push(b[d].chain):c[b[d].key]=b[d].value;return c}(c,a)),null===a&&(lb=c),a}function l(){var a,c,e,f,g,h,i;if(mb++,h=lb,i=lb,a=Y(),null!==a?(c=n(),null!==c?a=[a,c]:(a=null,lb=i)):(a=null,lb=i),null!==a&&(a=function(a,b){return b}(h,a[1])),null===a&&(lb=h),null===a){if(h=lb,i=lb,a=Y(),null!==a){if(e=G(),null!==e)for(c=[];null!==e;)c.push(e),e=G();else c=null;if(null!==c)if(40===b.charCodeAt(lb)?(e="(",lb++):(e=null,0===mb&&d('"("')),null!==e){if(g=m(),null!==g)for(f=[];null!==g;)f.push(g),g=m();else f=null;null!==f?(41===b.charCodeAt(lb)?(g=")",lb++):(g=null,0===mb&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,lb=i)):(a=null,lb=i)}else a=null,lb=i;else a=null,lb=i}else a=null,lb=i;null!==a&&(a=function(a,b,c){return{key:b.join(""),value:c.join("")}}(h,a[1],a[3])),null===a&&(lb=h),null===a&&(h=lb,i=lb,a=Y(),null!==a?(c=E(),null!==c?a=[a,c]:(a=null,lb=i)):(a=null,lb=i),null!==a&&(a=function(a,b){return{key:"sw",value:b}}(h,a[1])),null===a&&(lb=h))}return mb--,0===mb&&null===a&&d("Option"),a}function m(){var a;return/^[^>=<!)]/.test(b.charAt(lb))?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("[^>=<!)]")),a}function n(){var a,c,e,f,g;if(mb++,f=lb,g=lb,"chain-"===b.substr(lb,6)?(a="chain-",lb+=6):(a=null,0===mb&&d('"chain-"')),null!==a){if(e=G(),null!==e)for(c=[];null!==e;)c.push(e),e=G();else c=null;null!==c?(e=o(),e=null!==e?e:"",null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)}else a=null,lb=g;return null!==a&&(a=function(a,b,c){return{chain:[b.join(""),c]}}(f,a[1],a[2])),null===a&&(lb=f),mb--,0===mb&&null===a&&d("Chain"),a}function o(){var a,c,e,f,g;if(mb++,f=lb,g=lb,40===b.charCodeAt(lb)?(a="(",lb++):(a=null,0===mb&&d('"("')),null!==a){if(e=p(),null!==e)for(c=[];null!==e;)c.push(e),e=p();else c=null;null!==c?(41===b.charCodeAt(lb)?(e=")",lb++):(e=null,0===mb&&d('")"')),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)}else a=null,lb=g;return null!==a&&(a=function(a,b){return b.raw="",b.forEach(function(a){b.raw+=a.raw}),b}(f,a[1])),null===a&&(lb=f),null===a&&(f=lb,"()"===b.substr(lb,2)?(a="()",lb+=2):(a=null,0===mb&&d('"()"')),null!==a&&(a=function(){return{raw:""}}(f)),null===a&&(lb=f)),mb--,0===mb&&null===a&&d("ChainPredicate"),a}function p(){var a,c,e,f,g;return f=lb,g=lb,a=q(),null!==a?(c=X(),c=null!==c?c:"",null!==c?(44===b.charCodeAt(lb)?(e=",",lb++):(e=null,0===mb&&d('","')),e=null!==e?e:"",null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)):(a=null,lb=g),null!==a&&(a=function(a,b){return b.raw=b.headEq+b.value+b.tailEq+b.s,b}(f,a[0])),null===a&&(lb=f),a}function q(){var a,b,c,d,e,f,g,h,i;return h=lb,i=lb,a=v(),null!==a?(b=X(),null!==b?(c=r(),c=null!==c?c:"",null!==c?(d=X(),d=null!==d?d:"",null!==d?(e=v(),e=null!==e?e:"",null!==e?(f=X(),f=null!==f?f:"",null!==f?(g=E(),g=null!==g?g:"",null!==g?a=[a,b,c,d,e,f,g]:(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i),null!==a&&(a=function(a,b,c,d,e){return{headEq:ab.join(b),value:ab.join(c),tailEq:ab.join(d),s:e}}(h,a[0],a[2],a[4],a[6])),null===a&&(lb=h),null===a&&(h=lb,i=lb,a=v(),a=null!==a?a:"",null!==a?(b=X(),b=null!==b?b:"",null!==b?(c=r(),null!==c?(d=X(),d=null!==d?d:"",null!==d?(e=v(),e=null!==e?e:"",null!==e?(f=X(),f=null!==f?f:"",null!==f?(g=E(),g=null!==g?g:"",null!==g?a=[a,b,c,d,e,f,g]:(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i),null!==a&&(a=function(a,b,c,d,e){return{headEq:ab.join(b),value:ab.join(c),tailEq:ab.join(d),s:e}}(h,a[0],a[2],a[4],a[6])),null===a&&(lb=h),null===a&&(h=lb,i=lb,a=v(),a=null!==a?a:"",null!==a?(b=X(),b=null!==b?b:"",null!==b?(c=r(),c=null!==c?c:"",null!==c?(d=X(),d=null!==d?d:"",null!==d?(e=v(),e=null!==e?e:"",null!==e?(f=X(),f=null!==f?f:"",null!==f?(g=E(),null!==g?a=[a,b,c,d,e,f,g]:(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i),null!==a&&(a=function(a,b,c,d,e){return{headEq:ab.join(b),value:ab.join(c),tailEq:ab.join(d),s:e}}(h,a[0],a[2],a[4],a[6])),null===a&&(lb=h))),a}function r(){var a,c;if(/^[^>=<!) ]/.test(b.charAt(lb))?(c=b.charAt(lb),lb++):(c=null,0===mb&&d("[^>=<!) ]")),null!==c)for(a=[];null!==c;)a.push(c),/^[^>=<!) ]/.test(b.charAt(lb))?(c=b.charAt(lb),lb++):(c=null,0===mb&&d("[^>=<!) ]"));else a=null;return a}function s(){var a,c,e,f,g,h;if(mb++,g=lb,h=lb,91===b.charCodeAt(lb)?(a="[",lb++):(a=null,0===mb&&d('"["')),null!==a){if(e=G(),null!==e)for(c=[];null!==e;)c.push(e),e=G();else c=null;null!==c?(e=t(),e=null!==e?e:"",null!==e?(93===b.charCodeAt(lb)?(f="]",lb++):(f=null,0===mb&&d('"]"')),null!==f?a=[a,c,e,f]:(a=null,lb=h)):(a=null,lb=h)):(a=null,lb=h)}else a=null,lb=h;return null!==a&&(a=function(a,b,c){return{view:b.join(""),preds:c}}(g,a[1],a[2])),null===a&&(lb=g),null===a&&(g=lb,124===b.charCodeAt(lb)?(a="|",lb++):(a=null,0===mb&&d('"|"')),null!==a&&(a=function(){return{view:"|"}}(g)),null===a&&(lb=g)),mb--,0===mb&&null===a&&d("VFL Element"),a}function t(){var a,c,e,f,g,h,i,j,k,l,m;if(mb++,k=lb,l=lb,40===b.charCodeAt(lb)?(a="(",lb++):(a=null,0===mb&&d('"("')),null!==a){if(m=lb,e=v(),null!==e?(f=u(),null!==f?(g=E(),g=null!==g?g:"",null!==g?(h=X(),h=null!==h?h:"",null!==h?(i=B(),null!==i?(j=X(),j=null!==j?j:"",null!==j?e=[e,f,g,h,i,j]:(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m),null!==e)for(c=[];null!==e;)c.push(e),m=lb,e=v(),null!==e?(f=u(),null!==f?(g=E(),g=null!==g?g:"",null!==g?(h=X(),h=null!==h?h:"",null!==h?(i=B(),null!==i?(j=X(),j=null!==j?j:"",null!==j?e=[e,f,g,h,i,j]:(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m)):(e=null,lb=m);else c=null;null!==c?(41===b.charCodeAt(lb)?(e=")",lb++):(e=null,0===mb&&d('")"')),null!==e?a=[a,c,e]:(a=null,lb=l)):(a=null,lb=l)}else a=null,lb=l;return null!==a&&(a=function(a,b){return b}(k,a[1])),null===a&&(lb=k),mb--,0===mb&&null===a&&d("Predicate"),a}function u(){var a,b;if(mb++,b=w(),null===b&&(b=y(),null===b&&(b=z(),null===b&&(b=A(),null===b&&(b=x())))),null!==b)for(a=[];null!==b;)a.push(b),b=w(),null===b&&(b=y(),null===b&&(b=z(),null===b&&(b=A(),null===b&&(b=x()))));else a=null;return mb--,0===mb&&null===a&&d("Predicate Expression"),a}function v(){var a,c,e,f,g,h;return f=lb,g=lb,a=X(),a=null!==a?a:"",null!==a?("=="===b.substr(lb,2)?(c="==",lb+=2):(c=null,0===mb&&d('"=="')),null===c&&("<="===b.substr(lb,2)?(c="<=",lb+=2):(c=null,0===mb&&d('"<="')),null===c&&(60===b.charCodeAt(lb)?(c="<",lb++):(c=null,0===mb&&d('"<"')),null===c&&(">="===b.substr(lb,2)?(c=">=",lb+=2):(c=null,0===mb&&d('">="')),null===c&&(62===b.charCodeAt(lb)?(c=">",lb++):(c=null,0===mb&&d('">"')),null===c&&(h=lb,"=<"===b.substr(lb,2)?(c="=<",lb+=2):(c=null,0===mb&&d('"=<"')),null!==c&&(c=function(){return"<="}(h)),null===c&&(lb=h),null===c&&(h=lb,"=>"===b.substr(lb,2)?(c="=>",lb+=2):(c=null,0===mb&&d('"=>"')),null!==c&&(c=function(){return">="}(h)),null===c&&(lb=h))))))),null!==c?(e=X(),e=null!==e?e:"",null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)):(a=null,lb=g),null!==a&&(a=function(a,b){return b}(f,a[1])),null===a&&(lb=f),a}function w(){var a,c,e,f;return e=lb,f=lb,/^[+\-\/*]/.test(b.charAt(lb))?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("[+\\-\\/*]")),null!==a?(c=X(),c=null!==c?c:"",null!==c?a=[a,c]:(a=null,lb=f)):(a=null,lb=f),null!==a&&(a=function(a,b){return b}(e,a[0])),null===a&&(lb=e),a}function x(){var a,b,c,d;if(c=lb,d=lb,b=G(),null!==b)for(a=[];null!==b;)a.push(b),b=G();else a=null;return null!==a?(b=X(),b=null!==b?b:"",null!==b?a=[a,b]:(a=null,lb=d)):(a=null,lb=d),null!==a&&(a=function(a,b){return["view",b.join("")]}(c,a[0])),null===a&&(lb=c),a}function y(){var a,b,c,d;if(c=lb,d=lb,b=J(),null!==b)for(a=[];null!==b;)a.push(b),b=J();else a=null;return null!==a?(b=X(),b=null!==b?b:"",null!==b?a=[a,b]:(a=null,lb=d)):(a=null,lb=d),null!==a&&(a=function(a,b){return b.join("")}(c,a[0])),null===a&&(lb=c),a}function z(){var a,c,e,f,g,h;if(g=lb,h=lb,91===b.charCodeAt(lb)?(a="[",lb++):(a=null,0===mb&&d('"["')),null!==a){if(e=G(),null!==e)for(c=[];null!==e;)c.push(e),e=G();else c=null;null!==c?(93===b.charCodeAt(lb)?(e="]",lb++):(e=null,0===mb&&d('"]"')),null!==e?(f=X(),f=null!==f?f:"",null!==f?a=[a,c,e,f]:(a=null,lb=h)):(a=null,lb=h)):(a=null,lb=h)}else a=null,lb=h;return null!==a&&(a=function(a,b){return"["+b.join("")+"]"}(g,a[1])),null===a&&(lb=g),a}function A(){var a,c,e,f,g,h,i;if(h=lb,i=lb,c=G(),null!==c)for(a=[];null!==c;)a.push(c),c=G();else a=null;if(null!==a)if(91===b.charCodeAt(lb)?(c="[",lb++):(c=null,0===mb&&d('"["')),null!==c){if(f=G(),null!==f)for(e=[];null!==f;)e.push(f),f=G();else e=null;null!==e?(93===b.charCodeAt(lb)?(f="]",lb++):(f=null,0===mb&&d('"]"')),null!==f?(g=X(),g=null!==g?g:"",null!==g?a=[a,c,e,f,g]:(a=null,lb=i)):(a=null,lb=i)):(a=null,lb=i)}else a=null,lb=i;else a=null,lb=i;return null!==a&&(a=function(a,b,c){return b.join("")+"["+c.join("")+"]"}(h,a[0],a[2])),null===a&&(lb=h),a}function B(){var a,c;return c=lb,44===b.charCodeAt(lb)?(a=",",lb++):(a=null,0===mb&&d('","')),a=null!==a?a:"",null!==a&&(a=function(){return""}(c)),null===a&&(lb=c),a}function C(){var a,c,e,f,g;if(mb++,f=lb,g=lb,45===b.charCodeAt(lb)?(a="-",lb++):(a=null,0===mb&&d('"-"')),null!==a){if(e=D(),null!==e)for(c=[];null!==e;)c.push(e),e=D();else c=null;null!==c?(45===b.charCodeAt(lb)?(e="-",lb++):(e=null,0===mb&&d('"-"')),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)}else a=null,lb=g;if(null!==a&&(a=function(a,b){return{op:"==",gap:b.join("")}}(f,a[1])),null===a&&(lb=f),null===a&&(f=lb,45===b.charCodeAt(lb)?(a="-",lb++):(a=null,0===mb&&d('"-"')),null!==a&&(a=function(){return{op:"==",gap:"__STANDARD__"}}(f)),null===a&&(lb=f),null===a)){if(f=lb,g=lb,126===b.charCodeAt(lb)?(a="~",lb++):(a=null,0===mb&&d('"~"')),null!==a){if(e=D(),null!==e)for(c=[];null!==e;)c.push(e),e=D();else c=null;null!==c?(126===b.charCodeAt(lb)?(e="~",lb++):(e=null,0===mb&&d('"~"')),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)}else a=null,lb=g;null!==a&&(a=function(a,b){return{op:"<=",gap:b.join("")}}(f,a[1])),null===a&&(lb=f),null===a&&(f=lb,g=lb,126===b.charCodeAt(lb)?(a="~",lb++):(a=null,0===mb&&d('"~"')),null!==a?(45===b.charCodeAt(lb)?(c="-",lb++):(c=null,0===mb&&d('"-"')),null!==c?(126===b.charCodeAt(lb)?(e="~",lb++):(e=null,0===mb&&d('"~"')),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)):(a=null,lb=g),null!==a&&(a=function(){return{op:"<=",gap:"__STANDARD__"}}(f)),null===a&&(lb=f),null===a&&(f=lb,126===b.charCodeAt(lb)?(a="~",lb++):(a=null,0===mb&&d('"~"')),null!==a&&(a=function(){return{op:"<="}
}(f)),null===a&&(lb=f),null===a&&(f=lb,a="",null!==a&&(a=function(){return{op:"=="}}(f)),null===a&&(lb=f))))}return mb--,0===mb&&null===a&&d("VFL Connection"),a}function D(){var a;return mb++,/^[a-zA-Z0-9#._$]/.test(b.charAt(lb))?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("[a-zA-Z0-9#._$]")),mb--,0===mb&&null===a&&d("VFL Connection Gap"),a}function E(){var a,c,e,f,g,h;if(mb++,g=lb,h=lb,33===b.charCodeAt(lb)?(a="!",lb++):(a=null,0===mb&&d('"!"')),null!==a){if(/^[a-zA-Z]/.test(b.charAt(lb))?(e=b.charAt(lb),lb++):(e=null,0===mb&&d("[a-zA-Z]")),null!==e)for(c=[];null!==e;)c.push(e),/^[a-zA-Z]/.test(b.charAt(lb))?(e=b.charAt(lb),lb++):(e=null,0===mb&&d("[a-zA-Z]"));else c=null;if(c=null!==c?c:"",null!==c){if(/^[0-9]/.test(b.charAt(lb))?(f=b.charAt(lb),lb++):(f=null,0===mb&&d("[0-9]")),null!==f)for(e=[];null!==f;)e.push(f),/^[0-9]/.test(b.charAt(lb))?(f=b.charAt(lb),lb++):(f=null,0===mb&&d("[0-9]"));else e=null;e=null!==e?e:"",null!==e?a=[a,c,e]:(a=null,lb=h)}else a=null,lb=h}else a=null,lb=h;return null!==a&&(a=function(a,b,c){var d;return d="!"+ab.join(b)+ab.join(c),d.trim()}(g,a[1],a[2])),null===a&&(lb=g),null===a&&(g=lb,h=lb,33===b.charCodeAt(lb)?(a="!",lb++):(a=null,0===mb&&d('"!"')),null!==a?(b.length>lb?(c=b.charAt(lb),lb++):(c=null,0===mb&&d("any character")),c=null!==c?c:"",null!==c?a=[a,c]:(a=null,lb=h)):(a=null,lb=h),null!==a&&(a=function(){return bb.error("Invalid Strength or Weight",line,column)}(g)),null===a&&(lb=g)),mb--,0===mb&&null===a&&d("Strength / Weight"),a}function F(){var a,c;return c=lb,"require"===b.substr(lb,7)?(a="require",lb+=7):(a=null,0===mb&&d('"require"')),null===a&&("REQUIRE"===b.substr(lb,7)?(a="REQUIRE",lb+=7):(a=null,0===mb&&d('"REQUIRE"')),null===a&&("Require"===b.substr(lb,7)?(a="Require",lb+=7):(a=null,0===mb&&d('"Require"')))),null!==a&&(a=function(){return"require"}(c)),null===a&&(lb=c),null===a&&(c=lb,"strong"===b.substr(lb,6)?(a="strong",lb+=6):(a=null,0===mb&&d('"strong"')),null===a&&("STRONG"===b.substr(lb,6)?(a="STRONG",lb+=6):(a=null,0===mb&&d('"STRONG"')),null===a&&("Strong"===b.substr(lb,6)?(a="Strong",lb+=6):(a=null,0===mb&&d('"Strong"')))),null!==a&&(a=function(){return"strong"}(c)),null===a&&(lb=c),null===a&&(c=lb,"medium"===b.substr(lb,6)?(a="medium",lb+=6):(a=null,0===mb&&d('"medium"')),null===a&&("MEDIUM"===b.substr(lb,6)?(a="MEDIUM",lb+=6):(a=null,0===mb&&d('"MEDIUM"')),null===a&&("Medium"===b.substr(lb,6)?(a="Medium",lb+=6):(a=null,0===mb&&d('"Medium"')))),null!==a&&(a=function(){return"medium"}(c)),null===a&&(lb=c),null===a&&(c=lb,"weak"===b.substr(lb,4)?(a="weak",lb+=4):(a=null,0===mb&&d('"weak"')),null===a&&("WEAK"===b.substr(lb,4)?(a="WEAK",lb+=4):(a=null,0===mb&&d('"WEAK"')),null===a&&("Weak"===b.substr(lb,4)?(a="Weak",lb+=4):(a=null,0===mb&&d('"Weak"')))),null!==a&&(a=function(){return"weak"}(c)),null===a&&(lb=c),null===a&&(c=lb,"required"===b.substr(lb,8)?(a="required",lb+=8):(a=null,0===mb&&d('"required"')),null===a&&("REQUIRED"===b.substr(lb,8)?(a="REQUIRED",lb+=8):(a=null,0===mb&&d('"REQUIRED"')),null===a&&("Required"===b.substr(lb,8)?(a="Required",lb+=8):(a=null,0===mb&&d('"Required"')))),null!==a&&(a=function(){return"require"}(c)),null===a&&(lb=c))))),a}function G(){var a;return/^[a-zA-Z0-9#.\-_$:""]/.test(b.charAt(lb))?(a=b.charAt(lb),lb++):(a=null,0===mb&&d('[a-zA-Z0-9#.\\-_$:""]')),a}function H(){var a;return a=G(),null===a&&(32===b.charCodeAt(lb)?(a=" ",lb++):(a=null,0===mb&&d('" "'))),a}function I(){var a,b;return b=lb,a=J(),null!==a&&(a=function(a,b){return["number",b]}(b,a)),null===a&&(lb=b),a}function J(){var a;return a=L(),null===a&&(a=K()),a}function K(){var a,c,e;if(e=lb,/^[0-9]/.test(b.charAt(lb))?(c=b.charAt(lb),lb++):(c=null,0===mb&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(lb))?(c=b.charAt(lb),lb++):(c=null,0===mb&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""),10)}(e,a)),null===a&&(lb=e),a}function L(){var a,c,e,f,g;return f=lb,g=lb,a=K(),null!==a?(46===b.charCodeAt(lb)?(c=".",lb++):(c=null,0===mb&&d('"."')),null!==c?(e=K(),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)):(a=null,lb=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(lb=f),a}function M(){var a,c,e,f;if(f=lb,/^[\-+]/.test(b.charAt(lb))?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(lb))?(e=b.charAt(lb),lb++):(e=null,0===mb&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(lb))?(e=b.charAt(lb),lb++):(e=null,0===mb&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,lb=f)}else a=null,lb=f;return a}function N(){var a;return b.length>lb?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("any character")),a}function O(){var a;return mb++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(lb))?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),mb--,0===mb&&null===a&&d("whitespace"),a}function P(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(lb))?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("[\\n\\r\\u2028\\u2029]")),a}function Q(){var a;return mb++,10===b.charCodeAt(lb)?(a="\n",lb++):(a=null,0===mb&&d('"\\n"')),null===a&&("\r\n"===b.substr(lb,2)?(a="\r\n",lb+=2):(a=null,0===mb&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(lb)?(a="\r",lb++):(a=null,0===mb&&d('"\\r"')),null===a&&(8232===b.charCodeAt(lb)?(a="\u2028",lb++):(a=null,0===mb&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(lb)?(a="\u2029",lb++):(a=null,0===mb&&d('"\\u2029"')))))),mb--,0===mb&&null===a&&d("end of line"),a}function R(){var a,c,e;return e=lb,a=Y(),null!==a?(59===b.charCodeAt(lb)?(c=";",lb++):(c=null,0===mb&&d('";"')),null!==c?a=[a,c]:(a=null,lb=e)):(a=null,lb=e),null===a&&(e=lb,a=X(),null!==a?(c=Q(),null!==c?a=[a,c]:(a=null,lb=e)):(a=null,lb=e),null===a&&(e=lb,a=Y(),null!==a?(c=S(),null!==c?a=[a,c]:(a=null,lb=e)):(a=null,lb=e))),a}function S(){var a,c;return c=lb,mb++,b.length>lb?(a=b.charAt(lb),lb++):(a=null,0===mb&&d("any character")),mb--,null===a?a="":(a=null,lb=c),a}function T(){var a;return mb++,a=U(),null===a&&(a=W()),mb--,0===mb&&null===a&&d("comment"),a}function U(){var a,c,e,f,g,h,i;if(g=lb,"/*"===b.substr(lb,2)?(a="/*",lb+=2):(a=null,0===mb&&d('"/*"')),null!==a){for(c=[],h=lb,i=lb,mb++,"*/"===b.substr(lb,2)?(e="*/",lb+=2):(e=null,0===mb&&d('"*/"')),mb--,null===e?e="":(e=null,lb=i),null!==e?(f=N(),null!==f?e=[e,f]:(e=null,lb=h)):(e=null,lb=h);null!==e;)c.push(e),h=lb,i=lb,mb++,"*/"===b.substr(lb,2)?(e="*/",lb+=2):(e=null,0===mb&&d('"*/"')),mb--,null===e?e="":(e=null,lb=i),null!==e?(f=N(),null!==f?e=[e,f]:(e=null,lb=h)):(e=null,lb=h);null!==c?("*/"===b.substr(lb,2)?(e="*/",lb+=2):(e=null,0===mb&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)}else a=null,lb=g;return a}function V(){var a,c,e,f,g,h,i;if(g=lb,"/*"===b.substr(lb,2)?(a="/*",lb+=2):(a=null,0===mb&&d('"/*"')),null!==a){for(c=[],h=lb,i=lb,mb++,"*/"===b.substr(lb,2)?(e="*/",lb+=2):(e=null,0===mb&&d('"*/"')),null===e&&(e=P()),mb--,null===e?e="":(e=null,lb=i),null!==e?(f=N(),null!==f?e=[e,f]:(e=null,lb=h)):(e=null,lb=h);null!==e;)c.push(e),h=lb,i=lb,mb++,"*/"===b.substr(lb,2)?(e="*/",lb+=2):(e=null,0===mb&&d('"*/"')),null===e&&(e=P()),mb--,null===e?e="":(e=null,lb=i),null!==e?(f=N(),null!==f?e=[e,f]:(e=null,lb=h)):(e=null,lb=h);null!==c?("*/"===b.substr(lb,2)?(e="*/",lb+=2):(e=null,0===mb&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)}else a=null,lb=g;return a}function W(){var a,c,e,f,g,h,i;if(g=lb,"//"===b.substr(lb,2)?(a="//",lb+=2):(a=null,0===mb&&d('"//"')),null!==a){for(c=[],h=lb,i=lb,mb++,e=P(),mb--,null===e?e="":(e=null,lb=i),null!==e?(f=N(),null!==f?e=[e,f]:(e=null,lb=h)):(e=null,lb=h);null!==e;)c.push(e),h=lb,i=lb,mb++,e=P(),mb--,null===e?e="":(e=null,lb=i),null!==e?(f=N(),null!==f?e=[e,f]:(e=null,lb=h)):(e=null,lb=h);null!==c?(e=P(),null===e&&(e=S()),null!==e?a=[a,c,e]:(a=null,lb=g)):(a=null,lb=g)}else a=null,lb=g;return a}function X(){var a,b;for(a=[],b=O(),null===b&&(b=V(),null===b&&(b=W()));null!==b;)a.push(b),b=O(),null===b&&(b=V(),null===b&&(b=W()));return a}function Y(){var a,b;for(a=[],b=O(),null===b&&(b=Q(),null===b&&(b=T()));null!==b;)a.push(b),b=O(),null===b&&(b=Q(),null===b&&(b=T()));return a}function Z(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function $(){for(var a=1,c=1,d=!1,e=0;e<Math.max(lb,nb);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var _={start:e,debug:f,Statement:g,VFLStatement:h,VFLPluralStatement:i,Dimension:j,Options:k,Option:l,OpionValueChars:m,Chain:n,ChainPredicate:o,ChainPredicateItems:p,ChainPredicateItem:q,ChainPredVal:r,View:s,Predicate:t,PredExpression:u,PredEq:v,PredOp:w,PredView:x,PredLiteral:y,PredVariable:z,PredViewVariable:A,PredSeperator:B,Connection:C,GapChars:D,StrengthAndWeight:E,Strength:F,NameChars:G,NameCharsWithSpace:H,Literal:I,Number:J,Integer:K,Real:L,SignedInteger:M,SourceCharacter:N,WhiteSpace:O,LineTerminator:P,LineTerminatorSequence:Q,EOS:R,EOF:S,Comment:T,MultiLineComment:U,MultiLineCommentNoLineTerminator:V,SingleLineComment:W,_:X,__:Y};if(void 0!==c){if(void 0===_[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb=0,mb=0,nb=0,ob=[];ab=bb=this,ab.trickleDownOptions=["name"],kb=ab.sizeVarNames=["width","height"],db=ab.leftVarNames=["right","bottom"],eb=ab.superLeftVarNames=["left","top"],fb=ab.rightVarNames=["left","top"],gb=ab.superRightVarNames=["right","bottom"],cb=bb.cs=[],bb.addC=function(a){cb.push(a)},bb.addPreds=function(a,b,c){var d,e,f,g,h;if(b)for(var i=0;i<b.length;i++){d=b[i],f=d[0],e=a+"["+kb[c]+"] "+f+" ",g=d[1];for(var j=0;j<g.length;j++)h=g[j],"view"===h[0]&&(h=h[1]+"["+kb[c]+"]"),e+=h+" ";e+=d[2],cb.push(e.trim())}},bb.defaultChainObject={headEq:"==",value:"",tailEq:"",s:""},bb.chainTailEqMap={"<=":">=",">=":"<=","==":"==","<":">",">":"<"},bb.addChains=function(a,b){var c,d,e,f,g,h,i;if(c=b.chains)for(var j=0;j<c.length;j++){d=c[j],e=d[0],f=d[1],""===f&&(f=[bb.defaultChainObject]);for(var k=0;k<f.length;k++){i=f[k],g="";for(var l=0;l<a.length-1;l++)h=a[l],""===i.headEq&&(i.headEq=bb.defaultChainObject.headEq),g+=" "+h+"["+e+"] "+i.headEq,""!==i.value&&(g+=" "+i.value,a.length>1?(""===i.tailEq&&(i.tailEq=bb.chainTailEqMap[i.headEq]),g+=" "+i.tailEq):(g+=" "+i.s,cb.push(g.trim())));a.length>1&&(g+=" "+a[a.length-1]+"["+e+"]",g+=ab.getTrailingOptions(b),g+=" "+i.s,cb.push(g.trim()))}}},ib=function(a){return void 0===a.in?"::this":a.in},bb.getLeftVar=function(a,b,c){var d,e;return"|"===a?(e=ib(c),d=eb[b]):(e=a,d=db[b]),e+"["+d+"]"},bb.getRightVar=function(a,b,c){var d;return"|"===a?(a=ib(c),d=gb[b]):d=fb[b],a+"["+d+"]"},hb=["[hgap]","[vgap]"],jb=function(a,b,c,d){return void 0===a?"":("__STANDARD__"===a&&(a=d&&c["outer-gap"]?c["outer-gap"]:c.gap?c.gap:hb[b]),"+ "+a)},bb.getConnectionString=function(a,b,c,d){return(jb(a.gap,b,c,d)+" "+a.op).trim()},ab.getTrailingOptions=function(a){var b="";return ab.trickleDownOptions.forEach(function(c){null!=a[c]&&(b=b+" "+c+"("+a[c]+")")}),b},ab.getSW=function(a){return a.sw?" "+a.sw.trim():""},bb.getResults=function(){return this.cs},bb.error=function(a,b,c){return b&&c&&(a=a+" {line:"+b+", col:"+c+"}"),console.error(a),a},bb.join=function(a){return a.join?a.join(""):a};var pb=_[c]();if(null===pb||lb!==b.length){var qb=Math.max(lb,nb),rb=qb<b.length?b.charAt(qb):null,sb=$();throw new this.SyntaxError(Z(ob),rb,qb,sb.line,sb.column)}return pb},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),require.register("the-gss-vfl-compiler/lib/compiler.js",function(a,b){var c=b("./vfl-compiler");a.parse=function(a){return c.parse(a)}}),require.register("the-gss-vgl-compiler/lib/vgl-compiler.js",function(a,b,c){c.exports=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){Z>X||(X>Z&&(Z=X,$=[]),$.push(a))}function e(){var a,b,c,d,e;if(d=X,e=X,a=N(),null!==a){for(b=[],c=f();null!==c;)b.push(c),c=f();null!==b?(c=N(),null!==c?a=[a,b,c]:(a=null,X=e)):(a=null,X=e)}else a=null,X=e;return null!==a&&(a=function(){return R.getResults()}(d)),null===a&&(X=d),a}function f(){var a,c,e,f,h,i;return h=X,i=X,64===b.charCodeAt(X)?(a="@",X++):(a=null,0===Y&&d('"@"')),null!==a?(c=g(),null!==c?(e=G(),null!==e?(f=N(),null!==f?a=[a,c,e,f]:(a=null,X=i)):(a=null,X=i)):(a=null,X=i)):(a=null,X=i),null!==a&&(a=function(a,b){return b}(h,a[1])),null===a&&(X=h),a}function g(){var a;return a=h(),null===a&&(a=i()),a}function h(){var a,c,e,f,g,h,i,j,k,l,m;if(Y++,l=X,m=X,"grid-"===b.substr(X,5)?(a="grid-",X+=5):(a=null,0===Y&&d('"grid-"')),null===a&&("-gss-grid-"===b.substr(X,10)?(a="-gss-grid-",X+=10):(a=null,0===Y&&d('"-gss-grid-"'))),null!==a)if(c=o(),null!==c)if(e=N(),null!==e)if(34===b.charCodeAt(X)?(f='"',X++):(f=null,0===Y&&d('"\\""')),null!==f)if(g=p(),null!==g)if(34===b.charCodeAt(X)?(h='"',X++):(h=null,0===Y&&d('"\\""')),null!==h)if(i=N(),null!==i){for(j=[],k=F();null!==k;)j.push(k),k=F();null!==j?a=[a,c,e,f,g,h,i,j]:(a=null,X=m)}else a=null,X=m;else a=null,X=m;else a=null,X=m;else a=null,X=m;else a=null,X=m;else a=null,X=m;else a=null,X=m;return null!==a&&(a=function(a,b,c,d){var e;e="@"+["v","h"][b]+" "+c+" "+"in"+"(::)"+" "+"chain-"+R.size[b]+"(::["+R.size[b]+"]) "+"chain-"+R.size[1-b]+" "+"chain-"+R.pos[b]+"(::["+R.pos[b]+"]) "+R.trim(d),R.addVFL(e.trim())}(l,a[1],a[4],a[7])),null===a&&(X=l),Y--,0===Y&&null===a&&d("grid-rows / grid-cols"),a}function i(){var a,c,e,f,g,h,i,l;if(Y++,i=X,l=X,"grid-"===b.substr(X,5)?(a="grid-",X+=5):(a=null,0===Y&&d('"grid-"')),null===a&&("-gss-grid-"===b.substr(X,10)?(a="-gss-grid-",X+=10):(a=null,0===Y&&d('"-gss-grid-"'))),null!==a)if("template"===b.substr(X,8)?(c="template",X+=8):(c=null,0===Y&&d('"template"')),null!==c)if(e=N(),null!==e){if(/^[0-9a-zA-Z\-_]/.test(b.charAt(X))?(g=b.charAt(X),X++):(g=null,0===Y&&d("[0-9a-zA-Z\\-_]")),null!==g)for(f=[];null!==g;)f.push(g),/^[0-9a-zA-Z\-_]/.test(b.charAt(X))?(g=b.charAt(X),X++):(g=null,0===Y&&d("[0-9a-zA-Z\\-_]"));else f=null;if(null!==f){if(h=j(),null!==h)for(g=[];null!==h;)g.push(h),h=j();else g=null;null!==g?(h=k(),null!==h?a=[a,c,e,f,g,h]:(a=null,X=l)):(a=null,X=l)}else a=null,X=l}else a=null,X=l;else a=null,X=l;else a=null,X=l;return null!==a&&(a=function(a,b,c,d){R.addTemplate(c,R.stringify(b),d)}(i,a[3],a[4],a[5])),null===a&&(X=i),Y--,0===Y&&null===a&&d("grid-template"),a}function j(){var a,c,e,f,g,h,i;if(Y++,h=X,i=X,a=N(),null!==a)if(34===b.charCodeAt(X)?(c='"',X++):(c=null,0===Y&&d('"\\""')),null!==c){if(f=n(),null!==f)for(e=[];null!==f;)e.push(f),f=n();else e=null;null!==e?(34===b.charCodeAt(X)?(f='"',X++):(f=null,0===Y&&d('"\\""')),null!==f?(g=N(),null!==g?a=[a,c,e,f,g]:(a=null,X=i)):(a=null,X=i)):(a=null,X=i)}else a=null,X=i;else a=null,X=i;return null!==a&&(a=function(a,b){return R.processHZones(b)}(h,a[2])),null===a&&(X=h),Y--,0===Y&&null===a&&d("template line"),a}function k(){var a,b,c;for(Y++,c=X,a=[],b=l();null!==b;)a.push(b),b=l();return null!==a&&(a=function(a,b){var c={};return b&&(c={},b.forEach(function(a){c[a.key]=a.value})),c}(c,a)),null===a&&(X=c),Y--,0===Y&&null===a&&d("Template Options"),a}function l(){var a,c,e,f,g,h,i;if(Y++,h=X,i=X,a=N(),null!==a){if(e=u(),null!==e)for(c=[];null!==e;)c.push(e),e=u();else c=null;if(null!==c)if(40===b.charCodeAt(X)?(e="(",X++):(e=null,0===Y&&d('"("')),null!==e){if(g=m(),null!==g)for(f=[];null!==g;)f.push(g),g=m();else f=null;null!==f?(41===b.charCodeAt(X)?(g=")",X++):(g=null,0===Y&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,X=i)):(a=null,X=i)}else a=null,X=i;else a=null,X=i}else a=null,X=i;return null!==a&&(a=function(a,b,c){return{key:b.join(""),value:c.join("")}}(h,a[1],a[3])),null===a&&(X=h),Y--,0===Y&&null===a&&d("TemplateOption"),a}function m(){var a;return/^[^>=<!)]/.test(b.charAt(X))?(a=b.charAt(X),X++):(a=null,0===Y&&d("[^>=<!)]")),a}function n(){var a,c,e,f,g;if(Y++,f=X,48===b.charCodeAt(X)?(c="0",X++):(c=null,0===Y&&d('"0"')),null!==c)for(a=[];null!==c;)a.push(c),48===b.charCodeAt(X)?(c="0",X++):(c=null,0===Y&&d('"0"'));else a=null;if(null===a){if(49===b.charCodeAt(X)?(c="1",X++):(c=null,0===Y&&d('"1"')),null!==c)for(a=[];null!==c;)a.push(c),49===b.charCodeAt(X)?(c="1",X++):(c=null,0===Y&&d('"1"'));else a=null;if(null===a){if(50===b.charCodeAt(X)?(c="2",X++):(c=null,0===Y&&d('"2"')),null!==c)for(a=[];null!==c;)a.push(c),50===b.charCodeAt(X)?(c="2",X++):(c=null,0===Y&&d('"2"'));else a=null;if(null===a){if(51===b.charCodeAt(X)?(c="3",X++):(c=null,0===Y&&d('"3"')),null!==c)for(a=[];null!==c;)a.push(c),51===b.charCodeAt(X)?(c="3",X++):(c=null,0===Y&&d('"3"'));else a=null;if(null===a){if(52===b.charCodeAt(X)?(c="4",X++):(c=null,0===Y&&d('"4"')),null!==c)for(a=[];null!==c;)a.push(c),52===b.charCodeAt(X)?(c="4",X++):(c=null,0===Y&&d('"4"'));else a=null;if(null===a){if(53===b.charCodeAt(X)?(c="5",X++):(c=null,0===Y&&d('"5"')),null!==c)for(a=[];null!==c;)a.push(c),53===b.charCodeAt(X)?(c="5",X++):(c=null,0===Y&&d('"5"'));else a=null;if(null===a){if(54===b.charCodeAt(X)?(c="6",X++):(c=null,0===Y&&d('"6"')),null!==c)for(a=[];null!==c;)a.push(c),54===b.charCodeAt(X)?(c="6",X++):(c=null,0===Y&&d('"6"'));else a=null;if(null===a){if(55===b.charCodeAt(X)?(c="7",X++):(c=null,0===Y&&d('"7"')),null!==c)for(a=[];null!==c;)a.push(c),55===b.charCodeAt(X)?(c="7",X++):(c=null,0===Y&&d('"7"'));else a=null;if(null===a){if(56===b.charCodeAt(X)?(c="8",X++):(c=null,0===Y&&d('"8"')),null!==c)for(a=[];null!==c;)a.push(c),56===b.charCodeAt(X)?(c="8",X++):(c=null,0===Y&&d('"8"'));else a=null;if(null===a){if(57===b.charCodeAt(X)?(c="9",X++):(c=null,0===Y&&d('"9"')),null!==c)for(a=[];null!==c;)a.push(c),57===b.charCodeAt(X)?(c="9",X++):(c=null,0===Y&&d('"9"'));else a=null;if(null===a){if(97===b.charCodeAt(X)?(c="a",X++):(c=null,0===Y&&d('"a"')),null!==c)for(a=[];null!==c;)a.push(c),97===b.charCodeAt(X)?(c="a",X++):(c=null,0===Y&&d('"a"'));else a=null;if(null===a){if(98===b.charCodeAt(X)?(c="b",X++):(c=null,0===Y&&d('"b"')),null!==c)for(a=[];null!==c;)a.push(c),98===b.charCodeAt(X)?(c="b",X++):(c=null,0===Y&&d('"b"'));else a=null;if(null===a){if(99===b.charCodeAt(X)?(c="c",X++):(c=null,0===Y&&d('"c"')),null!==c)for(a=[];null!==c;)a.push(c),99===b.charCodeAt(X)?(c="c",X++):(c=null,0===Y&&d('"c"'));else a=null;if(null===a){if(100===b.charCodeAt(X)?(c="d",X++):(c=null,0===Y&&d('"d"')),null!==c)for(a=[];null!==c;)a.push(c),100===b.charCodeAt(X)?(c="d",X++):(c=null,0===Y&&d('"d"'));else a=null;if(null===a){if(101===b.charCodeAt(X)?(c="e",X++):(c=null,0===Y&&d('"e"')),null!==c)for(a=[];null!==c;)a.push(c),101===b.charCodeAt(X)?(c="e",X++):(c=null,0===Y&&d('"e"'));else a=null;if(null===a){if(g=X,102===b.charCodeAt(X)?(c="f",X++):(c=null,0===Y&&d('"f"')),null!==c)for(a=[];null!==c;)a.push(c),102===b.charCodeAt(X)?(c="f",X++):(c=null,0===Y&&d('"f"'));else a=null;if(null!==a){if(103===b.charCodeAt(X)?(e="g",X++):(e=null,0===Y&&d('"g"')),null!==e)for(c=[];null!==e;)c.push(e),103===b.charCodeAt(X)?(e="g",X++):(e=null,0===Y&&d('"g"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(104===b.charCodeAt(X)?(c="h",X++):(c=null,0===Y&&d('"h"')),null!==c)for(a=[];null!==c;)a.push(c),104===b.charCodeAt(X)?(c="h",X++):(c=null,0===Y&&d('"h"'));else a=null;if(null===a){if(g=X,105===b.charCodeAt(X)?(c="i",X++):(c=null,0===Y&&d('"i"')),null!==c)for(a=[];null!==c;)a.push(c),105===b.charCodeAt(X)?(c="i",X++):(c=null,0===Y&&d('"i"'));else a=null;if(null!==a){if(106===b.charCodeAt(X)?(e="j",X++):(e=null,0===Y&&d('"j"')),null!==e)for(c=[];null!==e;)c.push(e),106===b.charCodeAt(X)?(e="j",X++):(e=null,0===Y&&d('"j"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(107===b.charCodeAt(X)?(c="k",X++):(c=null,0===Y&&d('"k"')),null!==c)for(a=[];null!==c;)a.push(c),107===b.charCodeAt(X)?(c="k",X++):(c=null,0===Y&&d('"k"'));else a=null;if(null===a){if(g=X,108===b.charCodeAt(X)?(c="l",X++):(c=null,0===Y&&d('"l"')),null!==c)for(a=[];null!==c;)a.push(c),108===b.charCodeAt(X)?(c="l",X++):(c=null,0===Y&&d('"l"'));else a=null;if(null!==a){if(109===b.charCodeAt(X)?(e="m",X++):(e=null,0===Y&&d('"m"')),null!==e)for(c=[];null!==e;)c.push(e),109===b.charCodeAt(X)?(e="m",X++):(e=null,0===Y&&d('"m"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(110===b.charCodeAt(X)?(c="n",X++):(c=null,0===Y&&d('"n"')),null!==c)for(a=[];null!==c;)a.push(c),110===b.charCodeAt(X)?(c="n",X++):(c=null,0===Y&&d('"n"'));else a=null;if(null===a){if(g=X,111===b.charCodeAt(X)?(c="o",X++):(c=null,0===Y&&d('"o"')),null!==c)for(a=[];null!==c;)a.push(c),111===b.charCodeAt(X)?(c="o",X++):(c=null,0===Y&&d('"o"'));else a=null;if(null!==a){if(112===b.charCodeAt(X)?(e="p",X++):(e=null,0===Y&&d('"p"')),null!==e)for(c=[];null!==e;)c.push(e),112===b.charCodeAt(X)?(e="p",X++):(e=null,0===Y&&d('"p"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(113===b.charCodeAt(X)?(c="q",X++):(c=null,0===Y&&d('"q"')),null!==c)for(a=[];null!==c;)a.push(c),113===b.charCodeAt(X)?(c="q",X++):(c=null,0===Y&&d('"q"'));else a=null;if(null===a){if(g=X,114===b.charCodeAt(X)?(c="r",X++):(c=null,0===Y&&d('"r"')),null!==c)for(a=[];null!==c;)a.push(c),114===b.charCodeAt(X)?(c="r",X++):(c=null,0===Y&&d('"r"'));else a=null;if(null!==a){if(115===b.charCodeAt(X)?(e="s",X++):(e=null,0===Y&&d('"s"')),null!==e)for(c=[];null!==e;)c.push(e),115===b.charCodeAt(X)?(e="s",X++):(e=null,0===Y&&d('"s"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(116===b.charCodeAt(X)?(c="t",X++):(c=null,0===Y&&d('"t"')),null!==c)for(a=[];null!==c;)a.push(c),116===b.charCodeAt(X)?(c="t",X++):(c=null,0===Y&&d('"t"'));else a=null;if(null===a){if(g=X,117===b.charCodeAt(X)?(c="u",X++):(c=null,0===Y&&d('"u"')),null!==c)for(a=[];null!==c;)a.push(c),117===b.charCodeAt(X)?(c="u",X++):(c=null,0===Y&&d('"u"'));else a=null;if(null!==a){if(118===b.charCodeAt(X)?(e="v",X++):(e=null,0===Y&&d('"v"')),null!==e)for(c=[];null!==e;)c.push(e),118===b.charCodeAt(X)?(e="v",X++):(e=null,0===Y&&d('"v"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(119===b.charCodeAt(X)?(c="w",X++):(c=null,0===Y&&d('"w"')),null!==c)for(a=[];null!==c;)a.push(c),119===b.charCodeAt(X)?(c="w",X++):(c=null,0===Y&&d('"w"'));else a=null;if(null===a){if(g=X,120===b.charCodeAt(X)?(c="x",X++):(c=null,0===Y&&d('"x"')),null!==c)for(a=[];null!==c;)a.push(c),120===b.charCodeAt(X)?(c="x",X++):(c=null,0===Y&&d('"x"'));else a=null;if(null!==a){if(121===b.charCodeAt(X)?(e="y",X++):(e=null,0===Y&&d('"y"')),null!==e)for(c=[];null!==e;)c.push(e),121===b.charCodeAt(X)?(e="y",X++):(e=null,0===Y&&d('"y"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(122===b.charCodeAt(X)?(c="z",X++):(c=null,0===Y&&d('"z"')),null!==c)for(a=[];null!==c;)a.push(c),122===b.charCodeAt(X)?(c="z",X++):(c=null,0===Y&&d('"z"'));else a=null;if(null===a){if(65===b.charCodeAt(X)?(c="A",X++):(c=null,0===Y&&d('"A"')),null!==c)for(a=[];null!==c;)a.push(c),65===b.charCodeAt(X)?(c="A",X++):(c=null,0===Y&&d('"A"'));else a=null;if(null===a){if(66===b.charCodeAt(X)?(c="B",X++):(c=null,0===Y&&d('"B"')),null!==c)for(a=[];null!==c;)a.push(c),66===b.charCodeAt(X)?(c="B",X++):(c=null,0===Y&&d('"B"'));else a=null;if(null===a){if(g=X,67===b.charCodeAt(X)?(c="C",X++):(c=null,0===Y&&d('"C"')),null!==c)for(a=[];null!==c;)a.push(c),67===b.charCodeAt(X)?(c="C",X++):(c=null,0===Y&&d('"C"'));else a=null;if(null!==a){if(68===b.charCodeAt(X)?(e="D",X++):(e=null,0===Y&&d('"D"')),null!==e)for(c=[];null!==e;)c.push(e),68===b.charCodeAt(X)?(e="D",X++):(e=null,0===Y&&d('"D"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(69===b.charCodeAt(X)?(c="E",X++):(c=null,0===Y&&d('"E"')),null!==c)for(a=[];null!==c;)a.push(c),69===b.charCodeAt(X)?(c="E",X++):(c=null,0===Y&&d('"E"'));else a=null;if(null===a){if(g=X,70===b.charCodeAt(X)?(c="F",X++):(c=null,0===Y&&d('"F"')),null!==c)for(a=[];null!==c;)a.push(c),70===b.charCodeAt(X)?(c="F",X++):(c=null,0===Y&&d('"F"'));else a=null;if(null!==a){if(71===b.charCodeAt(X)?(e="G",X++):(e=null,0===Y&&d('"G"')),null!==e)for(c=[];null!==e;)c.push(e),71===b.charCodeAt(X)?(e="G",X++):(e=null,0===Y&&d('"G"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(72===b.charCodeAt(X)?(c="H",X++):(c=null,0===Y&&d('"H"')),null!==c)for(a=[];null!==c;)a.push(c),72===b.charCodeAt(X)?(c="H",X++):(c=null,0===Y&&d('"H"'));else a=null;if(null===a){if(g=X,73===b.charCodeAt(X)?(c="I",X++):(c=null,0===Y&&d('"I"')),null!==c)for(a=[];null!==c;)a.push(c),73===b.charCodeAt(X)?(c="I",X++):(c=null,0===Y&&d('"I"'));else a=null;if(null!==a){if(74===b.charCodeAt(X)?(e="J",X++):(e=null,0===Y&&d('"J"')),null!==e)for(c=[];null!==e;)c.push(e),74===b.charCodeAt(X)?(e="J",X++):(e=null,0===Y&&d('"J"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(75===b.charCodeAt(X)?(c="K",X++):(c=null,0===Y&&d('"K"')),null!==c)for(a=[];null!==c;)a.push(c),75===b.charCodeAt(X)?(c="K",X++):(c=null,0===Y&&d('"K"'));else a=null;if(null===a){if(g=X,76===b.charCodeAt(X)?(c="L",X++):(c=null,0===Y&&d('"L"')),null!==c)for(a=[];null!==c;)a.push(c),76===b.charCodeAt(X)?(c="L",X++):(c=null,0===Y&&d('"L"'));else a=null;if(null!==a){if(77===b.charCodeAt(X)?(e="M",X++):(e=null,0===Y&&d('"M"')),null!==e)for(c=[];null!==e;)c.push(e),77===b.charCodeAt(X)?(e="M",X++):(e=null,0===Y&&d('"M"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(78===b.charCodeAt(X)?(c="N",X++):(c=null,0===Y&&d('"N"')),null!==c)for(a=[];null!==c;)a.push(c),78===b.charCodeAt(X)?(c="N",X++):(c=null,0===Y&&d('"N"'));else a=null;if(null===a){if(g=X,79===b.charCodeAt(X)?(c="O",X++):(c=null,0===Y&&d('"O"')),null!==c)for(a=[];null!==c;)a.push(c),79===b.charCodeAt(X)?(c="O",X++):(c=null,0===Y&&d('"O"'));else a=null;if(null!==a){if(80===b.charCodeAt(X)?(e="P",X++):(e=null,0===Y&&d('"P"')),null!==e)for(c=[];null!==e;)c.push(e),80===b.charCodeAt(X)?(e="P",X++):(e=null,0===Y&&d('"P"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(81===b.charCodeAt(X)?(c="Q",X++):(c=null,0===Y&&d('"Q"')),null!==c)for(a=[];null!==c;)a.push(c),81===b.charCodeAt(X)?(c="Q",X++):(c=null,0===Y&&d('"Q"'));else a=null;if(null===a){if(g=X,82===b.charCodeAt(X)?(c="R",X++):(c=null,0===Y&&d('"R"')),null!==c)for(a=[];null!==c;)a.push(c),82===b.charCodeAt(X)?(c="R",X++):(c=null,0===Y&&d('"R"'));else a=null;if(null!==a){if(83===b.charCodeAt(X)?(e="S",X++):(e=null,0===Y&&d('"S"')),null!==e)for(c=[];null!==e;)c.push(e),83===b.charCodeAt(X)?(e="S",X++):(e=null,0===Y&&d('"S"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(84===b.charCodeAt(X)?(c="T",X++):(c=null,0===Y&&d('"T"')),null!==c)for(a=[];null!==c;)a.push(c),84===b.charCodeAt(X)?(c="T",X++):(c=null,0===Y&&d('"T"'));else a=null;if(null===a){if(g=X,85===b.charCodeAt(X)?(c="U",X++):(c=null,0===Y&&d('"U"')),null!==c)for(a=[];null!==c;)a.push(c),85===b.charCodeAt(X)?(c="U",X++):(c=null,0===Y&&d('"U"'));else a=null;if(null!==a){if(86===b.charCodeAt(X)?(e="V",X++):(e=null,0===Y&&d('"V"')),null!==e)for(c=[];null!==e;)c.push(e),86===b.charCodeAt(X)?(e="V",X++):(e=null,0===Y&&d('"V"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;if(null===a){if(87===b.charCodeAt(X)?(c="W",X++):(c=null,0===Y&&d('"W"')),null!==c)for(a=[];null!==c;)a.push(c),87===b.charCodeAt(X)?(c="W",X++):(c=null,0===Y&&d('"W"'));else a=null;if(null===a){if(g=X,88===b.charCodeAt(X)?(c="X",X++):(c=null,0===Y&&d('"X"')),null!==c)for(a=[];null!==c;)a.push(c),88===b.charCodeAt(X)?(c="X",X++):(c=null,0===Y&&d('"X"'));else a=null;if(null!==a){if(89===b.charCodeAt(X)?(e="Y",X++):(e=null,0===Y&&d('"Y"')),null!==e)for(c=[];null!==e;)c.push(e),89===b.charCodeAt(X)?(e="Y",X++):(e=null,0===Y&&d('"Y"'));else c=null;null!==c?a=[a,c]:(a=null,X=g)}else a=null,X=g;null===a&&(90===b.charCodeAt(X)?(a="Z",X++):(a=null,0===Y&&d('"Z"')))}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return null!==a&&(a=function(a,b){return{xspan:b.length,name:b[0],x:b}}(f,a)),null===a&&(X=f),Y--,0===Y&&null===a&&d("Template Zone"),a}function o(){var a,c;return Y++,c=X,"rows"===b.substr(X,4)?(a="rows",X+=4):(a=null,0===Y&&d('"rows"')),null!==a&&(a=function(){return 0}(c)),null===a&&(X=c),null===a&&(c=X,"cols"===b.substr(X,4)?(a="cols",X+=4):(a=null,0===Y&&d('"cols"')),null!==a&&(a=function(){return 1}(c)),null===a&&(X=c)),Y--,0===Y&&null===a&&d("Row or Col Dimension"),a}function p(){var a,b,c,e,f,g;if(Y++,f=X,g=X,a=r(),a=null!==a?a:"",null!==a)if(b=q(),null!==b){for(c=[],e=q();null!==e;)c.push(e),e=q();null!==c?a=[a,b,c]:(a=null,X=g)}else a=null,X=g;else a=null,X=g;return null!==a&&(a=function(a,b,c,d){var e;return e="|",b&&(e+=b),e+=c,d.forEach(function(a){e+=a}),e+="|"}(f,a[0],a[1],a[2])),null===a&&(X=f),Y--,0===Y&&null===a&&d("1D Line"),a}function q(){var a,b,c,e,f,g,h;if(Y++,g=X,h=X,a=N(),null!==a){if(c=t(),null!==c)for(b=[];null!==c;)b.push(c),c=t();else b=null;null!==b?(c=N(),null!==c?(e=r(),e=null!==e?e:"",null!==e?(f=N(),null!==f?a=[a,b,c,e,f]:(a=null,X=h)):(a=null,X=h)):(a=null,X=h)):(a=null,X=h)}else a=null,X=h;return null!==a&&(a=function(a,b,c){var d;return b=R.trim(b),d='["'+b+'"]',R.addVirtual(b),c&&(d+=c),d}(g,a[1],a[3])),null===a&&(X=g),Y--,0===Y&&null===a&&d("!D LineChunk"),a}function r(){var a,c,e,f,g;if(Y++,f=X,g=X,45===b.charCodeAt(X)?(a="-",X++):(a=null,0===Y&&d('"-"')),null===a&&(126===b.charCodeAt(X)?(a="~",X++):(a=null,0===Y&&d('"~"'))),null!==a){if(/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]"));else c=null;null===c&&(45===b.charCodeAt(X)?(c="-",X++):(c=null,0===Y&&d('"-"'))),c=null!==c?c:"",null!==c?(45===b.charCodeAt(X)?(e="-",X++):(e=null,0===Y&&d('"-"')),null===e&&(126===b.charCodeAt(X)?(e="~",X++):(e=null,0===Y&&d('"~"'))),e=null!==e?e:"",null!==e?a=[a,c,e]:(a=null,X=g)):(a=null,X=g)}else a=null,X=g;return null!==a&&(a=function(a,b){return R.stringify(b)}(f,a)),null===a&&(X=f),Y--,0===Y&&null===a&&d("1D Connection"),a}function s(){var a,c,e,f;if(Y++,45===b.charCodeAt(X)?(a="-",X++):(a=null,0===Y&&d('"-"')),null===a&&(126===b.charCodeAt(X)?(a="~",X++):(a=null,0===Y&&d('"~"')),null===a)){if(f=X,45===b.charCodeAt(X)?(a="-",X++):(a=null,0===Y&&d('"-"')),null!==a){if(/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]"));else c=null;null!==c?(45===b.charCodeAt(X)?(e="-",X++):(e=null,0===Y&&d('"-"')),null!==e?a=[a,c,e]:(a=null,X=f)):(a=null,X=f)}else a=null,X=f;if(null===a)if(f=X,126===b.charCodeAt(X)?(a="~",X++):(a=null,0===Y&&d('"~"')),null!==a){if(/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]"));else c=null;null===c&&(45===b.charCodeAt(X)?(c="-",X++):(c=null,0===Y&&d('"-"'))),null!==c?(126===b.charCodeAt(X)?(e="~",X++):(e=null,0===Y&&d('"~"')),null!==e?a=[a,c,e]:(a=null,X=f)):(a=null,X=f)}else a=null,X=f}return Y--,0===Y&&null===a&&d("!D Connection Type"),a}function t(){var a;return/^[a-zA-Z0-9#_$:]/.test(b.charAt(X))?(a=b.charAt(X),X++):(a=null,0===Y&&d("[a-zA-Z0-9#_$:]")),a}function u(){var a;return/^[a-zA-Z0-9#.\-_$:]/.test(b.charAt(X))?(a=b.charAt(X),X++):(a=null,0===Y&&d("[a-zA-Z0-9#.\\-_$:]")),a}function v(){var a;return a=u(),null===a&&(32===b.charCodeAt(X)?(a=" ",X++):(a=null,0===Y&&d('" "'))),a}function w(){var a,b;
return b=X,a=x(),null!==a&&(a=function(a,b){return["number",b]}(b,a)),null===a&&(X=b),a}function x(){var a;return a=z(),null===a&&(a=y()),a}function y(){var a,c,e;if(e=X,/^[0-9]/.test(b.charAt(X))?(c=b.charAt(X),X++):(c=null,0===Y&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(X))?(c=b.charAt(X),X++):(c=null,0===Y&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""),10)}(e,a)),null===a&&(X=e),a}function z(){var a,c,e,f,g;return f=X,g=X,a=y(),null!==a?(46===b.charCodeAt(X)?(c=".",X++):(c=null,0===Y&&d('"."')),null!==c?(e=y(),null!==e?a=[a,c,e]:(a=null,X=g)):(a=null,X=g)):(a=null,X=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(X=f),a}function A(){var a,c,e,f;if(f=X,/^[\-+]/.test(b.charAt(X))?(a=b.charAt(X),X++):(a=null,0===Y&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(X))?(e=b.charAt(X),X++):(e=null,0===Y&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,X=f)}else a=null,X=f;return a}function B(){var a;return b.length>X?(a=b.charAt(X),X++):(a=null,0===Y&&d("any character")),a}function C(){var a;return Y++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(X))?(a=b.charAt(X),X++):(a=null,0===Y&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),Y--,0===Y&&null===a&&d("whitespace"),a}function D(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(X))?(a=b.charAt(X),X++):(a=null,0===Y&&d("[\\n\\r\\u2028\\u2029]")),a}function E(){var a;return Y++,10===b.charCodeAt(X)?(a="\n",X++):(a=null,0===Y&&d('"\\n"')),null===a&&("\r\n"===b.substr(X,2)?(a="\r\n",X+=2):(a=null,0===Y&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(X)?(a="\r",X++):(a=null,0===Y&&d('"\\r"')),null===a&&(8232===b.charCodeAt(X)?(a="\u2028",X++):(a=null,0===Y&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(X)?(a="\u2029",X++):(a=null,0===Y&&d('"\\u2029"')))))),Y--,0===Y&&null===a&&d("end of line"),a}function F(){var a;return/^[a-zA-Z0-9 .,#:+?!^=()_\-$*\/\\""'[\]]/.test(b.charAt(X))?(a=b.charAt(X),X++):(a=null,0===Y&&d('[a-zA-Z0-9 .,#:+?!^=()_\\-$*\\/\\\\""\'[\\]]')),a}function G(){var a,c,e;return Y++,e=X,a=N(),null!==a?(59===b.charCodeAt(X)?(c=";",X++):(c=null,0===Y&&d('";"')),null!==c?a=[a,c]:(a=null,X=e)):(a=null,X=e),null===a&&(e=X,a=M(),null!==a?(c=E(),null!==c?a=[a,c]:(a=null,X=e)):(a=null,X=e),null===a&&(e=X,a=N(),null!==a?(c=H(),null!==c?a=[a,c]:(a=null,X=e)):(a=null,X=e))),Y--,0===Y&&null===a&&d("End of Statement"),a}function H(){var a,c;return c=X,Y++,b.length>X?(a=b.charAt(X),X++):(a=null,0===Y&&d("any character")),Y--,null===a?a="":(a=null,X=c),a}function I(){var a;return Y++,a=J(),null===a&&(a=L()),Y--,0===Y&&null===a&&d("Comment"),a}function J(){var a,c,e,f,g,h,i;if(Y++,g=X,"/*"===b.substr(X,2)?(a="/*",X+=2):(a=null,0===Y&&d('"/*"')),null!==a){for(c=[],h=X,i=X,Y++,"*/"===b.substr(X,2)?(e="*/",X+=2):(e=null,0===Y&&d('"*/"')),Y--,null===e?e="":(e=null,X=i),null!==e?(f=B(),null!==f?e=[e,f]:(e=null,X=h)):(e=null,X=h);null!==e;)c.push(e),h=X,i=X,Y++,"*/"===b.substr(X,2)?(e="*/",X+=2):(e=null,0===Y&&d('"*/"')),Y--,null===e?e="":(e=null,X=i),null!==e?(f=B(),null!==f?e=[e,f]:(e=null,X=h)):(e=null,X=h);null!==c?("*/"===b.substr(X,2)?(e="*/",X+=2):(e=null,0===Y&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,X=g)):(a=null,X=g)}else a=null,X=g;return Y--,0===Y&&null===a&&d("MultiLineComment"),a}function K(){var a,c,e,f,g,h,i;if(Y++,g=X,"/*"===b.substr(X,2)?(a="/*",X+=2):(a=null,0===Y&&d('"/*"')),null!==a){for(c=[],h=X,i=X,Y++,"*/"===b.substr(X,2)?(e="*/",X+=2):(e=null,0===Y&&d('"*/"')),null===e&&(e=D()),Y--,null===e?e="":(e=null,X=i),null!==e?(f=B(),null!==f?e=[e,f]:(e=null,X=h)):(e=null,X=h);null!==e;)c.push(e),h=X,i=X,Y++,"*/"===b.substr(X,2)?(e="*/",X+=2):(e=null,0===Y&&d('"*/"')),null===e&&(e=D()),Y--,null===e?e="":(e=null,X=i),null!==e?(f=B(),null!==f?e=[e,f]:(e=null,X=h)):(e=null,X=h);null!==c?("*/"===b.substr(X,2)?(e="*/",X+=2):(e=null,0===Y&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,X=g)):(a=null,X=g)}else a=null,X=g;return Y--,0===Y&&null===a&&d("MultiLineCommentNoLineTerminator"),a}function L(){var a,c,e,f,g,h,i;if(Y++,g=X,"//"===b.substr(X,2)?(a="//",X+=2):(a=null,0===Y&&d('"//"')),null!==a){for(c=[],h=X,i=X,Y++,e=D(),Y--,null===e?e="":(e=null,X=i),null!==e?(f=B(),null!==f?e=[e,f]:(e=null,X=h)):(e=null,X=h);null!==e;)c.push(e),h=X,i=X,Y++,e=D(),Y--,null===e?e="":(e=null,X=i),null!==e?(f=B(),null!==f?e=[e,f]:(e=null,X=h)):(e=null,X=h);null!==c?(e=D(),null===e&&(e=H()),null!==e?a=[a,c,e]:(a=null,X=g)):(a=null,X=g)}else a=null,X=g;return Y--,0===Y&&null===a&&d("Single Line Comment"),a}function M(){var a,b;for(Y++,a=[],b=C(),null===b&&(b=K(),null===b&&(b=L()));null!==b;)a.push(b),b=C(),null===b&&(b=K(),null===b&&(b=L()));return Y--,0===Y&&null===a&&d("Whitespace / Comment"),a}function N(){var a,b;for(Y++,a=[],b=C(),null===b&&(b=E(),null===b&&(b=I()));null!==b;)a.push(b),b=C(),null===b&&(b=E(),null===b&&(b=I()));return Y--,0===Y&&null===a&&d("Whitespace / Comment / Newline"),a}function O(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function P(){for(var a=1,c=1,d=!1,e=0;e<Math.max(X,Z);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var Q={start:e,Statement:f,VGLStatement:g,RowsCols:h,Template:i,TemplateLine:j,TemplateOptions:k,TemplateOption:l,OpionValueChars:m,TemplateZone:n,RowColDimension:o,Line:p,LineChunk:q,Connection:r,ConnectionTypes:s,VirtualNameChars:t,NameChars:u,NameCharsWithSpace:v,Literal:w,Number:x,Integer:y,Real:z,SignedInteger:A,SourceCharacter:B,WhiteSpace:C,LineTerminator:D,LineTerminatorSequence:E,AnyChar:F,EOS:G,EOF:H,Comment:I,MultiLineComment:J,MultiLineCommentNoLineTerminator:K,SingleLineComment:L,_:M,__:N};if(void 0!==c){if(void 0===Q[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var R,S,T,U,V,W,X=0,Y=0,Z=0,$=[];R=S=this,R.size=["width","height"],R.pos=["x","y"],R.getResults=function(){var a=U.sort().join(" ");return a=0==a.length?V:["@virtual "+a].concat(V),{ccss:a,vfl:T}},W=[],R.addAST=function(a){W.push(a)},V=[],R.addCCSS=function(a){V.push(a)},U=[],R.addVirtual=function(a){-1===U.indexOf(a)&&U.push('"'+a+'"')},T=[],R.addVFL=function(a){T.push(a)},R.addTemplate=function(a,b,c){var d,e;e=b+"-",d=R.processHLines(a),d.name=b;var f,g,h;c.gap||c["outer-gap"]?(h=c["outer-gap"]?c["outer-gap"]:c.gap,g="<="):g="==",f="::["+b+"-md-width] "+g+" ::[width]",d.yspan>1&&(f+=" / "+d.yspan),f+=" !require",R.addCCSS(f),f="::["+b+"-md-height] "+g+" ::[height]",d.xspan>1&&(f+=" / "+d.xspan),f+=" !require",R.addCCSS(f);var i,j;for(var k in d.widths)R.addVirtual(e+k),i=d.widths[k],j='"'+e+k+'"[width] == ',j+="::["+d.name+"-md-width]",i>1&&(j+=" * "+i),R.addCCSS(j);var l,m;for(var k in d.heights)l=d.heights[k],m='"'+e+k+'"[height] == ',m+="::["+d.name+"-md-height]",l>1&&(m+=" * "+l),R.addCCSS(m);var n;d.v.forEach(function(a){a=a.split("%-v-%"),n='@v ["'+e+a[0]+'"]',c.gap&&(n+="-"),n+='["'+e+a[1]+'"]',c.gap&&(n+=" gap("+c.gap+")"),R.addVFL(n)}),d.h.forEach(function(a){a=a.split("%-h-%"),n='@h ["'+e+a[0]+'"]',c.gap&&(n+="-"),n+='["'+e+a[1]+'"]',c.gap&&(n+=" gap("+c.gap+")"),R.addVFL(n)});var o;return o=[],d.cols[0].y.forEach(function(a){return o.indexOf(a)>-1?null:(o.push(a),n="@h |",h&&(n+="-"),n+='["'+e+a+'"]'+" in(::)",h&&(n+=" gap("+h+")"),R.addVFL(n),void 0)}),o=[],d.rows[0].x.forEach(function(a){return o.indexOf(a)>-1?null:(o.push(a),n="@v |",h&&(n+="-"),n+='["'+e+a+'"]'+" in(::)",h&&(n+=" gap("+h+")"),R.addVFL(n),void 0)}),o=[],d.cols[d.cols.length-1].y.forEach(function(a){return o.indexOf(a)>-1?null:(o.push(a),n='@h ["'+e+a+'"]',h&&(n+="-"),n+="| in(::)",h&&(n+=" gap("+h+")"),R.addVFL(n),void 0)}),o=[],d.rows[d.rows.length-1].x.forEach(function(a){return o.indexOf(a)>-1?null:(o.push(a),n='@v ["'+e+a+'"]',h&&(n+="-"),n+="| in(::)",h&&(n+=" gap("+h+")"),R.addVFL(n),void 0)}),R.addAST(d),d},R.processHZones=function(a){var b,c,d,e,f,g;return b=0,e=[],g={},f=[],a.forEach(function(a){c=a.name,f=f.concat(a.x),delete a.x,d&&d!==c&&e.push([d,c].join("%-h-%")),g[a.name]=a.xspan,b+=a.xspan,d=c}),{xspan:b,x:f,h:e,widths:g}},R.processHLines=function(a){var b,c,d,e;return e={heights:{},widths:{},v:[],h:[]},b=[],c=0,a.forEach(function(a){d=0;for(var f in a.widths)e.widths[f]=a.widths[f];a.h.forEach(function(a){-1===e.h.indexOf(a)&&e.h.push(a)}),a.x.forEach(function(a){var c;b[d]||(b[d]={y:[]}),c=b[d],c.y.push(a),d++}),c++}),b.forEach(function(a){var b,c,d,f,g,h;h=[],c=0,d=null,g=0,a.y.forEach(function(h){b=h,c++,a.y[g+1]!==b&&(e.heights[h]=c,c=0),d&&d!==b&&(f=[d,b].join("%-v-%"),-1===e.v.indexOf(f)&&e.v.push(f)),d=b,g++})}),e.yspan=b.length,e.xspan=a.length,e.cols=b,e.rows=a,e},R.error=function(a,b,c){return b&&c&&(a=a+" {line:"+b+", col:"+c+"}"),console.error(a),a},R.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},R.flatten=function(a,b){for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:R.flatten(f)):e.push(f)}return e},R.stringify=function(a){return R.trim(R.flatten(a))};var _=Q[c]();if(null===_||X!==b.length){var ab=Math.max(X,Z),bb=ab<b.length?b.charAt(ab):null,cb=P();throw new this.SyntaxError(O($),bb,ab,cb.line,cb.column)}return _},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),require.register("the-gss-vgl-compiler/lib/compiler.js",function(a,b){var c=b("./vgl-compiler");a.parse=function(a){return c.parse(a)}}),require.register("the-gss-compiler/lib/gss-compiler.js",function(a,b){var c,d,e,f,g,h,i,j;g=b("gss-preparser"),c=b("ccss-compiler"),i=b("vfl-compiler"),j=b("vgl-compiler"),h=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b,c;return b=0|16*Math.random(),c="x"===a?b:8|3&b,c.toString(16)})},d=function(a){var b,c;try{c=g.parse(a.trim())}catch(d){b=d,console.log("Preparse Error",b)}return c=f(c)},f=function(a){var b,d,e,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;for(g="",q=0,u=a.length;u>q;q++){switch(e=a[q],l={},e.type){case"directive":switch(e.name){case"grid-template":case"-gss-grid-template":case"grid-rows":case"-gss-rows":case"grid-cols":case"-gss-grid-cols":try{n=j.parse("@"+e.name+" "+e.terms)}catch(A){h=A,console.log("VGL Parse Error: @"+e.name+" "+e.terms,h)}for(l={selectors:[],commands:[]},y=n.ccss,r=0,v=y.length;v>r;r++){b=y[r];try{m=c.parse(b)}catch(A){h=A,console.log("VGL generated CCSS parse Error",h)}l.selectors=l.selectors.concat(m.selectors),l.commands=l.commands.concat(m.commands)}for(z=n.vfl,s=0,w=z.length;w>s;s++){p=z[s];try{m=c.parse(i.parse(p).join("; "))}catch(A){h=A,console.log("VGL generated VFL parse Error",h)}l.selectors=l.selectors.concat(m.selectors),l.commands=l.commands.concat(m.commands)}break;case"horizontal":case"vertical":case"-gss-horizontal":case"-gss-vertical":case"h":case"v":case"-gss-h":case"-gss-v":try{d=i.parse("@"+e.name+" "+e.terms)}catch(A){h=A,console.log("VFL Parse Error: @"+e.name+" "+e.terms,h)}for(l={selectors:[],commands:[]},t=0,x=d.length;x>t;t++){b=d[t];try{m=c.parse(b)}catch(A){h=A,console.log("VFL generated CCSS parse Error",h)}l.selectors=l.selectors.concat(m.selectors),l.commands=l.commands.concat(m.commands)}break;case"if":case"elseif":case"else":if(e.terms.length>0){try{l=c.parse("?("+e.terms+");")}catch(A){h=A,console.log("CCSS conditional parse Error",h)}l.clause=l.commands[0],delete l.commands}else l.clause=null}break;case"constraint":try{l=c.parse(e.cssText)}catch(A){h=A,console.log("Constraint Parse Error",h)}}for(k in l)o=l[k],e[k]=o;e.rules&&f(e.rules)}return a},e=function(a){var b;return b=function(a,c){var d,e,f,g,i;for(i=[],e=0,f=a.length;f>e;e++)d=a[e],d._uuid=h(),c&&(d._parent_uuid=c._uuid),(null!=(g=d.rules)?g.length:void 0)>0?i.push(b(d.rules,d)):i.push(void 0);return i},b(a),a},a.compile=d}),require.register("d4tocchini-customevent-polyfill/CustomEvent.js",function(){var a;a=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},a.prototype=window.Event.prototype,window.CustomEvent=a}),require.register("slightlyoff-cassowary.js/index.js",function(a,b,c){c.exports=b("./src/c.js"),b("./src/HashTable.js"),b("./src/HashSet.js"),b("./src/Error.js"),b("./src/SymbolicWeight.js"),b("./src/Strength.js"),b("./src/Variable.js"),b("./src/Point.js"),b("./src/Expression.js"),b("./src/Constraint.js"),b("./src/Constraint.js"),b("./src/EditInfo.js"),b("./src/Tableau.js"),b("./src/SimplexSolver.js"),b("./src/Timer.js"),b("./src/parser/parser.js"),b("./src/parser/api.js")}),require.register("slightlyoff-cassowary.js/src/c.js",function(a,b,c){!function(a){"use strict";try{(function(){}).bind(a)}catch(d){Object.defineProperty(Function.prototype,"bind",{value:function(a){var b=this;return function(){return b.apply(a,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var e="undefined"!=typeof a.HTMLElement,f=function(a){for(var b=null;a&&a!=Object.prototype;){if(a.tagName){b=a.tagName;break}a=a.prototype}return b||"div"},g=1e-8,h={},i=function(a,b){if(a&&b){if("function"==typeof a[b])return a[b];var c=a.prototype;if(c&&"function"==typeof c[b])return c[b];if(c!==Object.prototype&&c!==Function.prototype)return"function"==typeof a.__super__?i(a.__super__,b):void 0}},j=a.c=function(){return j._api?j._api.apply(this,arguments):void 0};j.debug=!1,j.trace=!1,j.verbose=!1,j.traceAdded=!1,j.GC=!1,j.GEQ=1,j.LEQ=2,j.inherit=function(b){var c=null,d=null;b["extends"]&&(d=b["extends"],delete b["extends"]),b.initialize&&(c=b.initialize,delete b.initialize);var g=c||function(){};Object.defineProperty(g,"__super__",{value:d?d:Object,enumerable:!1,configurable:!0,writable:!1}),b._t&&(h[b._t]=g);var i=g.prototype=Object.create(d?d.prototype:Object.prototype);if(j.extend(i,b),e&&d&&d.prototype instanceof a.HTMLElement){var k=g,l=f(i),m=function(a){return a.__proto__=i,k.apply(a,arguments),i.created&&a.created(),i.decorate&&a.decorate(),a};this.extend(i,{upgrade:m}),g=function(){return m(a.document.createElement(l))},g.prototype=i,this.extend(g,{ctor:k})}return g},j.own=function(b,c,d){return Object.getOwnPropertyNames(b).forEach(c,d||a),b},j.extend=function(a,b){return j.own(b,function(c){var d=Object.getOwnPropertyDescriptor(b,c);try{"function"==typeof d.get||"function"==typeof d.set?Object.defineProperty(a,c,d):"function"==typeof d.value||"_"===c.charAt(0)?(d.writable=!0,d.configurable=!0,d.enumerable=!1,Object.defineProperty(a,c,d)):a[c]=b[c]}catch(e){}}),a},j.traceprint=function(a){j.verbose&&console.log(a)},j.fnenterprint=function(a){console.log("* "+a)},j.fnexitprint=function(a){console.log("- "+a)},j.assert=function(a,b){if(!a)throw new j.InternalError("Assertion failed: "+b)};var k=function(a){return"number"==typeof a?j.Expression.fromConstant(a):a instanceof j.Variable?j.Expression.fromVariable(a):a};j.plus=function(a,b){return a=k(a),b=k(b),a.plus(b)},j.minus=function(a,b){return a=k(a),b=k(b),a.minus(b)},j.times=function(a,b){return a=k(a),b=k(b),a.times(b)},j.divide=function(a,b){return a=k(a),b=k(b),a.divide(b)},j.approx=function(a,b){return a===b?!0:(a=+a,b=+b,0==a?Math.abs(b)<g:0==b?Math.abs(a)<g:Math.abs(a-b)<Math.abs(a)*g)};var l=0;j._inc=function(){return l++},j.parseJSON=function(a){return JSON.parse(a,function(a,b){if("object"!=typeof b||"string"!=typeof b._t)return b;var c=b._t,d=h[c];if(c&&d){var e=i(d,"fromJSON");if(e)return e(b,d)}return b})},"function"==typeof b&&"undefined"!=typeof c&&"undefined"==typeof load&&(a.exports=j)}(this)}),require.register("slightlyoff-cassowary.js/src/HashTable.js",function(a,b,c){!function(a){"use strict";var b=function(a){var b=a.hashCode?a.hashCode:a.toString();return b},c=function(a,b){Object.keys(a).forEach(function(c){b[c]=a[c]})},d={};a.HashTable=a.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(a,c){var d=b(a);this._store.hasOwnProperty(d)||this.size++,this._store[d]=c,this._keyStrMap[d]=a},get:function(a){if(!this.size)return null;a=b(a);var c=this._store[a];return"undefined"!=typeof c?this._store[a]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var a={};c(this._store,a),this._store=a},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(a){a=b(a),this._store.hasOwnProperty(a)&&(this._deleted++,delete this._store[a],this.size>0&&this.size--)},each:function(a,b){if(this.size){this._perhapsCompact();var c=this._store,d=this._keyStrMap;for(var e in this._store)this._store.hasOwnProperty(e)&&a.call(b||null,d[e],c[e])}},escapingEach:function(a,b){if(this.size){this._perhapsCompact();for(var c=this,e=this._store,f=this._keyStrMap,g=d,h=Object.keys(e),i=0;i<h.length;i++)if(function(d){c._store.hasOwnProperty(d)&&(g=a.call(b||null,f[d],e[d]))}(h[i]),g){if(void 0!==g.retval)return g;if(g.brk)break}}},clone:function(){var b=new a.HashTable;return this.size&&(b.size=this.size,c(this._store,b._store),c(this._keyStrMap,b._keyStrMap)),b},equals:function(b){if(b===this)return!0;if(!(b instanceof a.HashTable)||b._size!==this._size)return!1;for(var c=Object.keys(this._store),d=0;d<c.length;d++){var e=c[d];if(this._keyStrMap[e]!==b._keyStrMap[e]||this._store[e]!==b._store[e])return!1}return!0},toString:function(){var a="";return this.each(function(b,c){a+=b+" => "+c+"\n"}),a}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/HashSet.js",function(a,b,c){!function(a){"use strict";a.HashSet=a.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(a){var b=this.storage;b.indexOf(a),-1==b.indexOf(a)&&b.push(a),this.size=this.storage.length},values:function(){return this.storage},has:function(a){var b=this.storage;return-1!=b.indexOf(a)},"delete":function(a){var b=this.storage.indexOf(a);return-1==b?null:(this.storage.splice(b,1)[0],this.size=this.storage.length,void 0)},clear:function(){this.storage.length=0},each:function(a,b){this.size&&this.storage.forEach(a,b)},escapingEach:function(a,b){this.size&&this.storage.forEach(a,b)},toString:function(){var a=this.size+" {",b=!0;return this.each(function(c){b?b=!1:a+=", ",a+=c}),a+="}\n"},toJSON:function(){var a=[];return this.each(function(b){a.push(b.toJSON())}),{_t:"c.HashSet",data:a}},fromJSON:function(b){var c=new a.HashSet;return b.data&&(c.size=b.data.length,c.storage=b.data),c}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/Error.js",function(a,b,c){!function(a){"use strict";a.Error=a.inherit({initialize:function(a){a&&(this._description=a)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(a){this._description=a},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var b=function(b,c){return a.inherit({"extends":a.Error,initialize:function(){a.Error.apply(this,arguments)},_name:b||"",_description:c||""})};a.ConstraintNotFound=b("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),a.InternalError=b("c.InternalError"),a.NonExpression=b("c.NonExpression","The resulting expression would be non"),a.NotEnoughStays=b("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),a.RequiredFailure=b("c.RequiredFailure","A required constraint cannot be satisfied"),a.TooDifficult=b("c.TooDifficult","The constraints are too difficult to solve")}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/SymbolicWeight.js",function(a,b,c){!function(a){"use strict";var b=1e3;a.SymbolicWeight=a.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var a=1,c=arguments.length-1;c>=0;--c)this.value+=arguments[c]*a,a*=b},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/Strength.js",function(a,b,c){!function(a){a.Strength=a.inherit({initialize:function(b,c,d,e){this.name=b,this.symbolicWeight=c instanceof a.SymbolicWeight?c:new a.SymbolicWeight(c,d,e)},get required(){return this===a.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),a.Strength.required=new a.Strength("<Required>",1e3,1e3,1e3),a.Strength.strong=new a.Strength("strong",1,0,0),a.Strength.medium=new a.Strength("medium",0,1,0),a.Strength.weak=new a.Strength("weak",0,0,1)}(this.c||("undefined"!=typeof c?c.parent.exports.c:{}))}),require.register("slightlyoff-cassowary.js/src/Variable.js",function(a,b,c){!function(a){"use strict";a.AbstractVariable=a.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(b,c){this.hashCode=a._inc(),this.name=(c||"")+this.hashCode,b&&("undefined"!=typeof b.name&&(this.name=b.name),"undefined"!=typeof b.value&&(this.value=b.value),"undefined"!=typeof b.prefix&&(this._prefix=b.prefix))},_prefix:"",name:"",value:0,valueOf:function(){return this.value},toJSON:function(){var a={};return this._t&&(a._t=this._t),this.name&&(a.name=this.name),"undefined"!=typeof this.value&&(a.value=this.value),this._prefix&&(a._prefix=this._prefix),this._t&&(a._t=this._t),a},fromJSON:function(b,c){var d=new c;return a.extend(d,b),d},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),a.Variable=a.inherit({_t:"c.Variable","extends":a.AbstractVariable,initialize:function(b){this._init(b,"v");var c=a.Variable._map;c&&(c[this.name]=this)},isExternal:!0}),a.DummyVariable=a.inherit({_t:"c.DummyVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),a.ObjectiveVariable=a.inherit({_t:"c.ObjectiveVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"o")},value:"obj"}),a.SlackVariable=a.inherit({_t:"c.SlackVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/Point.js",function(a,b,c){!function(a){"use strict";a.Point=a.inherit({initialize:function(b,c,d){if(b instanceof a.Variable)this._x=b;else{var e={value:b};d&&(e.name="x"+d),this._x=new a.Variable(e)}if(c instanceof a.Variable)this._y=c;else{var f={value:c};d&&(f.name="y"+d),this._y=new a.Variable(f)}},get x(){return this._x},set x(b){b instanceof a.Variable?this._x=b:this._x.value=b},get y(){return this._y},set y(b){b instanceof a.Variable?this._y=b:this._y.value=b},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/Expression.js",function(a,b,c){!function(a){"use strict";var b=function(a,b){return"number"==typeof a?a:b};a.Expression=a.inherit({initialize:function(c,d,e){this.constant=b(e,0),this.terms=new a.HashTable,c instanceof a.AbstractVariable?(d=b(d,1),this.setVariable(c,d)):"number"==typeof c&&(isNaN(c)?console.trace():this.constant=c)},initializeFromHash:function(b,c){return a.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),a.GC&&console.log("clone c.Expression"),this.constant=b,this.terms=c.clone(),this},multiplyMe:function(a){this.constant*=a;var b=this.terms;return b.each(function(c,d){b.set(c,d*a)}),this},clone:function(){a.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var b=a.Expression.empty();return b.initializeFromHash(this.constant,this.terms),b},times:function(b){if("number"==typeof b)return this.clone().multiplyMe(b);if(this.isConstant)return b.times(this.constant);if(b.isConstant)return this.times(b.constant);throw new a.NonExpression},plus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,1):b instanceof a.Variable?this.clone().addVariable(b,1):void 0},minus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,-1):b instanceof a.Variable?this.clone().addVariable(b,-1):void 0},divide:function(b){if("number"==typeof b){if(a.approx(b,0))throw new a.NonExpression;return this.times(1/b)}if(b instanceof a.Expression){if(!b.isConstant)throw new a.NonExpression;return this.times(1/b.constant)}},addExpression:function(c,d,e,f){return c instanceof a.AbstractVariable&&(c=a.Expression.fromVariable(c)),d=b(d,1),this.constant+=d*c.constant,c.terms.each(function(a,b){this.addVariable(a,b*d,e,f)},this),this},addVariable:function(b,c,d,e){null==c&&(c=1),a.trace&&console.log("c.Expression::addVariable():",b,c);var f=this.terms.get(b);if(f){var g=f+c;0==g||a.approx(g,0)?(e&&e.noteRemovedVariable(b,d),this.terms.delete(b)):this.setVariable(b,g)}else a.approx(c,0)||(this.setVariable(b,c),e&&e.noteAddedVariable(b,d));return this},setVariable:function(a,b){return this.terms.set(a,b),this},anyPivotableVariable:function(){if(this.isConstant)throw new a.InternalError("anyPivotableVariable called on a constant");var b=this.terms.escapingEach(function(a){return a.isPivotable?{retval:a}:void 0});return b&&void 0!==b.retval?b.retval:null},substituteOut:function(b,c,d,e){a.trace&&(a.fnenterprint("CLE:substituteOut: "+b+", "+c+", "+d+", ..."),a.traceprint("this = "+this)),this.setVariable.bind(this);var f=this.terms,g=f.get(b);f.delete(b),this.constant+=g*c.constant,c.terms.each(function(b,c){var h=f.get(b);if(h){var i=h+g*c;a.approx(i,0)?(e.noteRemovedVariable(b,d),f.delete(b)):f.set(b,i)}else f.set(b,g*c),e&&e.noteAddedVariable(b,d)}),a.trace&&a.traceprint("Now this is "+this)},changeSubject:function(a,b){this.setVariable(a,this.newSubject(b))},newSubject:function(b){a.trace&&a.fnenterprint("newSubject:"+b);var c=1/this.terms.get(b);return this.terms.delete(b),this.multiplyMe(-c),c},coefficientFor:function(a){return this.terms.get(a)||0},get isConstant(){return 0==this.terms.size},toString:function(){var b="",c=!1;if(!a.approx(this.constant,0)||this.isConstant){if(b+=this.constant,this.isConstant)return b;c=!0}return this.terms.each(function(a,d){c&&(b+=" + "),b+=d+"*"+a,c=!0}),b},equals:function(b){return b===this?!0:b instanceof a.Expression&&b.constant===this.constant&&b.terms.equals(this.terms)},Plus:function(a,b){return a.plus(b)},Minus:function(a,b){return a.minus(b)},Times:function(a,b){return a.times(b)},Divide:function(a,b){return a.divide(b)}}),a.Expression.empty=function(){return new a.Expression(void 0,1,0)},a.Expression.fromConstant=function(b){return new a.Expression(b)},a.Expression.fromValue=function(b){return b=+b,new a.Expression(void 0,b,0)},a.Expression.fromVariable=function(b){return new a.Expression(b,1,0)}}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/Constraint.js",function(a,b,c){!function(a){"use strict";a.AbstractConstraint=a.inherit({initialize:function(b,c){this.hashCode=a._inc(),this.strength=b||a.Strength.required,this.weight=c||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===a.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var b=a.AbstractConstraint.prototype.toString,c=function(b,c,d){a.AbstractConstraint.call(this,c||a.Strength.strong,d),this.variable=b,this.expression=new a.Expression(b,-1,b.value)};a.EditConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+b.call(this)}}),a.StayConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+b.call(this)}});var d=a.Constraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(b,c,d){a.AbstractConstraint.call(this,c,d),this.expression=b}});a.Inequality=a.inherit({"extends":a.Constraint,_cloneOrNewCle:function(b){return b.clone?b.clone():new a.Expression(b)},initialize:function(b,c,e,f,g){var h=b instanceof a.Expression,i=e instanceof a.Expression,j=b instanceof a.AbstractVariable,k=e instanceof a.AbstractVariable,l="number"==typeof b,m="number"==typeof e;if((h||l)&&k){var n=b,o=c,p=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else if(j&&(i||m)){var n=e,o=c,p=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else{if(h&&m){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(l&&i){var s=e,o=c,t=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(h&&i){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(t),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(s));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(s),-1)}}else{if(h)return d.call(this,b,c,e);if(c==a.GEQ)d.call(this,new a.Expression(e),f,g),this.expression.multiplyMe(-1),this.expression.addVariable(b);else{if(c!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");d.call(this,new a.Expression(e),f,g),this.expression.addVariable(b,-1)}}}},isInequality:!0,toString:function(){return d.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),a.Equation=a.inherit({"extends":a.Constraint,initialize:function(b,c,e,f){if(b instanceof a.Expression&&!c||c instanceof a.Strength)d.call(this,b,c,e);else if(b instanceof a.AbstractVariable&&c instanceof a.Expression){var g=b,h=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.AbstractVariable&&"number"==typeof c){var g=b,k=c,i=e,j=f;d.call(this,new a.Expression(k),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.Expression&&c instanceof a.AbstractVariable){var h=b,g=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else{if(!(b instanceof a.Expression||b instanceof a.AbstractVariable||"number"==typeof b)||!(c instanceof a.Expression||c instanceof a.AbstractVariable||"number"==typeof c))throw"Bad initializer to c.Equation";b=b instanceof a.Expression?b.clone():new a.Expression(b),c=c instanceof a.Expression?c.clone():new a.Expression(c),d.call(this,b,e,f),this.expression.addExpression(c,-1)}a.assert(this.strength instanceof a.Strength,"_strength not set")},toString:function(){return d.prototype.toString.call(this)+" = 0)"}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/EditInfo.js",function(a,b,c){!function(a){"use strict";a.EditInfo=a.inherit({initialize:function(a,b,c,d,e){this.constraint=a,this.editPlus=b,this.editMinus=c,this.prevEditConstant=d,this.index=e
},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/Tableau.js",function(a,b,c){!function(a){"use strict";a.Tableau=a.inherit({initialize:function(){this.columns=new a.HashTable,this.rows=new a.HashTable,this._infeasibleRows=new a.HashSet,this._externalRows=new a.HashSet,this._externalParametricVars=new a.HashSet},noteRemovedVariable:function(b,c){a.trace&&console.log("c.Tableau::noteRemovedVariable: ",b,c);var d=this.columns.get(b);c&&d&&d.delete(c)},noteAddedVariable:function(a,b){b&&this.insertColVar(a,b)},getInternalInfo:function(){var a="Tableau Information:\n";return a+="Rows: "+this.rows.size,a+=" (= "+(this.rows.size-1)+" constraints)",a+="\nColumns: "+this.columns.size,a+="\nInfeasible Rows: "+this._infeasibleRows.size,a+="\nExternal basic variables: "+this._externalRows.size,a+="\nExternal parametric variables: ",a+=this._externalParametricVars.size,a+="\n"},toString:function(){var a="Tableau:\n";return this.rows.each(function(b,c){a+=b,a+=" <==> ",a+=c,a+="\n"}),a+="\nColumns:\n",a+=this.columns,a+="\nInfeasible rows: ",a+=this._infeasibleRows,a+="External basic variables: ",a+=this._externalRows,a+="External parametric variables: ",a+=this._externalParametricVars},insertColVar:function(b,c){var d=this.columns.get(b);d||(d=new a.HashSet,this.columns.set(b,d)),d.add(c)},addRow:function(b,c){a.trace&&a.fnenterprint("addRow: "+b+", "+c),this.rows.set(b,c),c.terms.each(function(a){this.insertColVar(a,b),a.isExternal&&this._externalParametricVars.add(a)},this),b.isExternal&&this._externalRows.add(b),a.trace&&a.traceprint(this.toString())},removeColumn:function(b){a.trace&&a.fnenterprint("removeColumn:"+b);var c=this.columns.get(b);c?(this.columns.delete(b),c.each(function(a){var c=this.rows.get(a);c.terms.delete(b)},this)):a.trace&&console.log("Could not find var",b,"in columns"),b.isExternal&&(this._externalRows.delete(b),this._externalParametricVars.delete(b))},removeRow:function(b){a.trace&&a.fnenterprint("removeRow:"+b);var c=this.rows.get(b);return a.assert(null!=c),c.terms.each(function(c){var d=this.columns.get(c);null!=d&&(a.trace&&console.log("removing from varset:",b),d.delete(b))},this),this._infeasibleRows.delete(b),b.isExternal&&this._externalRows.delete(b),this.rows.delete(b),a.trace&&a.fnexitprint("returning "+c),c},substituteOut:function(b,c){a.trace&&a.fnenterprint("substituteOut:"+b+", "+c),a.trace&&a.traceprint(this.toString());var d=this.columns.get(b);d.each(function(a){var d=this.rows.get(a);d.substituteOut(b,c,a,this),a.isRestricted&&d.constant<0&&this._infeasibleRows.add(a)},this),b.isExternal&&(this._externalRows.add(b),this._externalParametricVars.delete(b)),this.columns.delete(b)},columnsHasKey:function(a){return!!this.columns.get(a)}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/SimplexSolver.js",function(a,b,c){!function(a){var b=a.Tableau,c=b.prototype,d=1e-8,e=a.Strength.weak;a.SimplexSolver=a.inherit({"extends":a.Tableau,initialize:function(){a.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new a.HashTable,this._markerVars=new a.HashTable,this._objective=new a.ObjectiveVariable({name:"Z"}),this._editVarMap=new a.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._needsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,a.Expression.empty()),this._editVariableStack=[0],a.trace&&a.traceprint("objective expr == "+this.rows.get(this._objective))},add:function(){for(var a=0;a<arguments.length;a++)this.addConstraint(arguments[a]);return this},_addEditConstraint:function(b,c,d){var e=this._editVarMap.size,f=c[0],g=c[1],h=new a.EditInfo(b,f,g,d,e);this._editVarMap.set(b.variable,h),this._editVarList[e]={v:b.variable,info:h}},addConstraint:function(b){a.trace&&a.fnenterprint("addConstraint: "+b);var c=new Array(2),d=new Array(1),e=this.newExpression(b,c,d);return d=d[0],this.tryAddingDirectly(e)||this.addWithArtificialVariable(e),this._needsSolving=!0,b.isEditConstraint&&this._addEditConstraint(b,c,d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(b){a.trace&&a.fnenterprint("addConstraintNoException: "+b);try{return this.addConstraint(b),!0}catch(c){return!1}},addEditVar:function(b,c,d){return a.trace&&a.fnenterprint("addEditVar: "+b+" @ "+c+" {"+d+"}"),this.addConstraint(new a.EditConstraint(b,c||a.Strength.strong,d))},beginEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._editVariableStack.push(this._editVarMap.size),this},endEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._editVariableStack.pop(),this.removeEditVarsTo(this._editVariableStack[this._editVariableStack.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(b){try{for(var c=this._editVarList.length,d=b;c>d;d++)this._editVarList[d]&&this.removeConstraint(this._editVarMap.get(this._editVarList[d].v).constraint);return this._editVarList.length=b,a.assert(this._editVarMap.size==b,"_editVarMap.size == n"),this}catch(e){throw new a.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(b){return a.trace&&console.log("addPointStays",b),b.forEach(function(a,b){this.addStay(a.x,e,Math.pow(2,b)),this.addStay(a.y,e,Math.pow(2,b))},this),this},addStay:function(b,c,d){var f=new a.StayConstraint(b,c||e,d||1);return this.addConstraint(f)},removeConstraint:function(b){a.trace&&a.fnenterprint("removeConstraintInternal: "+b),a.trace&&a.traceprint(this.toString()),this._needsSolving=!0,this._resetStayConstants();var c=this.rows.get(this._objective),d=this._errorVars.get(b);a.trace&&a.traceprint("eVars == "+d),null!=d&&d.each(function(e){var f=this.rows.get(e);null==f?c.addVariable(e,-b.weight*b.strength.symbolicWeight.value,this._objective,this):c.addExpression(f,-b.weight*b.strength.symbolicWeight.value,this._objective,this),a.trace&&a.traceprint("now eVars == "+d)},this);var e=this._markerVars.get(b);if(this._markerVars.delete(b),null==e)throw new a.InternalError("Constraint not found in removeConstraintInternal");if(a.trace&&a.traceprint("Looking to remove var "+e),null==this.rows.get(e)){var f=this.columns.get(e);a.trace&&a.traceprint("Must pivot -- columns are "+f);var g=null,h=0;f.each(function(b){if(b.isRestricted){var c=this.rows.get(b),d=c.coefficientFor(e);if(a.trace&&a.traceprint("Marker "+e+"'s coefficient in "+c+" is "+d),0>d){var f=-c.constant/d;(null==g||h>f||a.approx(f,h)&&b.hashCode<g.hashCode)&&(h=f,g=b)}}},this),null==g&&(a.trace&&a.traceprint("exitVar is still null"),f.each(function(a){if(a.isRestricted){var b=this.rows.get(a),c=b.coefficientFor(e),d=b.constant/c;(null==g||h>d)&&(h=d,g=a)}},this)),null==g&&(0==f.size?this.removeColumn(e):f.escapingEach(function(a){return a!=this._objective?(g=a,{brk:!0}):void 0},this)),null!=g&&this.pivot(e,g)}if(null!=this.rows.get(e)&&this.removeRow(e),null!=d&&d.each(function(a){a!=e&&this.removeColumn(a)},this),b.isStayConstraint){if(null!=d)for(var i=0;i<this._stayPlusErrorVars.length;i++)d.delete(this._stayPlusErrorVars[i]),d.delete(this._stayMinusErrorVars[i])}else if(b.isEditConstraint){a.assert(null!=d,"eVars != null");var j=this._editVarMap.get(b.variable);this.removeColumn(j.editMinus),this._editVarMap.delete(b.variable)}return null!=d&&this._errorVars.delete(d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw a.trace&&a.fnenterprint("reset"),new a.InternalError("reset not implemented")},resolveArray:function(b){a.trace&&a.fnenterprint("resolveArray"+b);var c=b.length;this._editVarMap.each(function(a,d){var e=d.index;c>e&&this.suggestValue(a,b[e])},this),this.resolve()},resolvePair:function(a,b){this.suggestValue(this._editVarList[0].v,a),this.suggestValue(this._editVarList[1].v,b),this.resolve()},resolve:function(){a.trace&&a.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(b,c){a.trace&&console.log("suggestValue("+b+", "+c+")");var d=this._editVarMap.get(b);if(!d)throw new a.Error("suggestValue for variable "+b+", but var is not an edit variable");var e=c-d.prevEditConstant;return d.prevEditConstant=c,this.deltaEditConstant(e,d.editPlus,d.editMinus),this},solve:function(){return this._needsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(b,c){if(!this.columnsHasKey(b)&&null==this.rows.get(b))return b.value=c,this;if(!a.approx(c,b.value)){this.addEditVar(b),this.beginEdit();try{this.suggestValue(b,c)}catch(d){throw new a.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(b){if(!this.columnsHasKey(b)&&null==this.rows.get(b)){try{this.addStay(b)}catch(c){throw new a.InternalError("Error in addVar -- required failure is impossible")}a.trace&&a.traceprint("added initial stay on "+b)}return this},getInternalInfo:function(){var a=c.getInternalInfo.call(this);return a+="\nSolver info:\n",a+="Stay Error Variables: ",a+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,a+=" ("+this._stayPlusErrorVars.length+" +, ",a+=this._stayMinusErrorVars.length+" -)\n",a+="Edit Variables: "+this._editVarMap.size,a+="\n"},getDebugInfo:function(){return this.toString()+this.getInternalInfo()+"\n"},toString:function(){var a=c.getInternalInfo.call(this);return a+="\n_stayPlusErrorVars: ",a+="["+this._stayPlusErrorVars+"]",a+="\n_stayMinusErrorVars: ",a+="["+this._stayMinusErrorVars+"]",a+="\n",a+="_editVarMap:\n"+this._editVarMap,a+="\n"},addWithArtificialVariable:function(b){a.trace&&a.fnenterprint("addWithArtificialVariable: "+b);var c=new a.SlackVariable({value:++this._artificialCounter,prefix:"a"}),d=new a.ObjectiveVariable({name:"az"}),e=b.clone();a.trace&&a.traceprint("before addRows:\n"+this),this.addRow(d,e),this.addRow(c,b),a.trace&&a.traceprint("after addRows:\n"+this),this.optimize(d);var f=this.rows.get(d);if(a.trace&&a.traceprint("azTableauRow.constant == "+f.constant),!a.approx(f.constant,0))throw this.removeRow(d),this.removeColumn(c),new a.RequiredFailure;var g=this.rows.get(c);if(null!=g){if(g.isConstant)return this.removeRow(c),this.removeRow(d),void 0;var h=g.anyPivotableVariable();this.pivot(h,c)}a.assert(null==this.rows.get(c),"rowExpression(av) == null"),this.removeColumn(c),this.removeRow(d)},tryAddingDirectly:function(b){a.trace&&a.fnenterprint("tryAddingDirectly: "+b);var c=this.chooseSubject(b);return null==c?(a.trace&&a.fnexitprint("returning false"),!1):(b.newSubject(c),this.columnsHasKey(c)&&this.substituteOut(c,b),this.addRow(c,b),a.trace&&a.fnexitprint("returning true"),!0)},chooseSubject:function(b){a.trace&&a.fnenterprint("chooseSubject: "+b);var c=null,d=!1,e=!1,f=b.terms,g=f.escapingEach(function(a,b){if(d){if(!a.isRestricted&&!this.columnsHasKey(a))return{retval:a}}else if(a.isRestricted){if(!e&&!a.isDummy&&0>b){var f=this.columns.get(a);(null==f||1==f.size&&this.columnsHasKey(this._objective))&&(c=a,e=!0)}}else c=a,d=!0},this);if(g&&void 0!==g.retval)return g.retval;if(null!=c)return c;var h=0,g=f.escapingEach(function(a,b){return a.isDummy?(this.columnsHasKey(a)||(c=a,h=b),void 0):{retval:null}},this);if(g&&void 0!==g.retval)return g.retval;if(!a.approx(b.constant,0))throw new a.RequiredFailure;return h>0&&b.multiplyMe(-1),c},deltaEditConstant:function(b,c,d){a.trace&&a.fnenterprint("deltaEditConstant :"+b+", "+c+", "+d);var e=this.rows.get(c);if(null!=e)return e.constant+=b,e.constant<0&&this._infeasibleRows.add(c),void 0;var f=this.rows.get(d);if(null!=f)return f.constant+=-b,f.constant<0&&this._infeasibleRows.add(d),void 0;var g=this.columns.get(d);g||console.log("columnVars is null -- tableau is:\n"+this),g.each(function(a){var c=this.rows.get(a),e=c.coefficientFor(d);c.constant+=e*b,a.isRestricted&&c.constant<0&&this._infeasibleRows.add(a)},this)},dualOptimize:function(){a.trace&&a.fnenterprint("dualOptimize:");for(var b=this.rows.get(this._objective);this._infeasibleRows.size;){var c=this._infeasibleRows.values()[0];this._infeasibleRows.delete(c);var d=null,e=this.rows.get(c);if(e&&e.constant<0){var f,g=Number.MAX_VALUE,h=e.terms;if(h.each(function(c,e){if(e>0&&c.isPivotable){var h=b.coefficientFor(c);f=h/e,(g>f||a.approx(f,g)&&c.hashCode<d.hashCode)&&(d=c,g=f)}}),g==Number.MAX_VALUE)throw new a.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(d,c)}}},newExpression:function(b,c,d){a.trace&&(a.fnenterprint("newExpression: "+b),a.traceprint("cn.isInequality == "+b.isInequality),a.traceprint("cn.required == "+b.required));var e=b.expression,f=a.Expression.fromConstant(e.constant),g=new a.SlackVariable,h=new a.DummyVariable,i=new a.SlackVariable,j=new a.SlackVariable,k=e.terms;if(k.each(function(a,b){var c=this.rows.get(a);c?f.addExpression(c,b):f.addVariable(a,b)},this),b.isInequality){if(a.trace&&a.traceprint("Inequality, adding slack"),++this._slackCounter,g=new a.SlackVariable({value:this._slackCounter,prefix:"s"}),f.setVariable(g,-1),this._markerVars.set(b,g),!b.required){++this._slackCounter,i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(i,1);var l=this.rows.get(this._objective);l.setVariable(i,b.strength.symbolicWeight.value*b.weight),this.insertErrorVar(b,i),this.noteAddedVariable(i,this._objective)}}else if(b.required)a.trace&&a.traceprint("Equality, required"),++this._dummyCounter,h=new a.DummyVariable({value:this._dummyCounter,prefix:"d"}),c[0]=h,c[1]=h,d[0]=e.constant,f.setVariable(h,1),this._markerVars.set(b,h),a.trace&&a.traceprint("Adding dummyVar == d"+this._dummyCounter);else{a.trace&&a.traceprint("Equality, not required"),++this._slackCounter,j=new a.SlackVariable({value:this._slackCounter,prefix:"ep"}),i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(j,-1),f.setVariable(i,1),this._markerVars.set(b,j);var l=this.rows.get(this._objective);a.trace&&console.log(l);var m=b.strength.symbolicWeight.value*b.weight;0==m&&(a.trace&&a.traceprint("cn == "+b),a.trace&&a.traceprint("adding "+j+" and "+i+" with swCoeff == "+m)),l.setVariable(j,m),this.noteAddedVariable(j,this._objective),l.setVariable(i,m),this.noteAddedVariable(i,this._objective),this.insertErrorVar(b,i),this.insertErrorVar(b,j),b.isStayConstraint?(this._stayPlusErrorVars.push(j),this._stayMinusErrorVars.push(i)):b.isEditConstraint&&(c[0]=j,c[1]=i,d[0]=e.constant)}return f.constant<0&&f.multiplyMe(-1),a.trace&&a.fnexitprint("returning "+f),f},optimize:function(b){a.trace&&a.fnenterprint("optimize: "+b),a.trace&&a.traceprint(this.toString()),this._optimizeCount++;var c=this.rows.get(b);a.assert(null!=c,"zRow != null");for(var e,f,g=null,h=null;;){if(e=0,f=c.terms,f.escapingEach(function(a,b){return a.isPivotable&&e>b?(e=b,g=a,{brk:1}):void 0},this),e>=-d)return;a.trace&&console.log("entryVar:",g,"objectiveCoeff:",e);var i=Number.MAX_VALUE,j=this.columns.get(g),k=0;if(j.each(function(b){if(a.trace&&a.traceprint("Checking "+b),b.isPivotable){var c=this.rows.get(b),d=c.coefficientFor(g);a.trace&&a.traceprint("pivotable, coeff = "+d),0>d&&(k=-c.constant/d,(i>k||a.approx(k,i)&&b.hashCode<h.hashCode)&&(i=k,h=b))}},this),i==Number.MAX_VALUE)throw new a.InternalError("Objective function is unbounded in optimize");this.pivot(g,h),a.trace&&a.traceprint(this.toString())}},pivot:function(b,c){a.trace&&console.log("pivot: ",b,c);var d=!1;d&&console.time(" SimplexSolver::pivot"),null==b&&console.warn("pivot: entryVar == null"),null==c&&console.warn("pivot: exitVar == null"),d&&console.time("  removeRow");var e=this.removeRow(c);d&&console.timeEnd("  removeRow"),d&&console.time("  changeSubject"),e.changeSubject(c,b),d&&console.timeEnd("  changeSubject"),d&&console.time("  substituteOut"),this.substituteOut(b,e),d&&console.timeEnd("  substituteOut"),d&&console.time("  addRow"),this.addRow(b,e),d&&console.timeEnd("  addRow"),d&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){a.trace&&console.log("_resetStayConstants");for(var b=this._stayPlusErrorVars,c=b.length,d=0;c>d;d++){var e=this.rows.get(b[d]);null===e&&(e=this.rows.get(this._stayMinusErrorVars[d])),null!=e&&(e.constant=0)}},_setExternalVariables:function(){a.trace&&a.fnenterprint("_setExternalVariables:"),a.trace&&a.traceprint(this.toString());var b={};this._externalParametricVars.each(function(c){null!=this.rows.get(c)?a.trace&&console.log("Error: variable"+c+" in _externalParametricVars is basic"):(c.value=0,b[c.name]=0)},this),this._externalRows.each(function(a){var c=this.rows.get(a);a.value!=c.constant&&(a.value=c.constant,b[a.name]=c.constant)},this),this._changed=b,this._needsSolving=!1,this._informCallbacks(),this.onsolved()},onsolved:function(){},_informCallbacks:function(){if(this._callbacks){var a=this._changed;this._callbacks.forEach(function(b){b(a)})}},_addCallback:function(a){(this._callbacks||(this._callbacks=[])).push(a)},insertErrorVar:function(b,c){a.trace&&a.fnenterprint("insertErrorVar:"+b+", "+c);var d=this._errorVars.get(c);d||(d=new a.HashSet,this._errorVars.set(b,d)),d.add(c)}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/Timer.js",function(a,b,c){!function(a){"use strict";a.Timer=a.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||c.parent.exports||{})}),require.register("slightlyoff-cassowary.js/src/parser/parser.js",function(){this.c.parser=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){O>M||(M>O&&(O=M,P=[]),P.push(a))}function e(){var a,b,c,d,e;if(d=M,e=M,a=s(),null!==a){for(b=[],c=f();null!==c;)b.push(c),c=f();null!==b?(c=s(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)}else a=null,M=e;return null!==a&&(a=function(a,b){return b}(d,a[1])),null===a&&(M=d),a}function f(){var a,b,c,d;return c=M,d=M,a=I(),null!==a?(b=l(),null!==b?a=[a,b]:(a=null,M=d)):(a=null,M=d),null!==a&&(a=function(a,b){return b}(c,a[0])),null===a&&(M=c),a}function g(){var a;return b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),a}function h(){var a;return/^[a-zA-Z]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[a-zA-Z]")),null===a&&(36===b.charCodeAt(M)?(a="$",M++):(a=null,0===N&&d('"$"')),null===a&&(95===b.charCodeAt(M)?(a="_",M++):(a=null,0===N&&d('"_"')))),a}function i(){var a;return N++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),N--,0===N&&null===a&&d("whitespace"),a}function j(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\n\\r\\u2028\\u2029]")),a}function k(){var a;return N++,10===b.charCodeAt(M)?(a="\n",M++):(a=null,0===N&&d('"\\n"')),null===a&&("\r\n"===b.substr(M,2)?(a="\r\n",M+=2):(a=null,0===N&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(M)?(a="\r",M++):(a=null,0===N&&d('"\\r"')),null===a&&(8232===b.charCodeAt(M)?(a="\u2028",M++):(a=null,0===N&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(M)?(a="\u2029",M++):(a=null,0===N&&d('"\\u2029"')))))),N--,0===N&&null===a&&d("end of line"),a}function l(){var a,c,e;return e=M,a=s(),null!==a?(59===b.charCodeAt(M)?(c=";",M++):(c=null,0===N&&d('";"')),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=r(),null!==a?(c=k(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=s(),null!==a?(c=m(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e))),a}function m(){var a,c;return c=M,N++,b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),N--,null===a?a="":(a=null,M=c),a}function n(){var a;return N++,a=o(),null===a&&(a=q()),N--,0===N&&null===a&&d("comment"),a}function o(){var a,c,e,f,h,i,j;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function p(){var a,c,e,f,h,i,k;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function q(){var a,c,e,f,h,i,k;if(h=M,"//"===b.substr(M,2)?(a="//",M+=2):(a=null,0===N&&d('"//"')),null!==a){for(c=[],i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?(e=j(),null===e&&(e=m()),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function r(){var a,b;for(a=[],b=i(),null===b&&(b=p(),null===b&&(b=q()));null!==b;)a.push(b),b=i(),null===b&&(b=p(),null===b&&(b=q()));return a}function s(){var a,b;for(a=[],b=i(),null===b&&(b=k(),null===b&&(b=n()));null!==b;)a.push(b),b=i(),null===b&&(b=k(),null===b&&(b=n()));return a}function t(){var a,b;return b=M,a=v(),null===a&&(a=u()),null!==a&&(a=function(a,b){return{type:"NumericLiteral",value:b}}(b,a)),null===a&&(M=b),a}function u(){var a,c,e;if(e=M,/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""))}(e,a)),null===a&&(M=e),a}function v(){var a,c,e,f,g;return f=M,g=M,a=u(),null!==a?(46===b.charCodeAt(M)?(c=".",M++):(c=null,0===N&&d('"."')),null!==c?(e=u(),null!==e?a=[a,c,e]:(a=null,M=g)):(a=null,M=g)):(a=null,M=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(M=f),a}function w(){var a,c,e,f;if(f=M,/^[\-+]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,M=f)}else a=null,M=f;return a}function x(){var a,b;return N++,b=M,a=y(),null!==a&&(a=function(a,b){return b}(b,a)),null===a&&(M=b),N--,0===N&&null===a&&d("identifier"),a}function y(){var a,b,c,e,f;if(N++,e=M,f=M,a=h(),null!==a){for(b=[],c=h();null!==c;)b.push(c),c=h();null!==b?a=[a,b]:(a=null,M=f)}else a=null,M=f;return null!==a&&(a=function(a,b,c){return b+c.join("")}(e,a[0],a[1])),null===a&&(M=e),N--,0===N&&null===a&&d("identifier"),a}function z(){var a,c,e,f,g,h,i;return h=M,a=x(),null!==a&&(a=function(a,b){return{type:"Variable",name:b}}(h,a)),null===a&&(M=h),null===a&&(a=t(),null===a&&(h=M,i=M,40===b.charCodeAt(M)?(a="(",M++):(a=null,0===N&&d('"("')),null!==a?(c=s(),null!==c?(e=I(),null!==e?(f=s(),null!==f?(41===b.charCodeAt(M)?(g=")",M++):(g=null,0===N&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i),null!==a&&(a=function(a,b){return b}(h,a[2])),null===a&&(M=h))),a}function A(){var a,b,c,d,e;return a=z(),null===a&&(d=M,e=M,a=B(),null!==a?(b=s(),null!==b?(c=A(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)):(a=null,M=e),null!==a&&(a=function(a,b,c){return{type:"UnaryExpression",operator:b,expression:c}}(d,a[0],a[2])),null===a&&(M=d)),a}function B(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"')),null===a&&(33===b.charCodeAt(M)?(a="!",M++):(a=null,0===N&&d('"!"')))),a}function C(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=A(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"MultiplicativeExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function D(){var a;return 42===b.charCodeAt(M)?(a="*",M++):(a=null,0===N&&d('"*"')),null===a&&(47===b.charCodeAt(M)?(a="/",M++):(a=null,0===N&&d('"/"'))),a}function E(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=C(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"AdditiveExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function F(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"'))),a}function G(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=E(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Inequality",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function H(){var a;return"<="===b.substr(M,2)?(a="<=",M+=2):(a=null,0===N&&d('"<="')),null===a&&(">="===b.substr(M,2)?(a=">=",M+=2):(a=null,0===N&&d('">="')),null===a&&(60===b.charCodeAt(M)?(a="<",M++):(a=null,0===N&&d('"<"')),null===a&&(62===b.charCodeAt(M)?(a=">",M++):(a=null,0===N&&d('">"'))))),a}function I(){var a,c,e,f,g,h,i,j,k;if(i=M,j=M,a=G(),null!==a){for(c=[],k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==e;)c.push(e),k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==c?a=[a,c]:(a=null,M=j)}else a=null,M=j;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Equality",operator:c[e][1],left:d,right:c[e][3]};return d}(i,a[0],a[1])),null===a&&(M=i),a}function J(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function K(){for(var a=1,c=1,d=!1,e=0;e<Math.max(M,O);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var L={start:e,Statement:f,SourceCharacter:g,IdentifierStart:h,WhiteSpace:i,LineTerminator:j,LineTerminatorSequence:k,EOS:l,EOF:m,Comment:n,MultiLineComment:o,MultiLineCommentNoLineTerminator:p,SingleLineComment:q,_:r,__:s,Literal:t,Integer:u,Real:v,SignedInteger:w,Identifier:x,IdentifierName:y,PrimaryExpression:z,UnaryExpression:A,UnaryOperator:B,MultiplicativeExpression:C,MultiplicativeOperator:D,AdditiveExpression:E,AdditiveOperator:F,InequalityExpression:G,InequalityOperator:H,LinearExpression:I};if(void 0!==c){if(void 0===L[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var M=0,N=0,O=0,P=[],Q=L[c]();if(null===Q||M!==b.length){var R=Math.max(M,O),S=R<b.length?b.charAt(R):null,T=K();throw new this.SyntaxError(J(P),S,R,T.line,T.column)}return Q},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),require.register("slightlyoff-cassowary.js/src/parser/api.js",function(a,b,c){!function(a){"use strict";var b=new a.SimplexSolver,c={},d={},e=a.Strength.weak;a.Strength.medium,a.Strength.strong,a.Strength.required;var f=function(g){if(d[g])return d[g];switch(g.type){case"Inequality":var h="<="==g.operator?a.LEQ:a.GEQ,i=new a.Inequality(f(g.left),h,f(g.right),e);return b.addConstraint(i),i;case"Equality":var i=new a.Equation(f(g.left),f(g.right),e);return b.addConstraint(i),i;case"MultiplicativeExpression":var i=a.times(f(g.left),f(g.right));return b.addConstraint(i),i;case"AdditiveExpression":return"+"==g.operator?a.plus(f(g.left),f(g.right)):a.minus(f(g.left),f(g.right));case"NumericLiteral":return new a.Expression(g.value);case"Variable":return c[g.name]||(c[g.name]=new a.Variable({name:g.name})),c[g.name];case"UnaryExpression":console.log("UnaryExpression...WTF?")}},g=function(a){return a.map(f)};a._api=function(){var c=Array.prototype.slice.call(arguments);if(1==c.length){if("string"==typeof c[0]){var d=a.parser.parse(c[0]);return g(d)}"function"==typeof c[0]&&b._addCallback(c[0])}}}(this.c||c.parent.exports||{})}),require.register("gss/lib/GSS-with-compiler.js",function(a,b){var c;b("./GSS.js"),c=GSS.Compiler=b("gss-compiler"),GSS.compile=function(a){var b,d;if(b={},"string"==typeof a)try{b=c.compile(a)}catch(e){d=e,console.warn("compiler error",d),b={}}else{if("object"!=typeof a)throw new Error("Unrecognized GSS rule format. Should be string or AST");b=a}return b},GSS.Engine.prototype.compile=function(a){return this.run(GSS.compile(a))},GSS.Getter.prototype["readAST:text/gss"]=function(a){var b,c;return c=a.textContent.trim(),0===c.length?{}:b=GSS.compile(c)}}),require.register("gss/lib/GSS.js",function(a,b){var c,d,e,f,g,h,i;if(b("customevent-polyfill"),b("cassowary"),window.GSS)throw new Error("Only one GSS object per window");if(c=window.GSS=function(a){var b;if(a===document||a===window)return c.engines.root;if(a.tagName)return b=c.get.engine(a),b?b:new c.Engine({scope:a});if(null!==a&&"object"==typeof a)return a.scope&&(b=c.get.engine(a.scope))?b:new c.Engine(a);throw new Error("")},c.config={defaultStrength:"weak",defaultWeight:0,verticalScroll:!0,horizontalScroll:!1,resizeDebounce:32,defaultMatrixType:"mat4",observe:!0,observerOptions:{subtree:!0,childList:!0,attributes:!0,characterData:!0},debug:!1,warn:!1,perf:!1,fractionalPixels:!0,readyClass:!0,processBeforeSet:null,maxDisplayRecursionDepth:30,useWorker:!!window.Worker,worker:"../dist/worker.js",useOffsetParent:!0},"undefined"!=typeof GSS_CONFIG&&null!==GSS_CONFIG)for(g in GSS_CONFIG)h=GSS_CONFIG[g],c.config[g]=h;
c.deblog=function(){return c.config.debug?console.log.apply(console,arguments):void 0},c.warn=function(){return c.config.warn?console.warn.apply(console,arguments):void 0},d=function(a,b){return null==b&&(b="green"),c.deblog("%c"+a,"color:white; padding:2px; font-size:14px; background:"+b+";")},e=function(){return c.config.perf?console.time.apply(console,arguments):void 0},f=function(){return c.config.perf?console.timeEnd.apply(console,arguments):void 0},c._=b("./_.js"),c.glMatrix=b("../vendor/gl-matrix"),c.EventTrigger=b("./EventTrigger.js"),c.Getter=b("./dom/Getter.js"),c.Commander=b("./Commander.js"),c.Query=b("./dom/Query.js"),c.Thread=b("./Thread.js"),c.Engine=b("./Engine.js"),c.View=b("./dom/View.js"),c.Rule=b("./gssom/Rule.js"),b("./gssom/StyleSheet.js"),i=b("./dom/IdMixin.js");for(g in i){if(h=i[g],c[g])throw new Error("IdMixin key clash: "+g);c[g]=h}c.EventTrigger.make(c),c.get=new c.Getter,c.observer=b("./dom/Observer.js"),c.boot=function(){return c({scope:c.Getter.getRootScope(),is_root:!0})},c.load=function(){return c.styleSheets.findAndInstall(),c.render()},c.render=function(){return e("RENDER"),c.updateIfNeeded(),c.layoutIfNeeded()},c.needsUpdate=!1,c.setNeedsUpdate=function(a){return a?(c.needsUpdate||c._.defer(c.updateIfNeeded),c.needsUpdate=!0):c.needsUpdate=!1},c.updateIfNeeded=function(){return c.needsUpdate?(d("Update Pass","orange"),e("update pass"),c.engines.root.updateIfNeeded(),c.setNeedsUpdate(!1),f("update pass")):void 0},c.needsLayout=!1,c.setNeedsLayout=function(a){return a?(c.needsLayout||c._.defer(c.layoutIfNeeded),c.needsLayout=!0):c.needsLayout=!1},c.layoutIfNeeded=function(){return c.needsLayout?(d("Layout Pass","green"),e("layout pass"),c.engines.root.layoutIfNeeded(),c.setNeedsLayout(!1),f("layout pass")):void 0},c.needsDisplay=!1,c.setNeedsDisplay=function(a){return a?(c.needsDisplay||c._.defer(c.displayIfNeeded),c.needsDisplay=!0):c.needsDisplay=!1},c.displayIfNeeded=function(){return c.needsDisplay?(d("Display Pass","violet"),e("display pass"),c.engines.root.displayIfNeeded(),c.setNeedsDisplay(!1),f("display pass"),f("RENDER")):void 0}}),require.register("gss/lib/_.js",function(a,b,c){var d,e,f,g,h=[].slice;e=Date.now||function(){return(new Date).getTime()},f=document.createElement("div"),d=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)if(b=a[c],"undefined"!=typeof f.style[b])return b;return null},g={transformPrefix:d(["transform","WebkitTransform","MozTransform","OTransform","msTransform"]),boxSizingPrefix:d(["boxSizing","WebkitBoxSizing","MozBoxSizing","OBoxSizing","msBoxSizing"]),defer:function(a){return setTimeout(a,1)},debounce:function(a,b,c){var d,f,g,i,j;return i=void 0,d=void 0,f=void 0,j=void 0,g=void 0,function(){var k,l;return f=this,d=h.call(arguments),j=e(),l=function(){var h;return h=e()-j,b>h?i=setTimeout(l,b-h):(i=null,c?void 0:g=a.apply(f,d))},k=c&&!i,i||(i=setTimeout(l,b)),k&&(g=a.apply(f,d)),g}},cloneDeep:function(a){return JSON.parse(JSON.stringify(a))},cloneObject:function(a){var b,c;c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c},filterVarsForDisplay:function(a){var b,c,d,e,f,g,h,i;f={},e=[];for(d in a)g=a[d],b=d.indexOf("intrinsic-"),-1!==b?e.push(d.replace("intrinsic-","")):f[d]=g;for(h=0,i=e.length;i>h;h++)c=e[h],delete f[c];return f},varsByViewId:function(a){var b,c,d,e,f;f={};for(c in a)e=a[c],"$"===c[0]&&(b=c.substring(1,c.indexOf("[")),f[b]||(f[b]={}),d=c.substring(c.indexOf("[")+1,c.indexOf("]")),f[b][d]=e);return f},mat4ToCSS:function(a){return"matrix3d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},mat2dToCSS:function(a){return"matrix("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},camelize:function(a){var b;return b=a.replace(/[-_\s]+(.)?/g,function(a,b){return b?b.toUpperCase():""})}},c.exports=g}),require.register("gss/lib/EventTrigger.js",function(a,b,c){var d;d=function(){function a(){this._listenersByType={}}return a.prototype._getListeners=function(a){var b;return this._listenersByType[a]?b=this._listenersByType[a]:(b=[],this._listenersByType[a]=b),b},a.prototype.on=function(a,b){var c;return c=this._getListeners(a),-1===c.indexOf(b)&&c.push(b),this},a.prototype.once=function(a,b){var c,d;return d=null,c=this,d=function(e){return b.call(c,e),c.off(a,d)},this.on(a,d),this},a.prototype.off=function(a,b){var c,d;return d=this._getListeners(a),c=d.indexOf(b),-1!==c&&d.splice(c,1),this},a.prototype.offAll=function(a){var b,c,d,e;if("string"==typeof a)a&&(this._listenersByType[a]=[]);else if("function"==typeof a){e=this._listenersByType;for(d in e)c=e[d],b=c.indexOf(a),-1!==b&&c.splice(b,1)}else this._listenersByType={};return this},a.prototype.trigger=function(a,b){var c,d,e,f;for(f=this._getListeners(a),d=0,e=f.length;e>d;d++)c=f[d],c.call(this,b);return this},a}(),d.make=function(a){var b,c,e;null==a&&(a={}),d.prototype.constructor.call(a),e=d.prototype;for(b in e)c=e[b],"constructor"===b?c.call(a):a[b]=c;return a},c.exports=d}),require.register("gss/lib/dom/Query.js",function(a,b,c){var d,e,f,g=[].slice,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=function(a,b){var c,d,e,f,g,h,i,j;for(c=[],f=[],g=0,i=b.length;i>g;g++)d=b[g],-1===a.indexOf(d)&&c.push(d);for(h=0,j=a.length;j>h;h++)e=a[h],-1===b.indexOf(e)&&f.push(e);return{adds:c,removes:f}},d=function(){return GSS.deblog.apply(GSS,["Query"].concat(g.call(arguments)))},e=function(a){function b(a){null==a&&(a={}),b.__super__.constructor.apply(this,arguments),this.selector=a.selector||function(){throw new Error("GssQuery must have a selector")}(),this.createNodeList=a.createNodeList||function(){throw new Error("GssQuery must implement createNodeList()")}(),this.isMulti=a.isMulti||!1,this.isLive=a.isLive||!1,this.ids=a.ids||[],this.lastAddedIds=[],this.lastRemovedIds=[],d("constructor() @",this)}return i(b,a),b.prototype.isQuery=!0,b.prototype._updated_once=!1,b.prototype.changedLastUpdate=!1,b.prototype.update=function(){var a,b,c,e,g,h,i,j,k,l;if(d("update() @",this),this.is_destroyed)throw new Error("Can't update destroyed query: "+selector);for(this.changedLastUpdate=!1,this.isLive&&this._updated_once||(this.nodeList=this.createNodeList(),this._updated_once=!0),g=this.ids,e=[],k=this.nodeList,i=0,j=k.length;j>i;i++)b=k[i],c=GSS.setupId(b),c&&e.push(c);return l=f(g,e),a=l.adds,h=l.removes,a.length>0&&(this.changedLastUpdate=!0),this.lastAddedIds=a,h.length>0&&(this.changedLastUpdate=!0),this.lastRemovedIds=h,this.ids=e,this.changedLastUpdate&&this.trigger("afterChange"),this},b.prototype.forEach=function(a){var b,c,d,e,f;for(e=this.nodeList,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(a.call(this,b));return f},b.prototype.first=function(){return this.nodeList[0]},b.prototype.last=function(){return this.nodeList[this.nodeList.length-1]},b.prototype.next=function(a){return this.nodeList[this.indexOf(a)+1]},b.prototype.prev=function(a){return this.nodeList[this.indexOf(a)-1]},b.prototype.indexOf=function(a){return Array.prototype.indexOf.call(this.nodeList,a)},b.prototype.is_destroyed=!1,b.prototype.destroy=function(){return this.offAll(),this.is_destroyed=!0,this.ids=null,this.lastAddedIds=null,this.lastRemovedIds=null,this.createNodeList=null,this.nodeList=null,this.changedLastUpdate=null},b}(GSS.EventTrigger),c.exports=e}),require.register("gss/lib/dom/View.js",function(a,b,c){var d,e,f=function(a,b){return function(){return a.apply(b,arguments)}};e=GSS._.transformPrefix,d=function(){function a(){this.recycle=f(this.recycle,this),this.attach=f(this.attach,this),this.values={},this.is_positioned=!1,this.el=null,this.id=null,this.parentOffsets=null,this.style=null,this.Matrix=null,this.matrixType=null,this.virtuals=null}return a.prototype.attach=function(b,c){if(this.el=b,this.id=c,!this.el)throw new Error("View needs el");if(!this.id)throw new Error("View needs id");return a.byId[this.id]=this,this.is_positioned=!1,GSS.trigger("view:attach",this),this.matrixType||(this.matrixType=GSS.config.defaultMatrixType),this.Matrix=GSS.glMatrix[this.matrixType]||function(){throw new Error("View matrixType not found: "+this.matrixType)}.call(this),this.matrix||(this.matrix=this.Matrix.create()),this},a.prototype.recycle=function(){return GSS.trigger("view:detach",this),this.is_positioned=!1,this.el=null,delete a.byId[this.id],this.id=null,this.parentOffsets=null,this.style=null,this.Matrix.identity(this.matrix),this.matrixType=null,this.virtuals=null,this.values={},a.recycled.push(this)},a.prototype.positionIfNeeded=function(){return this.is_positioned||(this.style.position="absolute",this.style.margin="0px",this.style.top="0px",this.style.left="0px"),this.is_positioned=!0},a.prototype.updateParentOffsets=function(){return this.parentOffsets=this.getParentOffsets()},a.prototype.getParentOffsets=function(){var a;return a=this.el.getBoundingClientRect(),{y:a.top+(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),x:a.left+(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0)}},a.prototype.getParentOffsets__=function(){var a,b;if(a=this.el,b={x:0,y:0},!a.offsetParent)return b;for(a=a.offsetParent;;){if(b.x+=a.offsetLeft,b.y+=a.offsetTop,!a.offsetParent)break;a=a.offsetParent}return b},a.prototype.needsDisplay=!1,a.prototype.display=function(a){var b,c,d,e,f,g,h;if(this.values){c={},g=this.values;for(b in g)d=g[b],c[b]=d;(null!=c.x||null!=c.y)&&(this.parentOffsets&&(a.x+=this.parentOffsets.x,a.y+=this.parentOffsets.y),null!=c.x?(e=c.x-a.x,delete c.x):e=0,null!=c.y?(f=c.y-a.y,delete c.y):f=0,GSS.config.fractionalPixels||(e=Math.round(e),f=Math.round(f)),this.values.xLocal=e,this.values.yLocal=f,this._positionMatrix(e,f)),null!=c["z-index"]&&(this.style.zIndex=c["z-index"],delete c["z-index"]),GSS.config.fractionalPixels||(null!=c.width&&(c.width=Math.round(c.width)),null!=c.height&&(c.height=Math.round(c.height)));for(b in c)d=c[b],b=GSS._.camelize(b),this.style[b]=d+"px";h=this.style;for(b in h)d=h[b],this.el.style[b]=d;return this}},a.prototype._positionMatrix=function(a,b){return this.Matrix.translate(this.matrix,this.matrix,[a,b,0]),this.style[e]=GSS._[this.matrixType+"ToCSS"](this.matrix)},a.prototype.displayIfNeeded=function(a,b){return null==a&&(a={x:0,y:0}),null==b&&(b=!0),this.needsDisplay&&(this.display(a),this.setNeedsDisplay(!1)),a={x:0,y:0},this.values.x&&(a.x+=this.values.x),this.values.y&&(a.y+=this.values.y),b?this.displayChildrenIfNeeded(a):void 0},a.prototype.setNeedsDisplay=function(a){return this.needsDisplay=a?!0:!1},a.prototype.displayChildrenIfNeeded=function(a){return this._displayChildrenIfNeeded(this.el,a,0)},a.prototype._displayChildrenIfNeeded=function(a,b,c){var d,e,f,g,h,i;if(c<=GSS.config.maxDisplayRecursionDepth){if(e=a.children,!e)return null;for(i=[],g=0,h=e.length;h>g;g++)d=e[g],f=GSS.get.view(d),f?i.push(f.displayIfNeeded(b)):i.push(this._displayChildrenIfNeeded(d,b,c+1));return i}},a.prototype.updateValues=function(a){return this.values=a,this.style={},this.Matrix.identity(this.matrix),null!=this.el.getAttribute("gss-parent-offsets")&&this.updateParentOffsets(),(null!=a.x||null!=a.y)&&this.positionIfNeeded(),this.setNeedsDisplay(!0),this},a.prototype.getParentView=function(){var b,c;for(b=this.el.parentElement;;){if(c=b._gss_id)return a.byId[c];if(!b.parentElement)break;b=b.parentElement}},a.prototype.addVirtuals=function(a){var b,c,d;if(!this.virtuals)return this.virtuals=[].concat(a);for(c=0,d=a.length;d>c;c++)b=a[c],this.addVirtual(b);return null},a.prototype.addVirtual=function(a){return this.virtuals?(-1===this.virtuals.indexOf(a)&&this.virtuals.push(a),null):this.virtuals=[a]},a.prototype.hasVirtual=function(a){return this.virtuals?-1===this.virtuals.indexOf(a)?!1:!0:!1},a.prototype.nearestViewWithVirtual=function(a){var b;for(b=this;b;){if(b.hasVirtual(a))return b;b=b.parentElement}return null},a}(),d.byId={},d.recycled=[],d.count=0,d["new"]=function(a){var b,c,e;return b=a.el,c=a.id,d.count++,e=d.recycled.length>0?d.recycled.pop():new d,e.attach(b,c)},c.exports=d}),require.register("gss/lib/dom/Observer.js",function(a,b,c){var d,e,f,g,h=[].slice;d=function(){return GSS.deblog.apply(GSS,["Observer"].concat(h.call(arguments)))},e=null,GSS.is_observing=!1,GSS.observe=function(){return!GSS.is_observing&&GSS.config.observe?(e.observe(document.body,GSS.config.observerOptions),GSS.is_observing=!0):void 0},GSS.unobserve=function(){return e.disconnect(),GSS.is_observing=!1},GSS._unobservedElements=g=[],GSS.observeElement=function(a){return-1===g.indexOf(a)?g.push(a):void 0},GSS.unobserveElement=function(a){var b;return b=g.indexOf(a),b>-1?g.splice(b,1):void 0},f=function(){return window.MutationObserver||(window.MutationObserver=window.WebKitMutationObserver?window.WebKitMutationObserver:window.JsMutationObserver),e=new MutationObserver(function(a){var b,c,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(d("MutationObserver",a),e=[],l=[],k=[],i=[],m=!1,r=0,v=a.length;v>r;r++)if(j=a[r],-1===g.indexOf(j.target)){if(m=!0,"characterData"===j.type){if(!j.target.parentElement)continue;p=j.target.parentElement.gssStyleSheet,p&&(p.reinstall(),b=p.engine,-1===e.indexOf(b)&&e.push(b))}("attributes"===j.type||"childList"===j.type)&&("attributes"===j.type&&"data-gss-id"===j.attributename?l.push(j.target):-1===l.indexOf(j.target)&&(o=GSS.get.nearestScope(j.target),o&&-1===k.indexOf(o)&&k.push(o))),f=null,("characterData"===j.type||"attributes"===j.type||"childList"===j.type)&&("characterData"===j.type?(q=j.target.parentElement,f="$"+GSS.getId(j.target.parentElement)):-1===l.indexOf(j.target)&&(f="$"+GSS.getId(j.target)),null!=f&&-1===i.indexOf(f)&&i.push(f))}if(!m)return null;for(n=GSS.styleSheets.findAllRemoved(),s=0,w=n.length;w>s;s++)p=n[s],p.destroy(),b=p.engine,-1===e.indexOf(b)&&e.push(b);for(h=0,c=GSS.engines[h];c;)h>0&&c.scope&&(document.documentElement.contains(c.scope)||(c.destroyChildren(),c.destroy())),h++,c=GSS.engines[h];for(t=0,x=e.length;x>t;t++)b=e[t],b.is_destroyed||b.reset();for(u=0,y=k.length;y>u;u++)o=k[u],b=GSS.get.engine(o),b&&(b.is_destroyed||-1===e.indexOf(b)&&b.updateQueries());if(i.length>0)for(B=GSS.engines,A=0,z=B.length;z>A;A++)b=B[A],b.is_destroyed||b.commander.handleInvalidMeasures(i);return e=null,l=null,k=null,i=null,GSS.load()})},GSS.isDisplayed=!1,GSS.onDisplay=function(){return GSS.trigger("display"),GSS.isDisplayed?void 0:(GSS.isDisplayed=!0,GSS.config.readyClass?(GSS.html.classList.add("gss-ready"),GSS.html.classList.remove("gss-not-ready")):void 0)},document.addEventListener("DOMContentLoaded",function(){var a;return GSS.body=document.body||GSS.getElementsByTagName("body")[0],GSS.html=a=GSS.body.parentNode,document.dispatchEvent(new CustomEvent("GSS",{detail:GSS,bubbles:!1,cancelable:!1})),f(),GSS.boot(),d("DOMContentLoaded"),GSS.load(),GSS.observe(),GSS.trigger("afterLoaded")}),c.exports=e}),require.register("gss/lib/gssom/Node.js",function(){}),require.register("gss/lib/gssom/StyleSheet.js",function(a,b,c){var d,e;d=GSS.Rule,e=function(){function a(a){var b,c,d;null==a&&(a={});for(b in a)d=a[b],this[b]=d;if(!this.engine)throw new Error("StyleSheet needs engine");return this.engine.styleSheets.push(this),GSS.styleSheets.push(this),this.isRemote=!1,this.remoteSourceText=null,this.el&&(c=this.el.tagName,"LINK"===c&&(this.isRemote=!0)),this.rules=[],a.rules&&this.addRules(a.rules),this}return a.prototype.isScoped=!1,a.prototype.addRules=function(a){var b,c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],b.parent=this,b.styleSheet=this,b.engine=this.engine,c=new GSS.Rule(b),f.push(this.rules.push(c));return f},a.prototype.needsInstall=!0,a.prototype.install=function(){return this.needsInstall&&(this.needsInstall=!1,this._install()),this},a.prototype.reinstall=function(){return this._install()},a.prototype.installNewRules=function(a){var b,c,d,e,f;for(this.rules=[],this.addRules(a),e=this.rules,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b.install());return f},a.prototype._install=function(){var a,b,c,d,e;if(this.isRemote)return this._installRemote();if(this.el)return this._installInline();for(d=this.rules,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.install());return e},a.prototype._installInline=function(){return this.installNewRules(GSS.get.readAST(this.el))},a.prototype._installRemote=function(){var a,b,c=this;return this.remoteSourceText?this.installNewRules(GSS.compile(this.remoteSourceText)):(b=this.el.getAttribute("href"))?(a=new XMLHttpRequest,a.onreadystatechange=function(){return 4===a.readyState&&200===a.status?(c.remoteSourceText=a.responseText.trim(),c.installNewRules(GSS.compile(c.remoteSourceText))):void 0},a.open("GET",b,!0),a.send(null)):null},a.prototype.reset=function(){var a,b,c,d,e;for(this.needsInstall=!0,d=this.rules,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.reset());return e},a.prototype.destroyRules=function(){var a,b,c,d;for(d=this.rules,b=0,c=d.length;c>b;b++)a=d[b],a.destroy();return this.rules=[]},a.prototype.destroy=function(){var a;return a=this.engine.styleSheets.indexOf(this),this.engine.styleSheets.splice(a,1),a=GSS.styleSheets.indexOf(this),GSS.styleSheets.splice(a,1)},a.prototype.isRemoved=function(){return this.el&&!document.contains(this.el)?!0:!1},a.prototype.needsDumpCSS=!1,a.prototype.setNeedsDumpCSS=function(a){return a?(this.engine.setNeedsDumpCSS(!0),this.needsDumpCSS=!0):this.needsDumpCSS=!1},a.prototype.dumpCSSIfNeeded=function(){return this.needsDumpCSS?this.dumpCSS():void 0},a.prototype.dumpCSS=function(){var a,b,c,d,e,f;for(a="",f=this.rules,d=0,e=f.length;e>d;d++)b=f[d],c=b.dumpCSS(),c&&(a+=c);return a},a}(),e.fromNode=function(a){var b,c;return a.gssStyleSheet?a.gssStyleSheet:(b=GSS({scope:GSS.get.scopeForStyleNode(a)}),c=new GSS.StyleSheet({el:a,engine:b,engineId:b.id}),a.gssStyleSheet=c,c)},e.Collection=function(){function a(){var a,b,c;a=[];for(b in this)c=this[b],a[b]=c;return a}return a.prototype.install=function(){var a,b,c;for(b=0,c=this.length;c>b;b++)a=this[b],a.install();return this},a.prototype.findAndInstall=function(){var a,b,c,d,e;for(b=document.querySelectorAll('[type="text/gss"], [type="text/gss-ast"]'),d=0,e=b.length;e>d;d++)a=b[d],c=GSS.StyleSheet.fromNode(a),null!=c&&c.install();return this},a.prototype.findAllRemoved=function(){var a,b,c,d;for(a=[],c=0,d=this.length;d>c;c++)b=this[c],b.isRemoved()&&a.push(b);return a},a}(),GSS.StyleSheet=e,GSS.styleSheets=new GSS.StyleSheet.Collection,c.exports=e}),require.register("gss/lib/gssom/Rule.js",function(a,b,c){var d,e;e=0,d=function(){function a(b){var c,d;e++,this.cid=e;for(c in b)d=b[c],this[c]=d;this.boundConditionals=[],("else"===this.name||"elseif"===this.name||"if"===this.name)&&(this.isConditional=!0),this.rules=[],b.rules&&this.addRules(b.rules),this.Type=a.types[this.type]||function(){throw new Error("Rule type, "+type+", not found")}()}return a.prototype.isRule=!0,a.prototype.addRules=function(a){var b,c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],b.parent=this,b.styleSheet=this.styleSheet,b.engine=this.engine,c=new GSS.Rule(b),f.push(this.rules.push(c));return f},a.prototype._selectorContext=null,a.prototype.needsInstall=!0,a.prototype.install=function(){var a,b,c,d;for(this.needsInstall&&(this.needsInstall=!1,this.Type.install.call(this)),d=this.rules,b=0,c=d.length;c>b;b++)a=d[b],a.install();return this},a.prototype.uninstall=function(){},a.prototype.reset=function(){var a,b,c,d,e;for(this.needsInstall=!0,this.boundConditionals=[],d=this.rules,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.reset());return e},a.prototype.executeCommands=function(){return this.commands?this.engine.run(this):void 0},a.prototype.nextSibling=function(){var a;return a=this.parent.rules.indexOf(this),this.parent.rules[a+1]},a.prototype.prevSibling=function(){var a;return a=this.parent.rules.indexOf(this),this.parent.rules[a-1]},a.prototype.getSelectorContext=function(){return this._selectorContext||(this._selectorContext=this._computeSelectorContext()),this._selectorContext},a.prototype._computeSelectorContext=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(e=[],d=this;d.parent;){if(c=d.parent,!c.isConditional&&(null!=c?null!=(m=c.selectors)?m.length:void 0:void 0)>0)if(0===e.length)for(n=c.selectors,g=0,j=n.length;j>g;g++)a=n[g],e.push(a);else{for(f=[],o=c.selectors,h=0,k=o.length;k>h;h++)for(a=o[h],i=0,l=e.length;l>i;i++)b=e[i],f.push(a+" "+b);e=f}d=c}return this.selectorContext=e,e},a.prototype.getContextQuery=function(){return this.query?this.query:this.setupContextQuery()},a.prototype.setupContextQuery=function(){var a,b;return a=this.getSelectorContext().join(", "),b=this.engine,this.query=b.registerDomQuery({selector:a,isMulti:!0,isLive:!1,createNodeList:function(){return b.queryScope.querySelectorAll(a)}})},a.prototype.gatherCondCommand=function(){var a,b,c;for(a=["cond"],b=this,c=!0;c;)a.push(b.getClauseCommand()),b=b.nextSibling(),c=null!=b?b.isConditional:void 0;return a},a.prototype.getClauseCommand=function(){return["clause",this.clause,this.getClauseTracker()]},a.prototype.getClauseTracker=function(){return"gss-cond-"+this.cid},a.prototype.injectChildrenCondtionals=function(a){var b,c,d,e,f,g,h,i,j;for(h=this.rules,j=[],d=0,f=h.length;f>d;d++){if(c=h[d],c.boundConditionals.push(a),c.commands)for(i=c.commands,e=0,g=i.length;g>e;e++)b=i[e],b.push(["where",a.getClauseTracker()]);c.isCondtionalBound=!0,j.push(c.injectChildrenCondtionals(a))}return j},a.prototype.setNeedsDumpCSS=function(a){return a?this.styleSheet.setNeedsDumpCSS(!0):void 0},a.prototype.dumpCSS=function(){var a,b,c,d,e,f,g;for(a=null!=(f=this.Type.dumpCSS)?f.call(this):void 0,g=this.rules,d=0,e=g.length;e>d;d++)b=g[d],c=b.dumpCSS(),c&&(a+=c);return a},a}(),d.types={directive:{install:function(){return"else"===this.name||"elseif"===this.name?(this.injectChildrenCondtionals(this),this):"if"===this.name?(this.commands=[this.gatherCondCommand()],this.injectChildrenCondtionals(this),this.executeCommands()):this.executeCommands()}},constraint:{install:function(){return this.executeCommands()}},style:{install:function(){return this.setNeedsDumpCSS(!0)},dumpCSS:function(){}},ruleset:{install:function(){},dumpCSS:function(){var a,b,c,d,e,f,g;for(c=!1,a="",b=null,g=this.rules,e=0,f=g.length;f>e;e++)d=g[e],"style"===d.type&&(c||(b=d.getSelectorContext().join(", "),c=!0),a=a+d.key+":"+d.val+";");return c&&(a=b+"{"+a+"}"),a}}},c.exports=d}),require.register("gss/lib/Engine.js",function(a,b,c){var d,e,f,g,h,i,j=[].slice,k=function(a,b){return function(){return a.apply(b,arguments)}},l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};if("undefined"==typeof GSS||null===GSS)throw new Error("GSS object needed for Engine");i=GSS._,f=function(){return GSS.config.perf?console.time.apply(console,arguments):void 0},g=function(){return GSS.config.perf?console.timeEnd.apply(console,arguments):void 0},e=function(){return GSS.deblog.apply(GSS,["Engine"].concat(j.call(arguments)))},GSS.engines=h=[],h.byId={},h.root=null,d=function(a){function b(a){null==a&&(a={}),this.dispatch=k(this.dispatch,this),this.updateQueries=k(this.updateQueries,this),this.handleWorkerMessage=k(this.handleWorkerMessage,this),this.reset=k(this.reset,this),b.__super__.constructor.apply(this,arguments),this.scope=a.scope,this.workerURL=a.workerURL,this.vars=a.vars,this.getter=a.getter,this.is_root=a.is_root,this.useWorker=a.useWorker,this.vars||(this.vars={}),this.clauses=null,GSS.config.useWorker?null==this.useWorker&&(this.useWorker=!0):this.useWorker=!1,this.worker=null,this.workerCommands=[],this.workerMessageHistory=[],this.workerURL||(this.workerURL=GSS.config.worker),this.scope?("HEAD"===this.scope.tagName&&(this.scope=document),this.id=GSS.setupScopeId(this.scope),this.queryScope=this.scope===GSS.Getter.getRootScope()?document:this.scope):(this.id=GSS.uid(),this.queryScope=document),this.getter||(this.getter=new GSS.Getter(this.scope)),this.commander=new GSS.Commander(this),this.lastWorkerCommands=null,this.queryCache={},this.cssDump=null,GSS.engines.push(this),h.byId[this.id]=this,this._Hierarchy_setup(),this._StyleSheets_setup(),e("constructor() @",this)}return m(b,a),b.prototype.getVarsById=function(a){var b;return GSS.config.processBeforeSet&&(a=GSS.config.processBeforeSet(a)),b=i.varsByViewId(i.filterVarsForDisplay(a))},b.prototype.isDescendantOf=function(a){var b;for(b=this.parentEngine;b;){if(b===a)return!0;b=b.parentEngine}return!1},b.prototype._Hierarchy_setup=function(){var a;if(this.childEngines=[],this.parentEngine=null,this.is_root?h.root=this:this.parentEngine=this.scope?GSS.get.nearestEngine(this.scope,!0):h.root,!this.parentEngine&&!this.is_root)throw new Error("ParentEngine missing, WTF");return null!=(a=this.parentEngine)?a.childEngines.push(this):void 0},b.prototype._Hierarchy_destroy=function(){return this.parentEngine.childEngines.splice(this.parentEngine.childEngines.indexOf(this),1),this.parentEngine=null},b.prototype.is_running=!1,b.prototype.run=function(a){var b,c,d,f;if(e(this.id,".run(asts)",a),a instanceof Array){for(f=[],c=0,d=a.length;d>c;c++)b=a[c],f.push(this._run(b));return f}return this._run(a)},b.prototype._run=function(a){return this.commander.execute(a)},b.prototype._StyleSheets_setup=function(){return this.styleSheets=[]},b.prototype.load=function(){var a,b,c,d,e;if(!this.scope)throw new Error("can't load scopeless engine");for(this.is_running&&this.clean(),d=this.styleSheets,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.execute());return e},b.prototype.reset=function(){var a,b,c,d;if(e(this.id,".reset()"),!this.scope)throw new Error("can't reset scopeless engine");for(b=this.styleSheets,this.is_running&&this.clean(),this.styleSheets=b,c=0,d=b.length;d>c;c++)a=b[c],a.reset();return this.setNeedsUpdate(!0),this},b.prototype.registerCommands=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.registerCommand(b));return e},b.prototype.registerCommand=function(a){return this.workerCommands.push(a),this.setNeedsLayout(!0),this},b.prototype.cssToDump=null,b.prototype.cssDump=null,b.prototype.setupCSSDumpIfNeeded=function(){var a;return a=this.scope||document.body,this.cssDump?void 0:(this.cssDump=document.createElement("style"),this.cssDump.id="gss-css-dump-"+this.id,a.appendChild(this.cssDump))},b.prototype.needsDumpCSS=!1,b.prototype.setNeedsDumpCSS=function(a){return a?(this.setNeedsLayout(!0),this.needsDumpCSS=!0):this.needsDumpCSS=!1},b.prototype.dumpCSSIfNeeded=function(){var a,b,c,d,e,f;if(this.needsDumpCSS){for(this.needsDumpCSS=!1,this.setupCSSDumpIfNeeded(),a="",f=this.styleSheets,d=0,e=f.length;e>d;d++)b=f[d],c=b.dumpCSSIfNeeded(),c&&(a+=c);if(a.length>0)return this.cssDump.innerHTML=a}},b.prototype._CSSDumper_clean=function(){var a;return null!=(a=this.cssDump)?a.innerHTML="":void 0},b.prototype._CSSDumper_destroy=function(){return this.needsDumpCSS=!1,this.cssDump=null},b.prototype.needsUpdate=!1,b.prototype.setNeedsUpdate=function(a){return a?(GSS.setNeedsUpdate(!0),this.needsUpdate=!0):this.needsUpdate=!1},b.prototype.updateIfNeeded=function(){var a,b,c,d,e;for(this.needsUpdate&&(this.ASTs&&(this.run(this.ASTs),this.ASTs=null),this.setNeedsUpdate(!1)),d=this.childEngines,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.updateIfNeeded());return e},b.prototype.needsLayout=!1,b.prototype.setNeedsLayout=function(a){return a?this.needsLayout?void 0:(GSS.setNeedsLayout(!0),this.needsLayout=!0):this.needsLayout=!1},b.prototype._beforeLayoutCalls=null,b.prototype.layout=function(){return this.hoistedTrigger("beforeLayout",this),this.is_running=!0,f(""+this.id+" LAYOUT & DISPLAY"),this.solve(),this.setNeedsLayout(!1)},b.prototype.layoutIfNeeded=function(){return this.needsLayout&&this.layout(),this.layoutSubTreeIfNeeded()},b.prototype.waitingToLayoutSubtree=!1,b.prototype.layoutSubTreeIfNeeded=function(){var a,b,c,d,e;for(this.waitingToLayoutSubtree=!1,d=this.childEngines,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.layoutIfNeeded());return e},b.prototype.needsDisplay=!1,b.prototype.setNeedsDisplay=function(a){return a?(GSS.setNeedsDisplay(!0),this.needsDisplay=!0):this.needsDisplay=!1},b.prototype.display=function(a,b){var c,d,f,h,i,j,k;null==b&&(b=!1),i=a.values,e(this.id,".display()"),this.hoistedTrigger("beforeDisplay",this),GSS.unobserve(),j=this.getVarsById(i),f=!1;for(d in j)h=j[d],f=!0,b&&(c=document.getElementById(d),c&&GSS.setupId(c)),null!=(k=GSS.View.byId[d])&&"function"==typeof k.updateValues&&k.updateValues(h);return this.dumpCSSIfNeeded(),f&&this.scope&&GSS.get.view(this.scope).displayIfNeeded(),!this.isMeasuring&&this.needsMeasure?(this.measureIfNeeded(),this.needsLayout||this._didDisplay()):this._didDisplay(),GSS.observe(),this.dispatchedTrigger("solved",{values:i}),g(""+this.id+" LAYOUT & DISPLAY"),this},b.prototype._didDisplay=function(){return this.trigger("display"),GSS.onDisplay(),this.isMeasuring=!1},b.prototype.forceDisplay=function(){},b.prototype.updateClauses=function(a){var b,c,d,e,f,g,h,i,j,k;if(c=GSS.html,e=this.clauses,d=a,e){for(f=0,i=e.length;i>f;f++)b=e[f],-1===d.indexOf(b)&&c.classList.remove(b);for(g=0,j=d.length;j>g;g++)b=d[g],-1===e.indexOf(b)&&c.classList.add(b)}else for(h=0,k=d.length;k>h;h++)b=d[h],c.classList.add(b);return this.clauses=d},b.prototype.isMeasuring=!1,b.prototype.needsMeasure=!1,b.prototype.setNeedsMeasure=function(a){return this.needsMeasure=a?!0:!1},b.prototype.measureIfNeeded=function(){return this.needsMeasure?(this.isMeasuring=!0,this.needsMeasure=!1,this.measure()):void 0},b.prototype.measure=function(){return this.commander.validateMeasures()},b.prototype.measureByGssId=function(a,b){var c,d;return c=GSS.getById(a),d=this.getter.measure(c,b),e(this.id,".measureByGssId()",a,b,d),d},b.prototype.solve=function(){return this.useWorker?this.solveWithWorker():this.solveWithoutWorker()},b.prototype.solveWithWorker=function(){var a;return e(this.id,".solveWithWorker()",this.workerCommands),a={commands:this.workerCommands},this.workerMessageHistory.push(a),this.worker||(this.worker=new Worker(this.workerURL),this.worker.addEventListener("message",this.handleWorkerMessage,!1),this.worker.addEventListener("error",this.handleError,!1),a.config={defaultStrength:GSS.config.defaultStrength,defaultWeight:GSS.config.defaultWeight}),this.worker.postMessage(a),this.lastWorkerCommands=this.workerCommands,this.workerCommands=[]},b.prototype.solveWithoutWorker=function(){var a,b=this;return e(this.id,".solveWithoutWorker()",this.workerCommands),a={commands:this.workerCommands},this.workerMessageHistory.push(a),this.worker||(this.worker=new GSS.Thread({defaultStrength:GSS.config.defaultStrength,defaultWeight:GSS.config.defaultWeight})),this.worker.postMessage(i.cloneDeep(a)),i.defer(function(){return b.worker?b.handleWorkerMessage({data:b.worker.output()}):void 0}),this.lastWorkerCommands=this.workerCommands,this.workerCommands=[]},b.prototype.handleWorkerMessage=function(a){return e(this.id,".handleWorkerMessage()",this.workerCommands),this.vars=a.data.values,this.display(a.data)},b.prototype.handleError=function(a){if(this.onError)return this.onError(a);throw new Error(""+a.message+" ("+a.filename+":"+a.lineno+")")},b.prototype._Worker_destroy=function(){return this.worker&&(this.worker.terminate(),this.worker=null),this.workerCommands=null,this.workerMessageHistory=null,this.lastWorkerCommands=null},b.prototype._Worker_clean=function(){return this.workerCommands=[],this.lastWorkerCommands=null,this.worker?(this.worker.terminate(),this.worker=null):void 0},b.prototype.getDomQuery=function(a){return this.queryCache[a]},b.prototype.registerDomQuery=function(a){var b,c;return c=a.selector,b=this.getDomQuery(c),b||(b=new GSS.Query(a),b.update(),this.queryCache[c]=b),b},b.prototype.updateQueries=function(){var a,b,c,d,e,f,g,h,i,j,k,l;h=[],e=[],b=[],i=!1,l=this.queryCache;for(g in l)if(c=l[g],c.update(),c.changedLastUpdate&&(c.lastAddedIds.length>0&&(h.push(g),i=!0),c.lastRemovedIds.length>0))for(i=!0,d=c.lastRemovedIds,j=0,k=d.length;k>j;j++)f=d[j],-1===b.indexOf(f)&&(a=GSS.getById(f),document.documentElement.contains(a)?(b.push(f),e.push(g+"$"+f)):e.push("$"+f));
return GSS._ids_killed(b),i&&(this.commander.handleRemoves(e),this.commander.handleSelectorsWithAdds(h)),i},b.prototype._Queries_destroy=function(){var a,b,c;c=this.queryCache;for(b in c)a=c[b],a.destroy(),this.queryCache[b]=null;return this.queryCache=null},b.prototype._Queries_clean=function(){var a,b,c;c=this.queryCache;for(b in c)a=c[b],a.destroy(),this.queryCache[b]=null;return this.queryCache={}},b.prototype.hoistedTrigger=function(a,b){return this.trigger(a,b),GSS.trigger("engine:"+a,b)},b.prototype.dispatchedTrigger=function(a,b,c,d){return this.trigger(a,b),this.dispatch(a,b,c,d)},b.prototype.dispatch=function(a,b,c,d){var e,f;return null==b&&(b={}),null==c&&(c=!0),null==d&&(d=!0),this.scope?(b.engine=this,f={detail:b,bubbles:c,cancelable:d},e=new CustomEvent(a,f),this.scope.dispatchEvent(e)):void 0},b.prototype.clean=function(){var a,b,c,d;e(this.id,".clean()"),d=this.vars;for(a in d)b=d[a],delete this.vars[a];return this.setNeedsLayout(!1),this.setNeedsDisplay(!1),this.setNeedsLayout(!1),this.setNeedsMeasure(!1),this.isMeasuring=!1,this.waitingToLayoutSubtree=!1,this.commander.clean(),"function"==typeof(c=this.getter).clean&&c.clean(),this._CSSDumper_clean(),this._Worker_clean(),this._Queries_clean(),this},b.prototype.is_destroyed=!1,b.prototype.destroyChildren=function(){var a,b,c,d,e;for(d=this.childEngines,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.is_destroyed?e.push(void 0):e.push(a.destroy());return e},b.prototype.destroy=function(){var a,b,c,d,f,g,i;if(e(this.id,".destroy()"),this.hoistedTrigger("beforeDestroy",this),GSS._ids_killed([this.id]),this.scope)for(b=GSS.get.descdendantNodes(this.scope),g=0,i=b.length;i>g;g++)a=b[g],d=a._gss_id,d&&GSS._id_killed(d);return c=h.indexOf(this),c>-1&&h.splice(c,1),delete h.byId[this.id],this.offAll(),this.setNeedsLayout(!1),this.setNeedsDisplay(!1),this.setNeedsLayout(!1),this.waitingToLayoutSubtree=!1,this.commander.destroy(),"function"==typeof(f=this.getter).destroy&&f.destroy(),this.vars=null,this.clauses=null,this.ast=null,this.getter=null,this.scope=null,this.commander=null,this._Hierarchy_destroy(),this._CSSDumper_destroy(),this._Worker_destroy(),this._Queries_destroy(),this.is_running=null,this.is_destroyed=!0,this},b.prototype.elVar=function(a,b,c,d){var e,f,g;return f="$"+GSS.getId(a),"left"===b?b="x":"top"===b&&(b="y"),g=f+("["+b+"]"),e=["get$",b,f,c],d&&e.push(d),e},b.prototype["var"]=function(a){return["get",a]},b.prototype.varexp=function(a){return["get",a]},b.prototype.__e=function(a){return a instanceof Array?a:Number(a)||0===Number(a)?["number",a]:this["var"](a)},b.prototype._addconstraint=function(a,b,c,d,e,f){var g,h,i,j;if(b=this.__e(b),c=this.__e(c),g=["eq",b,c],d&&g.push(d),e&&g.push(e),f)for(i=0,j=f.length;j>i;i++)h=f[i],g.push(h);return this.registerCommand(g)},b.prototype.eq=function(a,b,c,d,e){return this._addconstraint("eq",a,b,c,d,e)},b.prototype.lte=function(a,b,c,d,e){return this._addconstraint("lte",a,b,c,d,e)},b.prototype.gte=function(a,b,c,d,e){return this._addconstraint("gte",a,b,c,d,e)},b.prototype.suggest=function(a,b,c){return null==c&&(c="required"),a=this.__e(a),this.registerCommand(["suggest",a,["number",b],c])},b.prototype.stay=function(a){return a=this.__e(a),this.registerCommand(["stay",a])},b.prototype.remove=function(a){return this.registerCommand(["remove",a])},b.prototype.number=function(a){return["number",a]},b.prototype.plus=function(a,b){return a=this.__e(a),b=this.__e(b),["plus",a,b]},b.prototype.minus=function(a,b){return a=this.__e(a),b=this.__e(b),["minus",a,b]},b.prototype.multiply=function(a,b){return a=this.__e(a),b=this.__e(b),["multiply",a,b]},b.prototype.divide=function(a,b){return a=this.__e(a),b=this.__e(b),["divide",a,b]},b}(GSS.EventTrigger),c.exports=d}),require.register("gss/lib/Commander.js",function(exports,require,module){var Commander,bindRoot,bindRootAsContext,bindRootAsMulti,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__slice=[].slice;bindRoot=function(a,b){return a.isQueryBound=!0,a.queries?-1===a.queries.indexOf(b)&&a.queries.push(b):a.queries=[b],a},bindRootAsMulti=function(a,b){if(bindRoot(a,b),a.queries.multi&&a.queries.multi!==b)throw new Error("bindRoot:: only one multiquery per statement");return a.queries.multi=b},bindRootAsContext=function(a,b){return bindRoot(a,b),a.isContextBound=!0},Commander=function(){function Commander(a){this.engine=a,this.js=__bind(this.js,this),this["for-all"]=__bind(this["for-all"],this),this["for-each"]=__bind(this["for-each"],this),this._e_for_chain=__bind(this._e_for_chain,this),this._chainer_math=__bind(this._chainer_math,this),this["divide-chain"]=__bind(this["divide-chain"],this),this["multiply-chain"]=__bind(this["multiply-chain"],this),this["minus-chain"]=__bind(this["minus-chain"],this),this["plus-chain"]=__bind(this["plus-chain"],this),this._chainer=__bind(this._chainer,this),this["gt-chain"]=__bind(this["gt-chain"],this),this["lt-chain"]=__bind(this["lt-chain"],this),this["gte-chain"]=__bind(this["gte-chain"],this),this["lte-chain"]=__bind(this["lte-chain"],this),this["eq-chain"]=__bind(this["eq-chain"],this),this.chain=__bind(this.chain,this),this.$reserved=__bind(this.$reserved,this),this.$id=__bind(this.$id,this),this.$tag=__bind(this.$tag,this),this.$class=__bind(this.$class,this),this.$virtual=__bind(this.$virtual,this),this.virtual=__bind(this.virtual,this),this.stay=__bind(this.stay,this),this.gt=__bind(this.gt,this),this.lt=__bind(this.lt,this),this.gte=__bind(this.gte,this),this.lte=__bind(this.lte,this),this.eq=__bind(this.eq,this),this.suggest=__bind(this.suggest,this),this.strength=__bind(this.strength,this),this["||"]=__bind(this["||"],this),this["&&"]=__bind(this["&&"],this),this["?<"]=__bind(this["?<"],this),this["?>"]=__bind(this["?>"],this),this["?!="]=__bind(this["?!="],this),this["?=="]=__bind(this["?=="],this),this["?<="]=__bind(this["?<="],this),this["?>="]=__bind(this["?>="],this),this.clause=__bind(this.clause,this),this.where=__bind(this.where,this),this.cond=__bind(this.cond,this),this.divide=__bind(this.divide,this),this.multiply=__bind(this.multiply,this),this.minus=__bind(this.minus,this),this.plus=__bind(this.plus,this),this._get$=__bind(this._get$,this),this.get$=__bind(this.get$,this),this.get=__bind(this.get,this),this.spawnForWindowSize=__bind(this.spawnForWindowSize,this),this._execute=__bind(this._execute,this),this.lazySpawnForWindowSize=GSS._.debounce(this.spawnForWindowSize,GSS.config.resizeDebounce,!1),this.cleanVars()}return Commander.prototype.clean=function(){return this.cleanVars(),this.unlisten()},Commander.prototype.cleanVars=function(){return this.spawnableRoots=[],this.intrinsicRegistersById={},this.boundWindowProps=[],this.get$cache={},this.queryCommandCache={}},Commander.prototype.destroy=function(){return this.spawnableRoots=null,this.intrinsicRegistersById=null,this.boundWindowProps=null,this.get$cache=null,this.queryCommandCache=null,this.unlisten()},Commander.prototype.execute=function(a){var b,c,d,e,f;if(null!=a.commands){for(e=a.commands,f=[],c=0,d=e.length;d>c;c++)b=e[c],a.isRule&&(b.parentRule=a),f.push(this._execute(b,b));return f}},Commander.prototype._execute=function(a,b){var c,d,e,f,g,h,i;if(e=a,c=this[e[0]],null==c)throw new Error("Engine Commands broke, couldn't find method: "+e[0]);for(i=e.slice(1,+e.length+1||9e9),d=g=0,h=i.length;h>g;d=++g)f=i[d],f instanceof Array&&e.splice(d+1,1,this._execute(f,b));return c.call.apply(c,[this.engine,b].concat(__slice.call(e.slice(1,e.length))))},Commander.prototype.unlisten=function(){return this._bound_to_window_resize||window.removeEventListener("resize",this.lazySpawnForWindowSize,!1),this._bound_to_window_resize=!1},Commander.prototype._bound_to_window_resize=!1,Commander.prototype.spawnForWindowWidth=function(){var a;return a=window.innerWidth,GSS.config.verticalScroll&&(a-=GSS.get.scrollbarWidth()),this.engine.vars["::window[width]"]!==a?this.engine.registerCommand(["suggest",["get","::window[width]"],["number",a],"required"]):void 0},Commander.prototype.spawnForWindowHeight=function(){var a;return a=window.innerHeight,GSS.config.horizontalScroll&&(a-=GSS.get.scrollbarWidth()),this.engine.vars["::window[height]"]!==a?this.engine.registerCommand(["suggest",["get","::window[height]"],["number",a],"required"]):void 0},Commander.prototype.spawnForWindowSize=function(){return this._bound_to_window_resize?(-1!==this.boundWindowProps.indexOf("width")&&this.spawnForWindowWidth(),-1!==this.boundWindowProps.indexOf("height")&&this.spawnForWindowHeight(),this.engine.solve()):void 0},Commander.prototype.bindToWindow=function(a){if("center-x"===a)return this.bindToWindow("width"),this.engine.registerCommand(["eq",["get","::window[center-x]"],["divide",["get","::window[width]"],2],"required"]),null;if("right"===a)return this.bindToWindow("width"),this.engine.registerCommand(["eq",["get","::window[right]"],["get","::window[width]"],"required"]),null;if("center-y"===a)return this.bindToWindow("height"),this.engine.registerCommand(["eq",["get","::window[center-y]"],["divide",["get","::window[height]"],2],"required"]),null;if("bottom"===a)return this.bindToWindow("width"),this.engine.registerCommand(["eq",["get","::window[bottom]"],["get","::window[height]"],"required"]),null;if(-1===this.boundWindowProps.indexOf(a)&&this.boundWindowProps.push(a),"width"===a||"height"===a){if("width"===a?this.spawnForWindowWidth():this.spawnForWindowHeight(),!this._bound_to_window_resize)return window.addEventListener("resize",this.lazySpawnForWindowSize,!1),this._bound_to_window_resize=!0}else{if("x"===a)return this.engine.registerCommand(["eq",["get","::window[x]"],["number",0],"required"]);if("y"===a)return this.engine.registerCommand(["eq",["get","::window[y]"],["number",0],"required"])}},Commander.prototype.spawnForScope=function(a){var b,c;return b="$"+this.engine.id+("["+a+"]"),c=this.engine,GSS.on("engine:beforeDisplay",function(a){var d;return d=a.vars[b],null!=d&&c.isDescendantOf(a)?c.registerCommand(["suggest",["get",b],["number",d],"required"]):void 0})},Commander.prototype.bindToScope=function(a){return this.spawnForScope(a)},Commander.prototype.handleRemoves=function(a){var b,c,d;if(a.length<1)return this;for(this.engine.registerCommand(["remove"].concat(__slice.call(a))),c=0,d=a.length;d>c;c++)b=a[c],delete this.intrinsicRegistersById[b];return this},Commander.prototype.handleSelectorsWithAdds=function(a){var b,c,d,e,f,g,h,i;if(a.length<1)return this;for(h=this.spawnableRoots,d=0,f=h.length;f>d;d++)for(c=h[d],i=c.queries,e=0,g=i.length;g>e;e++)if(b=i[e],-1!==a.indexOf(b.selector)){this.spawn(c);break}return this},Commander.prototype.validateMeasures=function(){var a,b;b=[];for(a in this.intrinsicRegistersById)b.push(a);return this.handleInvalidMeasures(b)},Commander.prototype.handleInvalidMeasures=function(a){var b,c,d,e,f,g;if(a.length<1)return this;for(f=0,g=a.length;g>f;f++)if(b=a[f],e=this.intrinsicRegistersById[b])for(c in e)d=e[c],d.call(this);return this},Commander.prototype.registerSpawn=function(a){var b,c,d,e;if(a.isQueryBound)return this.spawnableRoots.push(a),this.spawn(a);for(b=[],d=0,e=a.length;e>d;d++)c=a[d],b.push(c);return this.engine.registerCommand(b)},Commander.prototype.spawn=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(e=a.queries,f=!0,h=0,j=e.length;j>h;h++)if(d=e[h],d.lastAddedIds.length<=0){f=!1;break}if(f){if(g=a.parentRule,a.isContextBound){for(c=g.getContextQuery(),l=c.lastAddedIds,m=[],i=0,k=l.length;k>i;i++)b=l[i],m.push(this.engine.registerCommands(this.expandSpawnable(a,!0,b)));return m}return this.engine.registerCommands(this.expandSpawnable(a,!0))}},Commander.prototype.expandSpawnable=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(i=[],e=[],f=!1,o={},l=null,n=0,g=p=0,s=a.length;s>p;g=++p)k=a[g],k&&(null!=k.spawn?(j=k.spawn(c),i.push(j),k.isPlural&&(f=!0,o[g]=j,n=j.length)):i.push(k));if(b&&d&&i.push(d),f){for(h=q=0;n>=0?n>q:q>n;h=n>=0?++q:--q){for(m=[],g=r=0,t=i.length;t>r;g=++r)k=i[g],o[g]?m.push(o[g][h]):m.push(k);e.push(m)}return e}return b?[i]:i},Commander.prototype.makeNonRootSpawnableIfNeeded=function(a){var b,c,d,e,f,g=this;for(b=!1,e=0,f=a.length;f>e;e++)d=a[e],d&&null!=d.spawn&&(c=!0,d.isPlural&&(b=!0));return c?{isPlural:b,spawn:function(b){return g.expandSpawnable(a,!1,b)}}:a},Commander.prototype.get=function(a,b,c){var d;return d=["get",b],c&&d.push(c),d},Commander.prototype.get$=function(a,b,c){var d,e;return d=c.selectorKey,d||(d=c.selector),d+=b,e=this.get$cache[d],e||(e=this._get$(a,b,c),this.get$cache[d]=e),e},Commander.prototype._get$=function(a,b,c){var d,e,f,g,h,i,j=this;return h=c.query,i=c.selector,"window"===i?(this.bindToWindow(b),["get","::window["+b+"]"]):(f=h.isMulti,e=c.isContextBound,g=c.isScopeBound,g&&this.bindToScope(b),0===b.indexOf("intrinsic-")&&h.lastAddedIds.forEach(function(a){var c,d,e,f,g;return e="$"+a,j.intrinsicRegistersById[e]||(j.intrinsicRegistersById[e]={}),j.intrinsicRegistersById[e][b]?void 0:(c=b.split("intrinsic-")[1],f=""+e+"["+b+"]",d=j.engine,g=function(){var g;return g=d.measureByGssId(a,c),d.vars[f]!==g&&d.registerCommand(["suggest",["get$",b,e,i],["number",g],"required"]),d.setNeedsMeasure(!0)},j.intrinsicRegistersById[e][b]=g,g.call(j))}),e?(d=c.idProcessor,{isQueryBound:!0,isPlural:!1,query:h,spawn:function(a){return d&&(a=d(a)),["get$",b,"$"+a,i]}}):{isQueryBound:!0,isPlural:f,query:h,spawn:function(){var a,c,d,e,g;if(!f)return a=h.lastAddedIds[h.lastAddedIds.length-1],["get$",b,"$"+a,i];for(c=[],g=h.lastAddedIds,d=0,e=g.length;e>d;d++)a=g[d],c.push(["get$",b,"$"+a,i]);return c}})},Commander.prototype.number=function(a,b){return["number",b]},Commander.prototype.plus=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["plus",b,c])},Commander.prototype.minus=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["minus",b,c])},Commander.prototype.multiply=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["multiply",b,c])},Commander.prototype.divide=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["divide",b,c])},Commander.prototype.cond=function(a){return this.registerSpawn(a)},Commander.prototype.where=function(a,b){var c;return c=a.isContextBound?["where",b,{spawn:function(a){return"-context-"+a}}]:["where",b],this.makeNonRootSpawnableIfNeeded(c)},Commander.prototype.clause=function(a,b,c){var d;return d=a.isContextBound?["clause",b,{spawn:function(a){return a?c+"-context-"+a:c}}]:["clause",b,c],this.makeNonRootSpawnableIfNeeded(d)},Commander.prototype["?>="]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["?>=",b,c])},Commander.prototype["?<="]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["?<=",b,c])},Commander.prototype["?=="]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["?==",b,c])},Commander.prototype["?!="]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["?!=",b,c])},Commander.prototype["?>"]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["?>",b,c])},Commander.prototype["?<"]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["?<",b,c])},Commander.prototype["&&"]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["&&",b,c])},Commander.prototype["||"]=function(a,b,c){return this.makeNonRootSpawnableIfNeeded(["||",b,c])},Commander.prototype.strength=function(a,b){return["strength",b]},Commander.prototype.suggest=function(){var a;return a=__slice.call(arguments),this.engine.registerCommand(["suggest"].concat(__slice.call(a.slice(1,a.length))))},Commander.prototype.eq=function(a){return this.registerSpawn(a)},Commander.prototype.lte=function(a){return this.registerSpawn(a)},Commander.prototype.gte=function(a){return this.registerSpawn(a)},Commander.prototype.lt=function(a){return this.registerSpawn(a)},Commander.prototype.gt=function(a){return this.registerSpawn(a)},Commander.prototype.stay=function(a){return this.registerSpawn(a)},Commander.prototype.virtual=function(){},Commander.prototype.$virtual=function(a,b){var c,d,e,f,g;if(d=a.parentRule,!d)throw new'Error virtual element "#{name}" requires parent rule for context';return e=d.getContextQuery(),f=e.selector,g=e.selector+(" ::virtual("+b+")"),c=this.queryCommandCache[g],c||(c={query:e,selector:f,selectorKey:g,isContextBound:!0,idProcessor:function(a){return a+'"'+b+'"'}},this.queryCommandCache[g]=c),bindRootAsContext(a,e),c},Commander.prototype.$class=function(a,b){var c,d,e,f=this;return e="."+b,c=this.queryCommandCache[e],c||(d=this.engine.registerDomQuery({selector:e,isMulti:!0,isLive:!1,createNodeList:function(){return f.engine.queryScope.getElementsByClassName(b)}}),c={query:d,selector:e},this.queryCommandCache[e]=c),bindRootAsMulti(a,c.query),c},Commander.prototype.$tag=function(a,b){var c,d,e,f=this;return e=b,c=this.queryCommandCache[e],c||(d=this.engine.registerDomQuery({selector:e,isMulti:!0,isLive:!1,createNodeList:function(){return f.engine.queryScope.getElementsByTagName(b)}}),c={query:d,selector:e},this.queryCommandCache[e]=c),bindRootAsMulti(a,c.query),c},Commander.prototype.$id=function(a,b){var c,d,e;return e="#"+b,c=this.queryCommandCache[e],c||(d=this.engine.registerDomQuery({selector:e,isMulti:!1,isLive:!1,createNodeList:function(){var a;return a=document.getElementById(b),a?[a]:[]}}),c={query:d,selector:e},this.queryCommandCache[e]=c),bindRoot(a,c.query),c},Commander.prototype.$reserved=function(a,b){var c,d,e,f,g,h;if("window"===b)return g="window",d=this.queryCommandCache[g],d||(d={selector:g,query:null},this.queryCommandCache[g]=d),d;if(c=this.engine,"::this"===b||"this"===b){if(e=a.parentRule,!e)throw new Error("::this query requires parent rule for context");return f=e.getContextQuery(),g=f.selector,h=g+"::this",d=this.queryCommandCache[h],d||(d={query:f,selector:g,selectorKey:h,isContextBound:!0},this.queryCommandCache[h]=d),bindRootAsContext(a,f),d}if("::parent"===b||"parent"===b){if(e=a.parentRule,!e)throw new Error("::this query requires parent rule for context");return f=e.getContextQuery(),g=f.selector+"::parent",d=this.queryCommandCache[g],d||(d={query:f,selector:g,isContextBound:!0,idProcessor:function(a){return GSS.setupId(GSS.getById(a).parentElement)}},this.queryCommandCache[g]=d),bindRootAsContext(a,f),d}if("scope"===b)return g="::"+b,d=this.queryCommandCache[g],d||(f=c.registerDomQuery({selector:g,isMulti:!1,isLive:!0,createNodeList:function(){return[c.scope]}}),d={query:f,selector:g,isScopeBound:!0},this.queryCommandCache[g]=d),bindRoot(a,d.query),d;throw new Error("$reserved selectors not yet handled: "+b)},Commander.prototype.chain=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(h=b.query,c=__slice.call(arguments),e=__slice.call(c.slice(2,c.length)),f=this.engine,g=null,i=0,k=e.length;k>i;i++)d=e[i],"function"!=typeof d&&(g||(g=[]),g.push(d),e.splice(e.indexOf(d),1));for(j=0,l=e.length;l>j;j++)d=e[j],d.call(f,h,f,g);return h.on("afterChange",function(){var a,b,c;for(c=[],a=0,b=e.length;b>a;a++)d=e[a],c.push(d.call(f,h,f,g));return c})},Commander.prototype["eq-chain"]=function(a,b,c,d,e){return this._chainer("eq",b,c,d,e)},Commander.prototype["lte-chain"]=function(a,b,c,d,e){return this._chainer("lte",b,c,d,e)},Commander.prototype["gte-chain"]=function(a,b,c,d,e){return this._chainer("gte",b,c,d,e)},Commander.prototype["lt-chain"]=function(a,b,c,d,e){return this._chainer("lt",b,c,d,e)},Commander.prototype["gt-chain"]=function(a,b,c,d,e){return this._chainer("gt",b,c,d,e)},Commander.prototype._chainer=function(a,b,c,d,e){var f,g,h;return g="eq-chain-"+GSS.uid(),f=this.engine,h=this._e_for_chain,function(f,i,j){return i.remove(g),f.forEach(function(k){var l,m,n;return(n=f.next(k))?(l=h(k,b,f,g,k,n),m=h(n,c,f,g,k,n),i[a](l,m,d,e,j)):void 0})}},Commander.prototype["plus-chain"]=function(a,b,c){return this._chainer_math(b,c,"plus")},Commander.prototype["minus-chain"]=function(a,b,c){return this._chainer_math(b,c,"minus")},Commander.prototype["multiply-chain"]=function(a,b,c){return this._chainer_math(b,c,"multiply")},Commander.prototype["divide-chain"]=function(a,b,c){return this._chainer_math(b,c,"divide")},Commander.prototype._chainer_math=function(a,b,c){var d,e;return d=this.engine,e=this._e_for_chain,function(f,g,h,i){var j,k;return j=e(f,a,h,i),k=e(g,b,h,i),d[c](j,k)}},Commander.prototype._e_for_chain=function(a,b,c,d,e,f){var g;return g="string"==typeof b?this.engine.elVar(a,b,c.selector):"function"==typeof b?b.call(this,e,f,c,d):b},Commander.prototype["for-each"]=function(a,b,c){var d,e,f,g,h;for(e=b.query,h=e.nodeList,f=0,g=h.length;g>f;f++)d=h[f],c.call(this.engine,d,e,this.engine);return e.on("afterChange",function(){var a,b,f,g;for(f=e.nodeList,g=[],a=0,b=f.length;b>a;a++)d=f[a],g.push(c.call(this.engine,d,e));return g})},Commander.prototype["for-all"]=function(a,b,c){var d,e=this;return d=b.query,c.call(this.engine,d,this.engine),d.on("afterChange",function(){return c.call(e.engine,d,e.engine)})},Commander.prototype.js=function(root,js){return eval("var callback ="+js),callback},Commander}(),module.exports=Commander}),require.register("gss/lib/Thread.js",function(a,b,d){var e,f=[].slice;e=function(){function a(a){var b;null==a&&(a={}),b=a.defaultStrength||"required",this.defaultStrength=c.Strength[b],this.defaultStrength||(this.defaultStrength=c.Strength.required),this.defaultWeight=a.defaultWeight||0,this.setupIfNeeded()}return a.prototype.needsSetup=!0,a.prototype.setupIfNeeded=function(){return this.needsSetup?(this.needsSetup=!1,this.solver=new c.SimplexSolver,this.solver.autoSolve=!1,this.cachedVars={},this.elements={},this.constraintsByTracker={},this.varIdsByTracker={},this.conditionals=[],this.activeClauses=[],this.__editVarNames=[],this):this},a.prototype.postMessage=function(a){return this.execute(a),this},a.prototype.terminate=function(){return this.needsSetup=!0,this.solver=null,this.cachedVars=null,this.constraintsByTracker=null,this.varIdsByTracker=null,this.conditionals=null,this.activeClauses=null,this.__editVarNames=null,this},a.prototype.output=function(){return{values:this.getValues(),clauses:this.activeClauses}},a.prototype.execute=function(a){var b,c,d,e,f;for(this.setupIfNeeded(),c=null,a.uuid&&(c=a.uuid),f=a.commands,d=0,e=f.length;e>d;d++)b=f[d],this._trackRootIfNeeded(b,c),this._execute(b,b);return this},a.prototype._execute=function(a,b){var c,d,e,g,h;if(e=a,c=this[e[0]],null==c)throw new Error("Thread.execute broke - couldn't find method: "+e[0]);for(d=e.length-1;d>0;)g=e[d],g instanceof Array&&(h=this._execute(g,b),"IGNORE"===h?e.splice(d,1):e.splice(d,1,h)),d--;return c.call.apply(c,[this,b].concat(f.call(e.slice(1,e.length))))},a.prototype.getValues=function(){var a,b;this._solve(),b={};for(a in this.cachedVars)b[a]=this.cachedVars[a].value;return b},a.prototype._solve=function(a){var b,c,d,e;if(null==a&&(a=0),this.solver.solve(),this.conditionals.length>0&&0===a){for(e=this.conditionals,c=0,d=e.length;d>c;c++)b=e[c],b.update();return a++,this._solve(a)}},a.prototype.virtual=function(a){return a},a.prototype.track=function(a,b){return this._trackRootIfNeeded(a,b),"IGNORE"},a.prototype._trackRootIfNeeded=function(a,b){return b&&(a._is_tracked=!0,a._trackers||(a._trackers=[]),-1===a._trackers.indexOf(b))?a._trackers.push(b):void 0},a.prototype.remove=function(){var a,b,c,d,e,g;for(a=f.call(arguments),c=f.call(a.slice(1,a.length)),g=[],d=0,e=c.length;e>d;d++)b=c[d],g.push(this._remove(b));return g},a.prototype._remove=function(a){return this._removeConstraintByTracker(a),this._removeVarByTracker(a)},a.prototype._removeVarByTracker=function(a){var b,c,d,e;if(delete this.__editVarNames[a],this.varIdsByTracker[a]){for(e=this.varIdsByTracker[a],c=0,d=e.length;d>c;c++)b=e[c],delete this.cachedVars[b];return delete this.varIdsByTracker[a]}},a.prototype._removeConstraintByTracker=function(a,b){var c,d,e,f,g,h;if(null==b&&(b=!0),this.constraintsByTracker[a]){for(h=this.constraintsByTracker[a],f=0,g=h.length;g>f;f++){c=h[f];try{this.solver.removeConstraint(c)}catch(i){d=i,e="please"}}if(b)return this.constraintsByTracker[a]=null}},a.prototype._addConstraintByTracker=function(a){var b,c,d,e,f;if(this.constraintsByTracker[a]){for(e=this.constraintsByTracker[a],f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.solver.addConstraint(b));return f}},a.prototype.where=function(a,b,c){return a._condition_bound=!0,this._trackRootIfNeeded(a,b),this._trackRootIfNeeded(a,b+c),"IGNORE"},a.prototype.cond=function(){var a,b,c,d,e,g,h;for(a=f.call(arguments),c=[],h=a.slice(1,a.length),e=0,g=h.length;g>e;e++)b=h[e],c.push(b);return d=this,this.conditionals.push({clauses:c,activeLabel:null,update:function(){var a,e,f,g,h;for(a=!1,f=this.activeLabel,g=0,h=c.length;h>g;g++)if(b=c[g],e=b.test()){a=!0;break}if(a){if(f!==e)return null!=f&&(d.activeClauses.splice(d.activeClauses.indexOf(f),1),d._removeConstraintByTracker(f,!1)),d._addConstraintByTracker(e),d.activeClauses.push(e),this.activeLabel=e}else if(null!=f)return d.activeClauses.splice(d.activeClauses.indexOf(f),1),d._removeConstraintByTracker(f,!1)}})},a.prototype.clause=function(a,b,c){return{label:c,test:function(){return c?b?b.call(this)?c:null:c:b}}},a.prototype._valueOf=function(a){var b;return(b=a.value)?b:(b=Number(a),b?b:void 0)},a.prototype["?>="]=function(a,b,c){var d;return d=this._valueOf,function(){return d(b)>=d(c)}},a.prototype["?<="]=function(a,b,c){var d;return d=this._valueOf,function(){return d(b)<=d(c)}},a.prototype["?=="]=function(a,b,c){var d;return d=this._valueOf,function(){return d(b)===d(c)}},a.prototype["?>"]=function(a,b,c){var d;return d=this._valueOf,function(){return d(b)>d(c)}},a.prototype["?<"]=function(a,b,c){var d;return d=this._valueOf,function(){return d(b)<d(c)}},a.prototype["?!="]=function(a,b,c){var d;return d=this._valueOf,function(){return d(b)!==d(c)}},a.prototype["&&"]=function(a,b,c){return b&&c},a.prototype["||"]=function(a,b,c){return b||c},a.prototype.number=function(a,b){return Number(b)},a.prototype._trackVarId=function(a,b){return this.varIdsByTracker[b]||(this.varIdsByTracker[b]=[]),-1===this.varIdsByTracker[b].indexOf(a)?this.varIdsByTracker[b].push(a):void 0},a.prototype["var"]=function(a,b,d){var e;return this.cachedVars[b]?this.cachedVars[b]:(e=new c.Variable({name:b}),d&&(this._trackVarId(b,d),e._tracker=d,e._is_tracked=!0),this.cachedVars[b]=e,e)},a.prototype.varexp=function(a,b,d,e){var f,g;if(f=this.cachedVars,f[b])return f[b];if(!(d instanceof c.Expression))throw new Error("Thread `varexp` requires an instance of c.Expression");return g=this,Object.defineProperty(f,b,{get:function(){var a;return a=d.clone(),e&&(g._trackVarId(b,e),a._tracker=e,a._is_tracked=!0),a}}),d},a.prototype.get$=function(a,b,c,d){return this._trackRootIfNeeded(a,c),d&&this._trackRootIfNeeded(a,d+c),this._get$(b,c)},a.prototype._get$=function(a,b){var d,e;switch(e=b+("["+a+"]"),a){case"right":return d=c.plus(this._get$("x",b),this._get$("width",b)),this.varexp(null,e,d,b);case"bottom":return d=c.plus(this._get$("y",b),this._get$("height",b)),this.varexp(null,e,d,b);case"center-x":return d=c.plus(this._get$("x",b),c.divide(this._get$("width",b),2)),this.varexp(null,e,d,b);case"center-y":return d=c.plus(this._get$("y",b),c.divide(this._get$("height",b),2)),this.varexp(null,e,d,b);default:return this["var"](null,e,b)}},a.prototype.get=function(a,b,c){var d;return c&&this._trackRootIfNeeded(a,c),d=this.cachedVars[b],d?(this._trackRootIfNeeded(a,d.tracker),d):d=this["var"](null,b)},a.prototype.plus=function(a,b,d){return c.plus(b,d)},a.prototype.minus=function(a,b,d){return c.minus(b,d)},a.prototype.multiply=function(a,b,d){return c.times(b,d)},a.prototype.divide=function(a,b,d){return c.divide(b,d)},a.prototype._strength=function(a){var b;return"string"==typeof a&&("require"===a&&(a="required"),b=c.Strength[a])?b:this.defaultStrength},a.prototype._weight=function(a){return"number"==typeof a?a:this.defaultWeight},a.prototype._addConstraint=function(a,b){var c,d,e,f;if(a._condition_bound||this.solver.addConstraint(b),a._is_tracked)for(f=a._trackers,d=0,e=f.length;e>d;d++)c=f[d],this.constraintsByTracker[c]||(this.constraintsByTracker[c]=[]),this.constraintsByTracker[c].push(b);return b},a.prototype.eq=function(a,b,d,e,f){return this._addConstraint(a,new c.Equation(b,d,this._strength(e),this._weight(f)))},a.prototype.lte=function(a,b,d,e,f){return this._addConstraint(a,new c.Inequality(b,c.LEQ,d,this._strength(e),this._weight(f)))},a.prototype.gte=function(a,b,d,e,f){return this._addConstraint(a,new c.Inequality(b,c.GEQ,d,this._strength(e),this._weight(f)))},a.prototype.lt=function(a,b,d,e,f){return this._addConstraint(a,new c.Inequality(b,c.LEQ,d,this._strength(e),this._weight(f)))},a.prototype.gt=function(a,b,d,e,f){return this._addConstraint(a,new c.Inequality(b,c.GEQ,d,this._strength(e),this._weight(f)))},a.prototype._editvar=function(a,b,c){return-1===this.__editVarNames.indexOf(a.name)&&(this.__editVarNames.push(a.name),this.solver.addEditVar(a,this._strength(b),this._weight(c))),this},a.prototype.suggest=function(a,b,c,d,e){return null==d&&(d="strong"),"string"==typeof b&&(b=this.get(a,b)),this._editvar(b,d,e),this.solver.suggestValue(b,c),this.solver.resolve()},a.prototype.stay=function(){var a,b,c,d,e;for(a=f.call(arguments),e=a.slice(1,a.length),c=0,d=e.length;d>c;c++)b=e[c],this.solver.addStay(b);return this.solver},a}(),("undefined"!=typeof d&&null!==d?d.exports:void 0)&&(d.exports=e)}),require.register("gss/lib/dom/Getter.js",function(a,b,c){var d,e,f;e=function(){var a,b,c,d;return a=document.createElement("p"),a.style.width="100%",a.style.height="200px",b=document.createElement("div"),b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.visibility="hidden",b.style.width="200px",b.style.height="150px",b.style.overflow="hidden",b.style.zoom="document",b.appendChild(a),document.body.appendChild(b),c=a.offsetWidth,b.style.overflow="scroll",d=a.offsetWidth,c===d&&(d=b.clientWidth),document.body.removeChild(b),c-d},f=null,d=function(){function a(a){this.scope=a,this.styleNodes=null,this.scope||(this.scope=document)}return a.prototype.clean=function(){},a.prototype.destroy=function(){return this.scope=null,this.styleNodes=null},a.prototype.scrollbarWidth=function(){return f||(f=e()),f},a.prototype.get=function(a){var b,c;switch(c=a[0],b=a[1],c){case"$reserved":if("this"===b)return this.scope;break;case"$id":return"#"===b[0]&&(b=b.substr(1)),document.getElementById(b);case"$class":return"."===b[0]&&(b=b.substr(1)),this.scope.getElementsByClassName(b);case"$tag":return this.scope.getElementsByTagName(b)}return this.scope.querySelectorAll(b)},a.prototype.measure=function(a,b){var c;switch(b){case"width":case"w":return a.getBoundingClientRect().width;case"height":case"h":return a.getBoundingClientRect().height;case"left":case"x":return c=window.scrollX||window.scrollLeft||0,a.getBoundingClientRect().left+c;case"top":case"y":return c=window.scrollY||window.scrollTop||0,a.getBoundingClientRect().top+c;case"bottom":return this.measure(a,"top")+this.measure(a,"height");case"right":return this.measure(a,"left")+this.measure(a,"width");case"centerX":return this.measure(a,"left")+this.measure(a,"width")/2;case"centerY":return this.measure(a,"top")+this.measure(a,"height")/2}},a.prototype.offsets=function(a){var b;if(b={x:0,y:0},!a.offsetParent)return b;for(a=a.offsetParent;;){if(b.x+=a.offsetLeft,b.y+=a.offsetTop,!a.offsetParent)break;a=a.offsetParent}return b},a.prototype.view=function(a){return"string"==typeof a?GSS.View.byId[a]:GSS.View.byId[GSS.getId(a)]},a.prototype.getAllStyleNodes=function(){return this.scope.getElementsByTagName("style")},a.prototype.readAllASTs=function(){var a,b,c,d,e,f;for(b=[],f=this.getAllStyleNodes(),d=0,e=f.length;e>d;d++)c=f[d],a=this.readAST(c),a&&b.push(a);return b},a.prototype.scopeFor=function(a){return this.isStyleNode(a)?this.scopeForStyleNode(a):this.nearestScope(a)},a.prototype.isStyleNode=function(a){var b,c;return c=null!=a?a.tagName:void 0,"STYLE"!==c&&"LINK"!==c||!(b="function"==typeof a.getAttribute?a.getAttribute("type"):void 0)?!1:0===b.indexOf("text/gss")},a.prototype.scopeForStyleNode=function(b){var c;return c=b.getAttribute("scoped"),null!=c&&"false"!==c?b.parentElement:a.getRootScope()
},a.prototype.isScope=function(a){return!!(null!=a?a._gss_is_scope:void 0)},a.prototype.nearestScope=function(a,b){for(null==b&&(b=!1),b&&(a=a.parentElement);a.parentElement;){if(this.isScope(a))return a;a=a.parentElement}return null},a.prototype.nearestEngine=function(a,b){var c;return null==b&&(b=!1),c=this.nearestScope(a,b),c?this.engine(c):null},a.prototype.descdendantNodes=function(a){return a.getElementsByTagName("*")},a.prototype.engine=function(a){return GSS.engines.byId[GSS.getId(a)]},a.prototype.readAST=function(a){var b,c;return b=a.getAttribute("type"),c=this["readAST:"+b],c?c.call(this,a):null},a.prototype["readAST:text/gss-ast"]=function(a){var b,c,d;if(d=a.textContent.trim(),0===d.length)return{};try{b=JSON.parse(d)}catch(e){c=e,console.error("Parsing compiled gss error",console.dir(c))}return b},a.prototype["readAST:text/gss"]=function(){throw new Error("did not include GSS's compilers")},a}(),d.getRootScope=function(){return"undefined"==typeof ShadowDOMPolyfill||null===ShadowDOMPolyfill?document.body:ShadowDOMPolyfill.wrap(document.body)},c.exports=d}),require.register("gss/lib/dom/IdMixin.js",function(a,b,c){var d,e;e=GSS._.boxSizingPrefix,d={uid:function(){return this._id_counter++},_id_counter:1,_byIdCache:{},_ids_killed:function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this._id_killed(b));return e},_id_killed:function(a){var b;return this._byIdCache[a]=null,delete this._byIdCache[a],null!=(b=GSS.View.byId[a])?"function"==typeof b.recycle?b.recycle():void 0:void 0},getById:function(a){var b;return this._byIdCache[a]?this._byIdCache[a]:(b=document.querySelector('[data-gss-id="'+a+'"]'),b&&(this._byIdCache[a]=b),b)},setupScopeId:function(a){return a._gss_is_scope=!0,this.setupId(a)},setupId:function(a){var b,c;return a?(b=this.getId(a),null==b&&(c=this.uid(),b=String(a.id||c),a.setAttribute("data-gss-id",b),a.style[e]="border-box",a._gss_id=b,GSS.View["new"]({el:a,id:b}),null!=this._byIdCache[b]&&GSS.warn("element by id cache replaced gss-id: "+b)),this._byIdCache[b]=a,b):null},getId:function(a){return(null!=a?a._gss_id:void 0)?null!=a?a._gss_id:void 0:null}},c.exports=d}),require.register("gss/vendor/gl-matrix.js",function(a){!function(b){"use strict";var c={};"undefined"==typeof a?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(c.exports={},define(function(){return c.exports})):c.exports="undefined"!=typeof window?window:b:c.exports=a,function(a){if(!b)var b=1e-6;if(!c)var c="undefined"!=typeof Float32Array?Float32Array:Array;if(!d)var d=Math.random;var e={};e.setMatrixArrayType=function(a){c=a},"undefined"!=typeof a&&(a.glMatrix=e);var f=Math.PI/180;e.toRadian=function(a){return a*f};var g={};g.create=function(){var a=new c(2);return a[0]=0,a[1]=0,a},g.clone=function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},g.fromValues=function(a,b){var d=new c(2);return d[0]=a,d[1]=b,d},g.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},g.set=function(a,b,c){return a[0]=b,a[1]=c,a},g.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},g.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},g.sub=g.subtract,g.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},g.mul=g.multiply,g.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},g.div=g.divide,g.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},g.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a},g.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},g.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},g.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},g.dist=g.distance,g.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},g.sqrDist=g.squaredDistance,g.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},g.len=g.length,g.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},g.sqrLen=g.squaredLength,g.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},g.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},g.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},g.cross=function(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a},g.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},g.random=function(a,b){b=b||1;var c=2*d()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a},g.transformMat2=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a},g.transformMat2d=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},g.transformMat3=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a},g.transformMat4=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a},g.forEach=function(){var a=g.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),g.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},"undefined"!=typeof a&&(a.vec2=g);var h={};h.create=function(){var a=new c(3);return a[0]=0,a[1]=0,a[2]=0,a},h.clone=function(a){var b=new c(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},h.fromValues=function(a,b,d){var e=new c(3);return e[0]=a,e[1]=b,e[2]=d,e},h.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a},h.set=function(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a},h.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},h.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},h.sub=h.subtract,h.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a},h.mul=h.multiply,h.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a},h.div=h.divide,h.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a},h.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a},h.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},h.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a},h.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},h.dist=h.distance,h.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},h.sqrDist=h.squaredDistance,h.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},h.len=h.length,h.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},h.sqrLen=h.squaredLength,h.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},h.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a},h.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},h.cross=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a},h.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a},h.random=function(a,b){b=b||1;var c=2*d()*Math.PI,e=2*d()-1,f=Math.sqrt(1-e*e)*b;return a[0]=Math.cos(c)*f,a[1]=Math.sin(c)*f,a[2]=e*b,a},h.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12],a[1]=c[1]*d+c[5]*e+c[9]*f+c[13],a[2]=c[2]*d+c[6]*e+c[10]*f+c[14],a},h.transformMat3=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a},h.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},h.forEach=function(){var a=h.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),h.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},"undefined"!=typeof a&&(a.vec3=h);var i={};i.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},i.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},i.fromValues=function(a,b,d,e){var f=new c(4);return f[0]=a,f[1]=b,f[2]=d,f[3]=e,f},i.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},i.set=function(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a},i.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},i.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},i.sub=i.subtract,i.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a},i.mul=i.multiply,i.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a},i.div=i.divide,i.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a},i.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a},i.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},i.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a},i.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},i.dist=i.distance,i.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},i.sqrDist=i.squaredDistance,i.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},i.len=i.length,i.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},i.sqrLen=i.squaredLength,i.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},i.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g,a[3]=b[3]*g),a},i.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},i.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a},i.random=function(a,b){return b=b||1,a[0]=d(),a[1]=d(),a[2]=d(),a[3]=d(),i.normalize(a,a),i.scale(a,a,b),a},i.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a},i.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},i.forEach=function(){var a=i.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),i.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.vec4=i);var j={};j.create=function(){var a=new c(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},j.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},j.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},j.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null},j.adjoint=function(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a},j.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},j.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+e*j,a[1]=d*i+e*k,a[2]=f*h+g*j,a[3]=f*i+g*k,a},j.mul=j.multiply,j.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=d*-h+e*i,a[2]=f*i+g*h,a[3]=f*-h+g*i,a},j.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*i,a[2]=f*h,a[3]=g*i,a},j.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.mat2=j);var k={};k.create=function(){var a=new c(6);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.clone=function(a){var b=new c(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},k.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},k.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null},k.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},k.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+e*l,a[1]=d*k+e*m,a[2]=f*j+g*l,a[3]=f*k+g*m,a[4]=j*h+l*i+n,a[5]=k*h+m*i+o,a},k.mul=k.multiply,k.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+e*j,a[1]=-d*j+e*k,a[2]=f*k+g*j,a[3]=-f*j+k*g,a[4]=k*h+j*i,a[5]=k*i-j*h,a},k.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},k.translate=function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},k.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},"undefined"!=typeof a&&(a.mat2d=k);var l={};l.create=function(){var a=new c(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.fromMat4=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a},l.clone=function(a){var b=new c(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},l.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},l.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null},l.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a},l.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},l.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a},l.mul=l.multiply,l.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a},l.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a},l.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},l.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[3]=k-r,a[6]=m+q,a[1]=k+r,a[4]=1-j-o,a[7]=n-p,a[2]=m-q,a[5]=n+p,a[8]=1-j-l,a},l.normalFromMat4=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E,a):null},l.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},"undefined"!=typeof a&&(a.mat3=l);var m={};m.create=function(){var a=new c(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.clone=function(a){var b=new c(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},m.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},m.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null},m.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15];return a[0]=h*(m*r-n*q)-l*(i*r-j*q)+p*(i*n-j*m),a[1]=-(d*(m*r-n*q)-l*(e*r-f*q)+p*(e*n-f*m)),a[2]=d*(i*r-j*q)-h*(e*r-f*q)+p*(e*j-f*i),a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i)),a[4]=-(g*(m*r-n*q)-k*(i*r-j*q)+o*(i*n-j*m)),a[5]=c*(m*r-n*q)-k*(e*r-f*q)+o*(e*n-f*m),a[6]=-(c*(i*r-j*q)-g*(e*r-f*q)+o*(e*j-f*i)),a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i),a[8]=g*(l*r-n*p)-k*(h*r-j*p)+o*(h*n-j*l),a[9]=-(c*(l*r-n*p)-k*(d*r-f*p)+o*(d*n-f*l)),a[10]=c*(h*r-j*p)-g*(d*r-f*p)+o*(d*j-f*h),a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l)),a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l),a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h)),a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h),a},m.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},m.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a},m.mul=m.multiply,m.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=c[0],u=c[1],v=c[2];return d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],a[0]=d+g*t,a[1]=e+g*u,a[2]=f+g*v,a[3]=g,a[4]=h+k*t,a[5]=i+k*u,a[6]=j+k*v,a[7]=k,a[8]=l+o*t,a[9]=m+o*u,a[10]=n+o*v,a[11]=o,a[12]=p+s*t,a[13]=q+s*u,a[14]=r+s*v,a[15]=s,a},m.scale=function(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.rotate=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=e[0],E=e[1],F=e[2],G=Math.sqrt(D*D+E*E+F*F);return Math.abs(G)<b?null:(G=1/G,D*=G,E*=G,F*=G,f=Math.sin(d),g=Math.cos(d),h=1-g,i=c[0],j=c[1],k=c[2],l=c[3],m=c[4],n=c[5],o=c[6],p=c[7],q=c[8],r=c[9],s=c[10],t=c[11],u=D*D*h+g,v=E*D*h+F*f,w=F*D*h-E*f,x=D*E*h-F*f,y=E*E*h+g,z=F*E*h+D*f,A=D*F*h+E*f,B=E*F*h-D*f,C=F*F*h+g,a[0]=i*u+m*v+q*w,a[1]=j*u+n*v+r*w,a[2]=k*u+o*v+s*w,a[3]=l*u+p*v+t*w,a[4]=i*x+m*y+q*z,a[5]=j*x+n*y+r*z,a[6]=k*x+o*y+s*z,a[7]=l*x+p*y+t*z,a[8]=i*A+m*B+q*C,a[9]=j*A+n*B+r*C,a[10]=k*A+o*B+s*C,a[11]=l*A+p*B+t*C,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)},m.rotateX=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a},m.rotateY=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a},m.rotateZ=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a},m.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},m.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*g*f*j,a[15]=0,a},m.perspective=function(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a},m.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a},m.lookAt=function(a,c,d,e){var f,g,h,i,j,k,l,n,o,p,q=c[0],r=c[1],s=c[2],t=e[0],u=e[1],v=e[2],w=d[0],x=d[1],y=d[2];return Math.abs(q-w)<b&&Math.abs(r-x)<b&&Math.abs(s-y)<b?m.identity(a):(l=q-w,n=r-x,o=s-y,p=1/Math.sqrt(l*l+n*n+o*o),l*=p,n*=p,o*=p,f=u*o-v*n,g=v*l-t*o,h=t*n-u*l,p=Math.sqrt(f*f+g*g+h*h),p?(p=1/p,f*=p,g*=p,h*=p):(f=0,g=0,h=0),i=n*h-o*g,j=o*f-l*h,k=l*g-n*f,p=Math.sqrt(i*i+j*j+k*k),p?(p=1/p,i*=p,j*=p,k*=p):(i=0,j=0,k=0),a[0]=f,a[1]=i,a[2]=l,a[3]=0,a[4]=g,a[5]=j,a[6]=n,a[7]=0,a[8]=h,a[9]=k,a[10]=o,a[11]=0,a[12]=-(f*q+g*r+h*s),a[13]=-(i*q+j*r+k*s),a[14]=-(l*q+n*r+o*s),a[15]=1,a)},m.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},"undefined"!=typeof a&&(a.mat4=m);var n={};n.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.rotationTo=function(){var a=h.create(),b=h.fromValues(1,0,0),c=h.fromValues(0,1,0);return function(d,e,f){var g=h.dot(e,f);return-.999999>g?(h.cross(a,b,e),h.length(a)<1e-6&&h.cross(a,c,e),h.normalize(a,a),n.setAxisAngle(d,a,Math.PI),d):g>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(h.cross(a,e,f),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+g,n.normalize(d,d))}}(),n.setAxes=function(){var a=l.create();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],n.normalize(b,n.fromMat3(b,a))}}(),n.clone=i.clone,n.fromValues=i.fromValues,n.copy=i.copy,n.set=i.set,n.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.setAxisAngle=function(a,b,c){c=.5*c;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a},n.add=i.add,n.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a},n.mul=n.multiply,n.scale=i.scale,n.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a},n.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a},n.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a},n.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a},n.dot=i.dot,n.lerp=i.lerp,n.slerp=function(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],n=c[0],o=c[1],p=c[2],q=c[3];return f=j*n+k*o+l*p+m*q,0>f&&(f=-f,n=-n,o=-o,p=-p,q=-q),1-f>1e-6?(e=Math.acos(f),g=Math.sin(e),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*n,a[1]=h*k+i*o,a[2]=h*l+i*p,a[3]=h*m+i*q,a},n.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a},n.conjugate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a},n.length=i.length,n.len=n.length,n.squaredLength=i.squaredLength,n.sqrLen=n.squaredLength,n.normalize=i.normalize,n.fromMat3=function(a,b){var c,d=b[0]+b[4]+b[8];if(d>0)c=Math.sqrt(d+1),a[3]=.5*c,c=.5/c,a[0]=(b[7]-b[5])*c,a[1]=(b[2]-b[6])*c,a[2]=(b[3]-b[1])*c;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;c=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*c,c=.5/c,a[3]=(b[3*g+f]-b[3*f+g])*c,a[f]=(b[3*f+e]+b[3*e+f])*c,a[g]=(b[3*g+e]+b[3*e+g])*c}return a},n.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.quat=n)}(c.exports)}(this)}),require.alias("the-gss-compiler/lib/gss-compiler.js","gss/deps/gss-compiler/lib/gss-compiler.js"),require.alias("the-gss-compiler/lib/gss-compiler.js","gss/deps/gss-compiler/index.js"),require.alias("the-gss-compiler/lib/gss-compiler.js","gss-compiler/index.js"),require.alias("the-gss-preparser/lib/gss-preparser.js","the-gss-compiler/deps/gss-preparser/lib/gss-preparser.js"),require.alias("the-gss-preparser/lib/gss-preparser.js","the-gss-compiler/deps/gss-preparser/index.js"),require.alias("the-gss-preparser/lib/gss-preparser.js","the-gss-preparser/index.js"),require.alias("the-gss-ccss-compiler/lib/ccss-compiler.js","the-gss-compiler/deps/ccss-compiler/lib/ccss-compiler.js"),require.alias("the-gss-ccss-compiler/lib/ccss-compiler.js","the-gss-compiler/deps/ccss-compiler/index.js"),require.alias("the-gss-ccss-compiler/lib/ccss-compiler.js","the-gss-ccss-compiler/index.js"),require.alias("the-gss-vfl-compiler/lib/vfl-compiler.js","the-gss-compiler/deps/vfl-compiler/lib/vfl-compiler.js"),require.alias("the-gss-vfl-compiler/lib/compiler.js","the-gss-compiler/deps/vfl-compiler/lib/compiler.js"),require.alias("the-gss-vfl-compiler/lib/compiler.js","the-gss-compiler/deps/vfl-compiler/index.js"),require.alias("the-gss-vfl-compiler/lib/compiler.js","the-gss-vfl-compiler/index.js"),require.alias("the-gss-vgl-compiler/lib/vgl-compiler.js","the-gss-compiler/deps/vgl-compiler/lib/vgl-compiler.js"),require.alias("the-gss-vgl-compiler/lib/compiler.js","the-gss-compiler/deps/vgl-compiler/lib/compiler.js"),require.alias("the-gss-vgl-compiler/lib/compiler.js","the-gss-compiler/deps/vgl-compiler/index.js"),require.alias("the-gss-vgl-compiler/lib/compiler.js","the-gss-vgl-compiler/index.js"),require.alias("the-gss-compiler/lib/gss-compiler.js","the-gss-compiler/index.js"),require.alias("d4tocchini-customevent-polyfill/CustomEvent.js","gss/deps/customevent-polyfill/CustomEvent.js"),require.alias("d4tocchini-customevent-polyfill/CustomEvent.js","gss/deps/customevent-polyfill/index.js"),require.alias("d4tocchini-customevent-polyfill/CustomEvent.js","customevent-polyfill/index.js"),require.alias("d4tocchini-customevent-polyfill/CustomEvent.js","d4tocchini-customevent-polyfill/index.js"),require.alias("slightlyoff-cassowary.js/index.js","gss/deps/cassowary/index.js"),require.alias("slightlyoff-cassowary.js/src/c.js","gss/deps/cassowary/src/c.js"),require.alias("slightlyoff-cassowary.js/src/HashTable.js","gss/deps/cassowary/src/HashTable.js"),require.alias("slightlyoff-cassowary.js/src/HashSet.js","gss/deps/cassowary/src/HashSet.js"),require.alias("slightlyoff-cassowary.js/src/Error.js","gss/deps/cassowary/src/Error.js"),require.alias("slightlyoff-cassowary.js/src/SymbolicWeight.js","gss/deps/cassowary/src/SymbolicWeight.js"),require.alias("slightlyoff-cassowary.js/src/Strength.js","gss/deps/cassowary/src/Strength.js"),require.alias("slightlyoff-cassowary.js/src/Variable.js","gss/deps/cassowary/src/Variable.js"),require.alias("slightlyoff-cassowary.js/src/Point.js","gss/deps/cassowary/src/Point.js"),require.alias("slightlyoff-cassowary.js/src/Expression.js","gss/deps/cassowary/src/Expression.js"),require.alias("slightlyoff-cassowary.js/src/Constraint.js","gss/deps/cassowary/src/Constraint.js"),require.alias("slightlyoff-cassowary.js/src/EditInfo.js","gss/deps/cassowary/src/EditInfo.js"),require.alias("slightlyoff-cassowary.js/src/Tableau.js","gss/deps/cassowary/src/Tableau.js"),require.alias("slightlyoff-cassowary.js/src/SimplexSolver.js","gss/deps/cassowary/src/SimplexSolver.js"),require.alias("slightlyoff-cassowary.js/src/Timer.js","gss/deps/cassowary/src/Timer.js"),require.alias("slightlyoff-cassowary.js/src/parser/parser.js","gss/deps/cassowary/src/parser/parser.js"),require.alias("slightlyoff-cassowary.js/src/parser/api.js","gss/deps/cassowary/src/parser/api.js"),require.alias("slightlyoff-cassowary.js/index.js","cassowary/index.js"),require.alias("gss/lib/GSS-with-compiler.js","gss/index.js"),"object"==typeof exports?module.exports=require("gss"):"function"==typeof define&&define.amd?define([],function(){return require("gss")
}):this.gss=require("gss")}();